
#+SETUPFILE: ./web/ver.org
#+TITLE: D-Hadronic Analysis  - 10.1 - Progress


* 281/pb 

  - [[./src/10.1.7/dot/p281.png][diagram - 281/pb]]

** Generate Signal MC Samples (10.1.1) [100%]

*** DONE Setup Env
    :LOGBOOK:
    CLOCK: [2010-01-08 Fri 08:39]--[2010-01-08 Fri 12:08] =>  3:29
    CLOCK: [2010-01-07 Thu 14:25]--[2010-01-07 Thu 16:26] =>  2:01
    CLOCK: [2009-05-19 Tue 16:02]--[2009-05-19 Tue 17:01] =>  0:59
    CLOCK: [2009-05-19 Tue 14:39]--[2009-05-19 Tue 15:52] =>  1:13
    CLOCK: [2009-05-19 Tue 10:42]--[2009-05-19 Tue 12:12] =>  1:30
    :END:

    Tag the current src with name V03-00-16
    
    : cd $dhad/src/3.0.16
    : cvs tag V03-00-16

    Set up 10.1.1

    : setdhad 10.1.1
    
    Update ana version in DHad.py ... done.
*** DONE Calculate the the run list for the 537/pb data 
     :LOGBOOK:
     CLOCK: [2010-01-08 Fri 12:42]--[2010-01-08 Fri 13:47] =>  1:05
     :END:

     https://wiki.lepp.cornell.edu/lepp/bin/view/CLEO/Private/SW/DatasetSummary

     | dataset | run range       |
     |---------+-----------------|
     | data43  | 220898 - 223271 |
     | data44  | 223279 - 226042 |
     | data45  | 226429 - 228271 |
     | data46  | 228285 - 230130 |

     Processed ntuple size from each dataset:

     | dataset | ntuple size [G] | calculated run no. | assigned |
     |---------+-----------------+--------------------+----------|
     | data43  |             2.7 |                4.5 |        4 |
     | data44  |             4.0 |                6.7 |        7 |
     | data45  |             2.1 |                3.5 |        4 |
     | data46  |             3.1 |                5.2 |        5 |
     #+TBLFM: $3=(20/11.9)*$2;%.1f 
    
     Pick up runs from the range:

     | dataset | run begin | ran end | assigned | inter |
     |---------+-----------+---------+----------+-------|
     | data43  |    220898 |  223271 |        4 |   791 |
     | data44  |    223279 |  226042 |        7 |   460 |
     | data45  |    226429 |  228271 |        4 |   614 |
     | data46  |    228285 |  230130 |        5 |   461 |
     #+TBLFM: $5=($3-$2)/($4-1);%.f

     |        | selected runs |
     |--------+---------------|
     | $      |       i43=791 |
     | data43 |        220898 |
     |        |        221689 |
     |        |        222480 |
     |        |        223271 |
     | $      |       i44=460 |
     | data44 |        223279 |
     |        |        223739 |
     |        |        224199 |
     |        |        224659 |
     |        |        225119 |
     |        |        225579 |
     |        |        226039 |
     | $      |       i45=614 |
     | data45 |        226429 |
     |        |        227043 |
     |        |        227657 |
     |        |        228271 |
     | $      |       i46=461 |
     | data46 |        228285 |
     |        |        228746 |
     |        |        229207 |
     |        |        229668 |
     |        |        230129 |
     #+TBLFM: @4$2=@3$2+$i43::@5$2=@4$2+$i43::@6$2=@5$2+$i43::@9$2=@8$2+$i44::@10$2=@9$2+$i44::@11$2=@10$2+$i44::@12$2=@11$2+$i44::@13$2=@12$2+$i44::@14$2=@13$2+$i44::@17$2=@16$2+$i45::@18$2=@17$2+$i45::@19$2=@18$2+$i45::@22$2=@21$2+$i46::@23$2=@22$2+$i46::@24$2=@23$2+$i46::@25$2=@24$2+$i46

*** DONE Check the number of events in the selected runs
    :LOGBOOK:
    CLOCK: [2010-01-08 Fri 13:48]--[2010-01-08 Fri 14:03] =>  0:15
    CLOCK: [2010-01-08 Fri 14:03]--[2010-01-08 Fri 15:26] =>  1:23
    :END:

    - Data 43
      
      : dhad-10.1.1 check nevents data43 220898
      : dhad-10.1.1 check nevents data43 221689
      : dhad-10.1.1 check nevents data43 222480
      : dhad-10.1.1 check nevents data43 223271
      

       |    Run | NEvents | Replace Run | NEvent |
       |--------+---------+-------------+--------|
       | 220898 |     181 |      221006 |    990 |
       | 221689 |       0 |      220956 |    739 |
       | 222480 |    1746 |             |        |
       | 223271 |    1912 |             |        |

       - Check adjacent runs...

	 : dhad-10.1.1 check nevents data43 220898-221024
         |    Run | NEvents |
         |--------+---------|
         | 220898 |     181 |
         | 220899 |     210 |
         | 220900 |     268 |
         | 220901 |     471 |
         | 220902 |     292 |
         | 220904 |     236 |
         | 220929 |     511 |
         | 220930 |     374 |
         | 220931 |     403 |
         | 220932 |     372 |
         | 220933 |     464 |
         | 220934 |     414 |
         | 220936 |     581 |
         | 220937 |     558 |
         | 220938 |     441 |
         | 220939 |     453 |
         | 220940 |     479 |
         | 220941 |     332 |
         | 220952 |     158 |
         | 220953 |     286 |
         | 220954 |     380 |
         | 220955 |     448 |
         | 220956 |     739 |
         | 220959 |     260 |
         | 220960 |     315 |
         | 220961 |     480 |
         | 220962 |     322 |
         | 220963 |     709 |
         | 220964 |     510 |
         | 220965 |     666 |
         | 220966 |     524 |
         | 220967 |     540 |
         | 220968 |     276 |
         | 220973 |     600 |
         | 220974 |     637 |
         | 220975 |     603 |
         | 220976 |     534 |
         | 220977 |     474 |
         | 220978 |     662 |
         | 220979 |     620 |
         | 220980 |     695 |
         | 220982 |     737 |
         | 220983 |     713 |
         | 220984 |     744 |
         | 220985 |     818 |
         | 220986 |     848 |
         | 220987 |     838 |
         | 220988 |     826 |
         | 220989 |     746 |
         | 220990 |     666 |
         | 220991 |     342 |
         | 220993 |     674 |
         | 220995 |     776 |
         | 220996 |     741 |
         | 220997 |     674 |
         | 220998 |     739 |
         | 220999 |     781 |
         | 221000 |     779 |
         | 221001 |     759 |
         | 221002 |     802 |
         | 221004 |     817 |
         | 221005 |     819 |
         | 221006 |     990 |


	 : dhad-10.1.1 check nevents data43 220689-220966
         |    Run | NEvents |
         |--------+---------|
         | 220898 |     181 |
         | 220899 |     210 |
         | 220900 |     268 |
         | 220901 |     471 |
         | 220902 |     292 |
         | 220904 |     236 |
         | 220929 |     511 |
         | 220930 |     374 |
         | 220931 |     403 |
         | 220932 |     372 |
         | 220933 |     464 |
         | 220934 |     414 |
         | 220936 |     581 |
         | 220937 |     558 |
         | 220938 |     441 |
         | 220939 |     453 |
         | 220940 |     479 |
         | 220941 |     332 |
         | 220952 |     158 |
         | 220953 |     286 |
         | 220954 |     380 |
         | 220955 |     448 |
         | 220956 |     739 |
         | 220959 |     260 |
         | 220960 |     315 |
         | 220961 |     480 |
         | 220962 |     322 |
         | 220963 |     709 |
         | 220964 |     510 |
         | 220965 |     666 |
         | 220966 |     524 |


	 
    - Data 44

      : dhad-10.1.1 check nevents data44 223279
      : dhad-10.1.1 check nevents data44 223739
      : dhad-10.1.1 check nevents data44 224199
      : dhad-10.1.1 check nevents data44 224659
      : dhad-10.1.1 check nevents data44 225119
      : dhad-10.1.1 check nevents data44 225579
      : dhad-10.1.1 check nevents data44 226039

       |    Run | NEvents | Replace Run | NEvents |
       |--------+---------+-------------+---------|
       | 223279 |     774 |      223281 |    1510 |
       | 223739 |    1823 |             |         |
       | 224199 |    1493 |             |         |
       | 224659 |    1489 |             |         |
       | 225119 |    1762 |             |         |
       | 225579 |       0 |      225581 |    1403 |
       | 226039 |    1812 |             |         |

      - Check adjacent runs 

	: dhad-10.1.1 check nevents data44 223280
	: dhad-10.1.1 check nevents data44 223281
	: dhad-10.1.1 check nevents data44 225580
	: dhad-10.1.1 check nevents data44 225581

        |    Run | NEvents |
        |--------+---------|
        | 223280 |       0 |
        | 223281 |    1510 |
        | 225580 |       0 |
        | 225581 |    1403 |
  
    - Data 45

      : dhad-10.1.1 check nevents data45 226429
      : dhad-10.1.1 check nevents data45 227043
      : dhad-10.1.1 check nevents data45 227657
      : dhad-10.1.1 check nevents data45 228271

      |    Run | NEvents | Replace Run | NEvents |
      |--------+---------+-------------+---------|
      | 226429 |     656 |      226434 |    1420 |
      | 227043 |    1027 |             |         |
      | 227657 |     576 |      227661 |    1304 |
      | 228271 |    1848 |             |         |

       - Check adjacent runs:
	 : dhad-10.1.1 check nevents data45 226430
	 : dhad-10.1.1 check nevents data45 227658

         |    Run | NEvents |
         |--------+---------|
         | 226430 |       0 |
         | 226431 |     433 |
         | 226432 |     839 |
         | 226433 |     376 |
         | 226434 |    1420 |
         | 227658 |     475 |
         | 227659 |     134 |
         | 227660 |       0 |
         | 227661 |    1304 |
  

    - Data 46 

      : dhad-10.1.1 check nevents data46 228285
      : dhad-10.1.1 check nevents data46 228746
      : dhad-10.1.1 check nevents data46 229207
      : dhad-10.1.1 check nevents data46 229668
      : dhad-10.1.1 check nevents data46 230129

      |    Run | NEvents |
      |--------+---------|
      | 228285 |    1390 |
      | 228746 |    2168 |
      | 229207 |    1647 |
      | 229668 |    1879 |
      | 230129 |    1604 | 

*** DONE List the final run number
    :LOGBOOK:
    CLOCK: [2010-01-08 Fri 15:26]--[2010-01-08 Fri 15:30] =>  0:04
    :END:
    
    221006
    220956 
    222480
    223271

    223281
    223739
    224199
    224659
    225119
    225581
    226039
    
    226434 
    227043
    227661
    228271 

    228285
    228746
    229207
    229668
    230129

*** DONE CLEOG for one run 
    :LOGBOOK:
    CLOCK: [2010-01-08 Fri 15:30]--[2010-01-08 Fri 17:20] =>  1:50
    :END:

    Test for one run:

    : dhad-10.1.1 gen cleog Single_Dp_to_Kspipipi task 11 --test 

    Copy the needed files. 

    : cd $src/gen
    : cp $dhad/src/3.0/gen/cleog-generic-array.sh .
    : cp $dhad/src/3.0/gen/genmc_anders.tcl .      
    : cp $dhad/src/3.0/gen/runlist . 
    : cp -r $dhad/src/3.0/gen/tag_decfiles . 

    Test the old run:

    : dhad-10.1.1 gen cleog Single_Dp_to_Kspipipi task 2... OK.

    Add lines in the runlist ... OK.

    : dhad-10.1.1 gen cleog Single_Dp_to_Kspipipi task 11 ... OK.

    Add other lines in the runlist ... OK.

    Test the last one and the beyond ... 

    : dhad-10.1.1 gen cleog Single_Dp_to_Kspipipi task 30 ... OK.
    : dhad-10.1.1 gen cleog Single_Dp_to_Kspipipi task 31 ... OK.

*** DONE CLEOG for one mode
    :LOGBOOK:
    CLOCK: [2010-01-11 Mon 11:46]--[2010-01-11 Mon 12:16] =>  0:30
    CLOCK: [2010-01-11 Mon 09:02]--[2010-01-11 Mon 11:02] =>  2:00
    :END:


    : dhad-10.1.1 gen cleog Single_Dp_to_Kspipipi 537ipb --test OK.
    : dhad-10.1.1 gen cleog Single_Dp_to_Kspipipi 537ipb ... done.

    : dhad-10.1.1 check cleog Single_Dp_to_Kspipipi 537ipb ... done.

    Revise the code to use mode only.

    Clean the files ...

    : dhad-10.1.1 gen cleog Single_Dp_to_Kspipipi 537ipb ... OK.

*** DONE CLEOG for single
    :LOGBOOK:
    CLOCK: [2010-01-12 Tue 10:10]--[2010-01-12 Tue 10:24] =>  0:14
    CLOCK: [2010-01-12 Tue 08:29]--[2010-01-12 Tue 08:41] =>  0:12
    CLOCK: [2010-01-11 Mon 12:16]--[2010-01-11 Mon 12:20] =>  0:04
    CLOCK: [2010-01-11 Mon 11:13]--[2010-01-11 Mon 11:46] =>  0:33
    CLOCK: [2010-01-11 Mon 09:00]--[2010-01-11 Mon 09:02] =>  0:02
    CLOCK: [2010-01-08 Fri 17:24]--[2010-01-08 Fri 18:21] =>  0:57
    :END:
    Need to fix the "tag_numbers/number_of_job"
    Copy the needed files. 

    : cd $src/gen/
    : cp $dhad/src/3.0/gen/tag_numbers/number_of_jobs tag_numbers
    : cp $dhad/src/3.0/gen/single_mode_list . 
    
    Change from 10 to 30.

    Clean the previous pds files... done.

    : dhad-10.1.1 gen cleog single 537ipb  --test 
    
    : dhad-10.1.1 gen cleog single 537ipb ... not working.

    Need to get the one mode working first... OK.
    
    : dhad-10.1.1 gen cleog single 537ipb  --test 
    : dhad-10.1.1 gen cleog single 537ipb ... done.

    : dhad-10.1.1 check cleog single 537ipb ... need to resubmit some:

    : dhad-10.1.1 gen cleog Single_D0B_to_Kpipipi task 16 
    : dhad-10.1.1 gen cleog Single_Dp_to_Kpipi task 21,24
    : dhad-10.1.1 gen cleog Single_Dp_to_Kspi task 23
    : dhad-10.1.1 gen cleog Single_Dm_to_Kspi task 20 
    : dhad-10.1.1 gen cleog Single_Dm_to_KKpi task 27 

    : dhad-10.1.1 check cleog Single_D0B_to_Kpipipi task 16 ... OK.
    : dhad-10.1.1 check cleog Single_Dp_to_Kpipi task 21,24 ... OK.
    : dhad-10.1.1 check cleog Single_Dp_to_Kspi task 23 ... OK.
    : dhad-10.1.1 check cleog Single_Dm_to_Kspi task 20 ... OK.
    : dhad-10.1.1 check cleog Single_Dm_to_KKpi task 27 ... OK.

*** DONE Process Pass2
    :LOGBOOK:
    CLOCK: [2010-01-13 Wed 08:30]--[2010-01-13 Wed 08:31] =>  0:01
    CLOCK: [2010-01-12 Tue 17:13]--[2010-01-12 Tue 17:30] =>  0:17
    CLOCK: [2010-01-12 Tue 08:41]--[2010-01-12 Tue 09:47] =>  1:06
    :END:

    : cd $dhad/src
    : cp 3.0/gen/pass2-generic-array.sh 10.1.1/gen/
    : cp 3.0/gen/mcp2_anders.tcl 10.1.1/gen/

    Test for one run:

    : dhad-10.1.1 gen pass2 Single_Dp_to_Kspipipi task 11 --test 
    : dhad-10.1.1 gen pass2 Single_Dp_to_Kspipipi task 11 ... problem.

    See log file [[./log/2010/0112/pass2.txt][pass2.txt]]. 

    :  >> Tue Jan 12 08:56:56 2010 Run:  221006 Event:    3780 Stop: event << 
    :  %% WARNING-Processor.Level3Proc: No beamenergyshift Record found in the Frame; skipping crystal decision
    :  %% ERROR-JobControl.ProcessingPaths: Starting from Level4Proc we called extract for
    : [1] type "Level4Decision" usage "" production ""
    : [2] type "FATable<NavTrack>" usage "" production ""
    : [3] type "FATable<TRTrack>" usage "" production ""
    : [4] type "FATable<TRSeedTrack>" usage "" production ""
    : [5] type "DoitTrackFinder" usage "" production "" <== exception occured
    : caught a DAException:
    : "No basegeometry Record found in the Frame"
    : ; will continue...
    
    Check the correct pass2 release from [[https://wiki.lepp.cornell.edu/lepp/bin/view/CLEO/Private/SW/CodeReleases][CodeReleases]]:

    :  20071023_MCP2_A
    : 
    :     - This patched release is a subset of CLEO code to be used in
    :       conjunction with the 20071207_MCGEN or newer MCGEN release to
    :       pass2 Monte Carlo data to match the 20071023_P2 release on real
    :       data (data46). Hot crystal suppression in C3ccProd is turned on
    :       for MCPASS2. Contains preFSR changes to MCInfo.

    Update the MCP2 release ... OK.

    : dhad-10.1.1 gen pass2 Single_Dp_to_Kspipipi task 11 ... OK.

    Test for one mode:

    : dhad-10.1.1 gen pass2 Single_Dm_to_Kspipipi 537ipb --test 
    : dhad-10.1.1 gen pass2 Single_Dm_to_Kspipipi 537ipb ...  OK.

    Clear the running jobs ... OK.

    Run the single ...

    : dhad-10.1.1 gen pass2 single 537ipb  --test 
    : dhad-10.1.1 gen pass2 single 537ipb  ... done. 

    : dhad-10.1.1 check pass2 single 537ipb  ... 
    : dhad-10.1.1 gen pass2 Single_D0B_to_Kpipipi task 22,26 ... OK.

    Too many emails at the end of the job. Change the mail option to
    only "-a" for aborted or rescheduled.
    
    Clean the CLEOG files (137G) ... OK.
		  
*** DONE Process NTuple
    :LOGBOOK:
    CLOCK: [2010-01-13 Wed 13:50]--[2010-01-13 Wed 13:51] =>  0:01
    CLOCK: [2010-01-13 Wed 08:32]--[2010-01-13 Wed 09:30] =>  0:58
    :END:

    Copy files: 

    : cd $dhad/src
    : cp 3.0/gen/dtuple-generic-array.sh 10.1.1/gen/

    Change the mail notice to "a" only. 
    
    Test for one mode:

    Do not touch the current structure of the Ntuple gen process, use
    all of the pds files. 

    : dhad-10.1.1 gen ntuple Single_Dp_to_Kspipipi --test 
    : dhad-10.1.1 gen ntuple Single_Dp_to_Kspipipi ... OK.

    Run for single:

    : dhad-10.1.1 gen ntuple single --test 
    : dhad-10.1.1 gen ntuple single ... done.

    : dhad-10.1.1 check ntuple single ... OK.

*** DONE Extract Yields
    :LOGBOOK:
    CLOCK: [2010-01-13 Wed 17:17]--[2010-01-13 Wed 17:17] =>  0:00
    CLOCK: [2010-01-13 Wed 15:09]--[2010-01-13 Wed 17:11] =>  2:02
    CLOCK: [2010-01-13 Wed 13:51]--[2010-01-13 Wed 14:56] =>  1:05
    :END:

    : cd $dhad
    : mkdir -p 10.1/dat/signal
    : ln -s $dhad/dat/signal/10.1.1/dtuple_20080624_MCGEN_20071023_MCP2_A/ 537ipb
    
    Run for one mode:

    : dhad-10.1.1 yield signal Single_Dp_to_Kspipipi 537ipb --test
    : dhad-10.1.1 yield signal Single_Dp_to_Kspipipi 537ipb ... OK.

    Run for single: 

    : dhad-10.1.1 yield signal single 537ipb --test 
    : dhad-10.1.1 yield signal single 537ipb ... OK.

*** DONE Do the Fit 
    :LOGBOOK:
    CLOCK: [2010-01-14 Thu 08:33]--[2010-01-14 Thu 10:36] =>  2:03
    CLOCK: [2010-01-13 Wed 20:14]--[2010-01-13 Wed 22:02] =>  1:48
    CLOCK: [2010-01-13 Wed 17:18]--[2010-01-13 Wed 17:28] =>  0:10
    :END:
    
    Fit for one mode:

    : dhad-10.1.1 fit signal Single_Dp_to_Kspipipi 537ipb --test
    : dhad-10.1.1 fit signal Single_Dp_to_Kspipipi 537ipb ... OK. for interactive. 

    : dhad-10.1.1 fit signal Single_Dp_to_Kspipipi 537ipb --qsub --test ... OK.
    
    dhad-10.1.1 fit signal Single_Dp_to_Kspipipi 537ipb --qsub [[./10.1/log/qsub/2010-01-14/dhad-10.1.1_fit_signal_Single_Dp_to_Kspipipi_537ipb.log.o1677866][log-2010-01-14 09:26:44]]


    For single:

    : dhad-10.1.1 fit signal single 537ipb --test ... hold for later. 

    Do it manually for now:

    dhad-10.1.1 fit signal Single_D0_to_Kpi       537ipb --qsub [[./10.1/log/qsub/2010-01-14/dhad-10.1.1_fit_signal_Single_D0_to_Kpi_537ipb.log.o1677952][log-2010-01-14 10:11:29]]

    dhad-10.1.1 fit signal Single_D0_to_Kpipi0    537ipb --qsub [[./10.1/log/qsub/2010-01-14/dhad-10.1.1_fit_signal_Single_D0_to_Kpipi0_537ipb.log.o1677953][log-2010-01-14 10:11:37]]

    dhad-10.1.1 fit signal Single_D0_to_Kpipipi   537ipb --qsub [[./10.1/log/qsub/2010-01-14/dhad-10.1.1_fit_signal_Single_D0_to_Kpipipi_537ipb.log.o1677954][log-2010-01-14 10:11:48]]

    dhad-10.1.1 fit signal Single_Dp_to_Kpipi     537ipb --qsub [[./10.1/log/qsub/2010-01-14/dhad-10.1.1_fit_signal_Single_Dp_to_Kpipi_537ipb.log.o1677955][log-2010-01-14 10:11:53]]

    dhad-10.1.1 fit signal Single_Dp_to_Kpipipi0  537ipb --qsub [[./10.1/log/qsub/2010-01-14/dhad-10.1.1_fit_signal_Single_Dp_to_Kpipipi0_537ipb.log.o1677956][log-2010-01-14 10:11:57]]

    dhad-10.1.1 fit signal Single_Dp_to_Kspi      537ipb --qsub [[./10.1/log/qsub/2010-01-14/dhad-10.1.1_fit_signal_Single_Dp_to_Kspi_537ipb.log.o1677957][log-2010-01-14 10:12:02]]

    dhad-10.1.1 fit signal Single_Dp_to_Kspipi0   537ipb --qsub [[./10.1/log/qsub/2010-01-14/dhad-10.1.1_fit_signal_Single_Dp_to_Kspipi0_537ipb.log.o1677958][log-2010-01-14 10:12:07]]

    dhad-10.1.1 fit signal Single_Dp_to_Kspipipi  537ipb --qsub [[./10.1/log/qsub/2010-01-14/dhad-10.1.1_fit_signal_Single_Dp_to_Kspipipi_537ipb.log.o1677866][log-2010-01-14 09:26:44]]

    dhad-10.1.1 fit signal Single_Dp_to_KKpi      537ipb --qsub [[./10.1/log/qsub/2010-01-14/dhad-10.1.1_fit_signal_Single_Dp_to_KKpi_537ipb.log.o1677959][log-2010-01-14 10:12:12]]

    Book the plots ... OK.

*** DONE Make comparison table
    :LOGBOOK:
    CLOCK: [2010-01-18 Mon 16:19]--[2010-01-18 Mon 17:22] =>  1:03
    CLOCK: [2010-01-14 Thu 13:55]--[2010-01-14 Thu 14:43] =>  0:48
    CLOCK: [2010-01-14 Thu 12:00]--[2010-01-14 Thu 12:36] =>  0:36
    CLOCK: [2010-01-14 Thu 11:02]--[2010-01-14 Thu 11:24] =>  0:22
    :END:
    
    : dhad-10.1.2 tab compare yields signal divide 537ipb 7.06 --set label_B=original
    [[./10.1/tab/compare_yields_signal_divide_537ipb_7.06.org][table]]

    : dhad-10.1.2 tab compare yields signal divide 537ipb 9.03/regular12  --set label_B=281ipb 
    [[./10.1/tab/compare_yields_signal_divide_537ipb_9.03_regular12.org][table]]

    : dhad-10.1.2 tab combine compare_yields_data_signal_divide_537ipb
    [[./10.1/tab/combine_compare_yields_data_signal_divide_537ipb.org][table]]

    : dhad-10.1.2 tab para md 281ipb 7.06/data 7.06/original default 


** Signal MC 537ipb sample with new run numbers and DSkimv2 (10.1.2) [100%]
*** DONE Setup Env
    :LOGBOOK:
    CLOCK: [2010-01-15 Fri 08:44]--[2010-01-15 Fri 08:49] =>  0:05
    :END:

    Tag the current src with name V10-01-01
    : cd $dhad/src/10.1.1
    : cvs tag V10-01-01
 
    Set up 10.1.2

    : setdhad 10.1.2
    
*** DONE Calculate the run numbers
    :LOGBOOK:
    CLOCK: [2010-01-15 Fri 08:49]--[2010-01-15 Fri 12:10] =>  3:21
    :END:
    
    Get luminosities for each run:

    For [[https://wiki.lepp.cornell.edu/lepp/bin/view/CLEO/Private/SW/DataSet43][data43]], check the 
    
    : /home/pass1/cleo-c/Luminosities/runlists/data43.runlist
    
    : dhad-10.1.2 tab lumi data43

    : Total Lumi: 125.4454 /pb. 
      
    Add all the new data:
    
    : dhad-10.1.2 tab lumi list data43-46 

    From the [[https://wiki.lepp.cornell.edu/lepp/bin/view/CLEO/Private/SW/DatasetSummary][web]]

    | Data   | Lumi (/pb) | From Web |
    |--------+------------+----------|
    | data43 |   125.4454 |  125.154 |
    | data44 |   187.9891 |  187.754 |
    | data45 |   118.2298 |  118.153 |
    | data46 |   148.7455 |  148.579 |
    |--------+------------+----------|
    | Total  |   580.4098 |   579.64 |
    #+TBLFM: :@6$3=vsum(@2..@5)

    Get the run numbers for 20 runs based on the lumi:
    
    : dhad-10.1.2 tab lumi runs data43-46 --set perlumi=580410./20

    | No. |    Run | PerLumi*No. | Acc lumi |
    |-----+--------+-------------+----------|
    |   0 | 220898 |         0.0 |      5.5 |
    |   1 | 221776 |     29020.5 |  29027.4 |
    |   2 | 222260 |     58041.0 |  58106.3 |
    |   3 | 222708 |     87061.5 |  87078.4 |
    |   4 | 223153 |    116082.0 | 116109.8 |
    |   5 | 223554 |    145102.5 | 145150.7 |
    |   6 | 224016 |    174123.0 | 174177.8 |
    |   7 | 224461 |    203143.5 | 203168.6 |
    |   8 | 224921 |    232164.0 | 232210.9 |
    |   9 | 225318 |    261184.5 | 261231.7 |
    |  10 | 225722 |    290205.0 | 290246.0 |
    |  11 | 226612 |    319225.5 | 319278.2 |
    |  12 | 227121 |    348246.0 | 348269.2 |
    |  13 | 227536 |    377266.5 | 377323.6 |
    |  14 | 227929 |    406287.0 | 406369.4 |
    |  15 | 228332 |    435307.5 | 435349.4 |
    |  16 | 228696 |    464328.0 | 464351.9 |
    |  17 | 229074 |    493348.5 | 493364.3 |
    |  18 | 229437 |    522369.0 | 522471.8 |
    |  19 | 229796 |    551389.5 | 551457.2 |

*** DONE Run CLEOG
    :LOGBOOK:
    CLOCK: [2010-01-17 Sun 10:47]--[2010-01-17 Sun 10:52] =>  0:05
    CLOCK: [2010-01-16 Sat 10:57]--[2010-01-16 Sat 11:16] =>  0:19
    CLOCK: [2010-01-15 Fri 15:00]--[2010-01-15 Fri 15:59] =>  0:59
    CLOCK: [2010-01-15 Fri 14:11]--[2010-01-15 Fri 14:51] =>  0:40
    :END:

    : cd $src
    : mkdir gen
    : cd gen
    : cp $dhad/src/10.1.1/gen/runlist . 

    Update the run list... OK.

    Copy the other files:
    : cp $dhad/src/10.1.1/gen/cleog-generic-array.sh .
    : cp $dhad/src/10.1.1/gen/genmc_anders.tcl .      
    : cp -r $dhad/src/10.1.1/gen/tag_decfiles . 
    
    Run for one mode :

    : dhad-10.1.2 gen cleog Single_Dp_to_Kspipipi 537ipb --test 
    : dhad-10.1.2 gen cleog Single_Dp_to_Kspipipi 537ipb ... OK.

    Clean jobs and files ... OK.

    Run for single :

    : dhad-10.1.2 gen cleog single 537ipb --test
    : dhad-10.1.2 gen cleog single 537ipb ... done. 

    : dhad-10.1.2 chk cleog single 537ipb ... need to fix some jobs.

    : dhad-10.1.2 gen cleog Single_D0B_to_Kpipi0 task 18
    : dhad-10.1.2 gen cleog Single_D0_to_Kpipipi task 11
    : dhad-10.1.2 gen cleog Single_Dm_to_Kpipi task 15 
    : dhad-10.1.2 gen cleog Single_Dp_to_Kpipipi0 task 17 
    : dhad-10.1.2 gen cleog Single_Dm_to_Kpipipi0 task 27
    : dhad-10.1.2 gen cleog Single_Dp_to_Kspipi0 task 24,25 
    : dhad-10.1.2 gen cleog Single_Dm_to_Kspipi0 task 14,20,21,25,27,29
    : dhad-10.1.2 gen cleog Single_Dp_to_Kspipipi task 12,21,27,29,30

    : dhad-10.1.2 gen cleog Single_Dm_to_Kspipipi 537ipb 
    : dhad-10.1.2 gen cleog Single_Dp_to_KKpi 537ipb 
    : dhad-10.1.2 gen cleog Single_Dm_to_KKpi 537ipb 

    Done. Check again. Fix rest:

    : dhad-10.1.2 gen cleog Single_Dm_to_Kspipi0 task 29 ... OK.

*** DONE Run Pass2
    :LOGBOOK:
    CLOCK: [2010-01-19 Tue 08:42]--[2010-01-19 Tue 08:44] =>  0:02
    CLOCK: [2010-01-18 Mon 08:27]--[2010-01-18 Mon 09:29] =>  1:02
    CLOCK: [2010-01-17 Sun 15:48]--[2010-01-17 Sun 15:50] =>  0:02
    CLOCK: [2010-01-16 Sat 11:16]--[2010-01-16 Sat 11:23] =>  0:07
    CLOCK: [2010-01-15 Fri 16:13]--[2010-01-15 Fri 16:33] =>  0:20
    :END:

    Copy files:

    : cd $dhad/src
    : cp 10.1.1/gen/pass2-generic-array.sh 10.1.2/gen/
    : cp 10.1.1/gen/mcp2_anders.tcl 10.1.2/gen/

    Test for one run:

    : dhad-10.1.2 gen pass2 Single_Dp_to_Kspipipi task 11 --test 
    : dhad-10.1.2 gen pass2 Single_Dp_to_Kspipipi task 11 ... OK.

    Test for one mode:
   
    : dhad-10.1.2 gen pass2 Single_Dp_to_Kspipipi 537ipb --test OK.
    
    Run for single:

    : dhad-10.1.2 gen pass2 single 537ipb  --test 

    Wait for the cleog finish ... 1 left ... done. 


    : dhad-10.1.2 gen pass2 single 537ipb  ... done. 

    : dhad-10.1.2 chk pass2 single 537ipb  ... OK.

    
    
    
*** DONE Run DSkim
    :LOGBOOK:
    CLOCK: [2010-01-19 Tue 15:56]--[2010-01-19 Tue 15:57] =>  0:01
    CLOCK: [2010-01-19 Tue 14:09]--[2010-01-19 Tue 14:49] =>  0:40
    CLOCK: [2010-01-19 Tue 08:44]--[2010-01-19 Tue 09:27] =>  0:43
    CLOCK: [2010-01-18 Mon 14:42]--[2010-01-18 Mon 15:53] =>  1:11
    :END:

    Check DSkim labels for signam MC : 
    
    dtuple-generic-array.sh -> 

    loadHadronicDNtupleProc.tcl (INPUTDATA=USERLOCALMC) ->

    dataselection.tcl:

    : if { ( $env(INPUTDATA) == "USERLOCALMC" ) } {
    :     set skim no
    :     set oldskim no
    :     set preliminaryPass2 no
    :     set millionMC no
    :     set mc yes
    :     run_file $env(FILELIST)
    : }
    
    Copy the sh and tcl file. 

    : cd $src/gen
    : cp $dhad/src/3.0/gen/dskim-generic-array.sh .
    : cp $dhad/src/3.0/gen/dskim.tcl 
    : cp ~ponyisi/cleog/dskim.tcl dskim_peter.tcl

    Change the mail status in the dskim-generic-array.sh ... OK.

    Change the DSkimer Release based on [[https://wiki.lepp.cornell.edu/lepp/bin/view/CLEO/Private/SW/DataBase][page]] in attr ... OK.

    : 20070822: remove one bad run from data43 (Run 222549), version 2 dskim (with 20060224_FULL_3
    
    Change the [[./src/10.1.2/gen/dskim.tcl][dskim.tcl]] ... OK.

    Test on one task ...
 
    : dhad-10.1.2 gen dskim Single_D0_to_Kpi task 21 --test  OK.

    Wait for all the pass2 jobs finish ... OK.

    : dhad-10.1.2 gen dskim Single_D0_to_Kpi task 21 ... error:

    See [[./log/2010/0119/dskim.txt][dskim.txt]]. 

    :  >> Tue Jan 19 08:44:46 2010 Run:  225722 Stop: physics << 
    :  %% WARNING-MCInfo.MCDecayMode: Potential Energy nonconservation: vpho --> psi(3770) gamma 
    :  %% ERROR-MCInfo.MCDecayMode: Charge NONconservation: Xi_c+ --> 
    : parent chg,type = 1,125   dau chg = 0
    : PARTICLE   Xi_c+  125    0    2.4656    1  0.50.000106003      0   2.47   2.47
    :     PDG:   4232/Geant:   -666      P/C:0/0
    :  %% ERROR-MCInfo.MCDecayMode: Charge NONconservation: anti-Xi_c- --> 
    : parent chg,type = -1,126   dau chg = 0
    : PARTICLE  anti-Xi_c-  126    0    2.4656   -1  0.50.000106003      0   2.47   2.47
    :     PDG:  -4232/Geant:   -666      P/C:0/0
    :  %% WARNING-MCInfo.MCDecayMode: Potential Energy nonconservation: vpho --> psi(3770) gamma 
    :  %% ERROR-MCInfo.MCDecayMode: Charge NONconservation: Xi_c+ --> 
    : parent chg,type = 1,125   dau chg = 0
    : PARTICLE   Xi_c+  125    0    2.4656    1  0.50.000106003      0   2.47   2.47
    :     PDG:   4232/Geant:   -666      P/C:0/0
    :  %% ERROR-MCInfo.MCDecayMode: Charge NONconservation: anti-Xi_c- --> 
    : parent chg,type = -1,126   dau chg = 0
    : PARTICLE  anti-Xi_c-  126    0    2.4656   -1  0.50.000106003      0   2.47   2.47
    :     PDG:  -4232/Geant:   -666      P/C:0/0
    : 
    :  >> Tue Jan 19 08:44:47 2010 Run:  225722 Event:       1 Stop: event << 
    :  %% INFO-C3ccProd.CcShowerAttributesProxy: Running with CC hot list suppression available
    :  %% INFO-CCGECS: CC Energy-dependent calibration version of Jan 2004
    : suez.exe: /nfs/cleo3/Offline/rel/20060224_FULL_2/src/include/StorageManagement/SMStorageHelper.h:70: T* SMStorageHelper<T>::deliver(SMSourceStream&, unsigned int) [with T = MCParticle]: Assertion `(iVersion-kFirstVersionNumber) < m_deliverers.size()' failed.
    : /nfs/cleo3/Offline/rel/20060224_FULL_3/bin/Linux/g++/suez: line 332: 15536 Aborted                 (core dumped) $ECHO $exe $SCRIPT $options

    
    Change the dskim.tcl ... OK.

    : dhad-10.1.2 gen dskim Single_D0_to_Kpi task 21 ... error.

    See [[./log/2010/0119/dskim.txt.1][dskim.txt.1]].


    : %% SYSTEM-Interpreter.TclInterpreter: Tcl_Eval error: can't read "env(DSEventStoreDate)": no such variable
    : %% SYSTEM-Interpreter.TclInterpreter: Tcl_Eval error: can't read "env(DSEventStoreDate)": no such variable
 
    Ask Peter ... sent. 

    Post on DTag Hyper news ... sent. [[https://hypernews.lepp.cornell.edu/HyperNews/get/DTag/81.html][link]].

    Message from Surik:

    :  You can avoid X_c part that error, which is related to decay file
    :  and nobody wants to fix it (it does not cause problem).
    : 
    :  If you look at Dskiming web page:   http://www.lns.cornell.edu/~dskim/private/dskim.html
    :  you would see that they use 20060224_FULL_A_3,
    :  which includes FSR photon, but according to your log file,
    :  your are using 20060224_FULL_3. Could you check it?

    Change the DSKimer Release to =20060224_FULL_A_3= ... OK.

    Clean the dskim files ... OK.

    : dhad-10.1.2 gen dskim Single_D0_to_Kpi task 21 ... OK.

    Run on one mode:
    
    : dhad-10.1.2 gen dskim Single_D0_to_Kpi 537ipb --test OK.
    : dhad-10.1.2 gen dskim Single_D0_to_Kpi 537ipb  ... done. 

    : dhad-10.1.2 chk dskim Single_D0_to_Kpi 537ipb  ... OK.

    Reply Surik... done. 

    
    Run for all single ...

    : dhad-10.1.2 gen dskim single 537ipb  --test 
    : dhad-10.1.2 gen dskim single 537ipb  ... done.

    : dhad-10.1.2 chk dskim single 537ipb  ... OK.

*** DONE Run NTuple
    :LOGBOOK:
    CLOCK: [2010-01-27 Wed 10:36]--[2010-01-27 Wed 10:38] =>  0:02
    CLOCK: [2010-01-27 Wed 08:43]--[2010-01-27 Wed 08:49] =>  0:06
    CLOCK: [2010-01-26 Tue 14:45]--[2010-01-26 Tue 14:59] =>  0:14
    CLOCK: [2010-01-26 Tue 08:36]--[2010-01-26 Tue 08:47] =>  0:11
    CLOCK: [2010-01-26 Tue 08:27]--[2010-01-26 Tue 08:35] =>  0:08
    CLOCK: [2010-01-22 Fri 09:04]--[2010-01-22 Fri 09:36] =>  0:32
    CLOCK: [2010-01-20 Wed 08:20]--[2010-01-20 Wed 08:24] =>  0:04
    CLOCK: [2010-01-19 Tue 15:57]--[2010-01-19 Tue 16:30] =>  0:33
    :END:
    
    Copy files: 

    : cd $dhad/src
    : cp 10.1.1/gen/dtuple-generic-array.sh 10.1.2/gen/
    
    Edit the [[./src/10.1.2/gen/dtuple-generic-array.sh][dtuple-generic-array.sh]] ... OK.

    : dhad-10.1.2 gen ntuple Single_Dp_to_Kspipipi --test  OK.
    : dhad-10.1.2 gen ntuple Single_Dp_to_Kspipipi ... error. 


    Need the =MCBeamEnergyFromMCBeamParametersProd= ... OK. 

    : cd $src
    : cp -r  $dhad/src/3.0/cleo/MCBeamEnergyFromMCBeamParametersProd  cleo/
    : cp $dhad/src/3.0/cleo/build/Linux/shlib/MCBeamEnergyFromMCBeamParametersProd.so_20080228_FULL cleo/build/Linux/shlib/

    Try again ...

    : dhad-10.1.2 gen ntuple Single_Dp_to_Kspipipi ... OK.

    Clean files... OK.

    : dhad-10.1.2 gen ntuple single --test 
    : dhad-10.1.2 gen ntuple single ... done. 

    : dhad-10.1.2 chk ntuple single ... OK.

    - Turn off the DSkim in the process 

      From  [[./src/10.1.2/gen/dtuple-generic-array.sh][dtuple-generic-array.sh]] -> INPUTDATA=USERLOCALMC.
      In [[./src/10.1.2/cleo/HadronicDNtupleProc/Test/dataselection.tcl][dataselection.tcl]] :

      : if { ( $env(INPUTDATA) == "USERLOCALMC" ) } {
      :     set skim no
      :     set oldskim no
      :     set preliminaryPass2 no
      :     set millionMC no
      :     set mc yes
      :     run_file $env(FILELIST)
      : }
      
      In [[./src/10.1.2/cleo/HadronicDNtupleProc/Test/loadHadronicDNtupleProc.tcl][loadHadronicDNtupleProc.tcl]] : 

      : set oldskim no
      : set dtagfilter no
      : set use_setup_analysis no

      : if { $skim == "no" } {
      :      run_file $env(USER_SRC)/HadronicDNtupleProc/Test/DTagDSkim.tcl
      : 
      : #param PhotonDecaysProd Pi0Finding_Menu E925Scheme 2
      : 
      :      param DTagProd BCM_Cut 1.83
      :      param DTagProd DE_Cut 0.1
      : }
      : if { $skim == "yes" && $use_setup_analysis == "no" } {
      :     # set photon decays prod not to reconstruct new pi0's
      :     prod desel PhotonDecaysProd
      : }

      Ask Peter about the "PhotonDecaysProd" ... sent. 

      Message from Peter:

      :       You should be using "export USE_SETUP_ANALYSIS=1" for both data
      :       and MC (this sets use_setup_analysis=yes in the tcl), so you
      :       should never encounter the code that does things to
      :       PhotonDecaysProd.
      
      Confirmed in [[./src/10.1.2/gen/dtuple-generic-array.sh][dtuple-generic-array.sh]] -> USE\_SETUP\_ANALYSIS=1 .

      Edit the [[./src/10.1.2/cleo/HadronicDNtupleProc/Test/dataselection.tcl][dataselection.tcl]] :

      : if { ( $env(INPUTDATA) == "USERLOCALMC" ) } {
      : #    set skim no
      :     set skim yes
      :     set oldskim no
      :     set preliminaryPass2 no
      :     set millionMC no
      :     set mc yes
      :     run_file $env(FILELIST)
      : }
      
    - Clean the old files ... OK.
    - Run Ntuple on one mode
      
      : dhad-10.1.2 gen ntuple Single_Dp_to_Kspipipi ...
      
      Save log as [[./log/2010/0126/dtuple.txt][dtuple.txt]], error:

      : Suez.loadHadronicDNtupleProc> go
      :  %% INFO-JobControl.SourceManager: Using myChain for active streams: beginrun endrun event startrun 
      :  %% INFO-JobControl.SourceManager: Defined active streams.
      : ERROR: Suez caught a DAException:
      : "Starting from HadronicDNtupleProc we called extract for
      : [1] type "FATable<NavPi0ToGG>" usage "TagDPi0" production "" <== exception occured
      
      Ask Peter ... sent. 

      Check the latest code [[http://www.lepp.cornell.edu/restricted/webtools/cleo3/source/Offline/src/HadronicDNtupleProc/Class/HadronicDNtupleProc.cc][HadronicDNtupleProc]] ... 
      
      :  21 // Revision 1.40  2007/04/03 17:26:39  ponyisi
      :  22 // Add field to tell if pi0s or etas would pass previous dskim

      Reply from Peter:
      : What tcl file are you using for the dskim step?

      Sent the link.

      Reply from Peter: 

      : Check the scripts that call suez to see if you are defining the
      : environment variable ISTVAN_MC_FIX.  If so, you should remove it.

    - Check the variable =ISTVAN_MC_FIX=
      
      From  [[./src/10.1.2/gen/dtuple-generic-array.sh][dtuple-generic-array.sh]] -> export ISTVAN_MC_FIX=1
      Comment out ... OK.
      
      Run on one mode again: 

      : dhad-10.1.2 gen ntuple Single_Dp_to_Kspipipi ... OK.

      Clean the files... OK.

    - Run the single ...

      : dhad-10.1.2 gen ntuple single ... done.
      : dhad-10.1.2 chk ntuple single ... except one mode.

      Remove te log file ... OK.
       
      : dhad-10.1.2 gen ntuple Single_Dp_to_Kspipipi ... done. 
      : dhad-10.1.2 chk ntuple Single_Dp_to_Kspipipi ... OK.



      



      
      
*** DONE Extract yields
    :LOGBOOK:
    CLOCK: [2010-01-27 Wed 10:39]--[2010-01-27 Wed 11:05] =>  0:26
    CLOCK: [2010-01-20 Wed 08:24]--[2010-01-20 Wed 09:33] =>  1:09
    CLOCK: [2010-01-19 Tue 16:44]--[2010-01-19 Tue 17:27] =>  0:43
    :END:
   
    : cd $dhad/10.1/dat/signal
    : ln -s $dhad/dat/signal/10.1.2/dtuple_20080624_MCGEN_20071023_MCP2_A/ 537ipbv2
    
    Run for one mode:

    : dhad-10.1.2 yld signal Single_Dp_to_Kspipipi 537ipbv2 --test ... OK.

    Waiting for the ntuple jobs finish... done.

    : dhad-10.1.2 yld signal Single_Dp_to_Kspipipi 537ipbv2 ... OK.

    : dhad-10.1.2 yld signal single 537ipbv2 --test OK.
    : dhad-10.1.2 yld signal single 537ipbv2 ... done.

*** DONE Fit mBC
    :LOGBOOK:
    CLOCK: [2010-01-27 Wed 13:02]--[2010-01-27 Wed 13:04] =>  0:02
    CLOCK: [2010-01-27 Wed 11:06]--[2010-01-27 Wed 11:28] =>  0:22
    CLOCK: [2010-01-21 Thu 08:29]--[2010-01-21 Thu 08:38] =>  0:09
    CLOCK: [2010-01-20 Wed 15:03]--[2010-01-20 Wed 16:55] =>  1:52
    CLOCK: [2010-01-20 Wed 13:28]--[2010-01-20 Wed 14:50] =>  1:22
    CLOCK: [2010-01-20 Wed 09:33]--[2010-01-20 Wed 12:30] =>  2:57
    :END:

    Fit for one mode:

    : dhad-10.1.2 fit signal Single_Dp_to_Kspipipi 537ipbv2 --test OK.
    : dhad-10.1.2 fit signal Single_Dp_to_Kspipipi 537ipbv2  ... OK.

    Fit for single:

    : dhad-10.1.2 fit signal single 537ipbv2 ... done.

    Save the figures:

    : dhad-10.1.2 fig signal single 537ipbv2 ... done. 
    
    [[./10.1/fig/signal_single_537ipbv2.org][figure]]

*** DONE Make tables
    :LOGBOOK:
    CLOCK: [2010-01-27 Wed 13:04]--[2010-01-27 Wed 14:15] =>  1:11
    CLOCK: [2010-01-21 Thu 13:26]--[2010-01-21 Thu 14:42] =>  1:16
    CLOCK: [2010-01-21 Thu 08:39]--[2010-01-21 Thu 12:09] =>  3:30
    :END:
    
    Compare the 537ipbv2 yield with original 281ipb in signal MC  => [[./10.1/tab/compare_yields_signal_divide_537ipbv2_7.06.org][table]]
    
    : dhad-10.1.2 tab compare yields signal divide 537ipbv2 7.06 --set label_B=original
    Update  [[./10.1/tab/compare_yields_signal_divide_537ipbv2_7.06.info][info]] ... OK. 

    Compare the 537ipbv2 yield with default 281ipb in signal MC => [[./10.1/tab/compare_yields_signal_divide_537ipbv2_9.03_regular12.org][table]]

    : dhad-10.1.2 tab compare yields signal divide 537ipbv2 9.03/regular12  --set label_B=281ipb 
    Update [[./10.1/tab/compare_yields_signal_divide_537ipbv2_9.03_regular12.info][info]] ... OK. 
    
    Compare the ratios of 537ipb/281ipb and 537ipbv2/281ipb in signal MC => [[./10.1/tab/compare_ratios_signal_537ipb_281ipb_537ipbv2_281ipb.org][table]]

    : dhad-10.1.2 tab compare ratios signal 537ipb/281ipb 537ipbv2/281ipb 
    Update [[./10.1/tab/compare_ratios_signal_537ipb_281ipb_537ipbv2_281ipb.info][info]] ... OK.

*** DONE Fix the tables in 9.03
    :LOGBOOK:
    CLOCK: [2010-01-22 Fri 10:26]--[2010-01-22 Fri 12:02] =>  1:36
    :END:

    Branch out the code:

    : cd $dhad/src/3.0.16
    : cvs tag -b -r V03-00-16 B03-00-16
    : cvs up -r B03-00-16

*** DONE Fix the plots in 9.03
    :LOGBOOK:
    CLOCK: [2010-01-22 Fri 13:59]--[2010-01-22 Fri 15:27] =>  1:28
    :END:
    
    Done.

    Send the grand comparison table to HN ... OK.

    Message from Anders:

    : Can you check the D0 PDL mass and fitted mass for the Original data set;
    : the difference of 0.4 MeV in this case is much larger than the other cases
    : in the table.

    Checked the D0 mass in  [[./9.03/tab/diff_pdl_2005_2008_common_selected.org][table]]. It is correct. But the fitting value should be 1.8646. 
    Update the  [[./9.03/tab/combine_compare_yields_signal_7dot06_regular_all.org][table]]'s  [[./9.03/tab/combine_compare_yields_signal_7dot06_regular_all.info][info]] ... done.

    Reply to Anders... OK.
** Signal MC for 281/pb with Dskimv2 (10.1.4 - '281ipbv2') [100%]
*** DONE Setup Env
    :LOGBOOK:
    CLOCK: [2010-02-02 Tue 14:48]--[2010-02-02 Tue 14:53] =>  0:05
    :END:

    : setdhad 10.1.4 

    Tag the code at the end of each project when there is no major update such as the structure.

*** DONE Run CLEOG
    :LOGBOOK:
    CLOCK: [2010-02-03 Wed 16:56]--[2010-02-03 Wed 16:59] =>  0:03
    CLOCK: [2010-02-03 Wed 09:00]--[2010-02-03 Wed 09:30] =>  0:30
    CLOCK: [2010-02-02 Tue 17:56]--[2010-02-02 Tue 18:01] =>  0:05
    CLOCK: [2010-02-02 Tue 14:53]--[2010-02-02 Tue 16:12] =>  1:19
    :END:
    
    : cp -r $dhad/src/10.1.2/gen/tag_decfiles $dhad/src/10.1.4/gen/

    Run for one mode :


    : dhad-10.1.4 gen cleog Single_Dp_to_Kspipipi 281ipb --test OK.
    : dhad-10.1.4 gen cleog Single_Dp_to_Kspipipi 281ipb ... done. 
    : dhad-10.1.4 chk cleog Single_Dp_to_Kspipipi 281ipb ... OK.

    Remove the files... OK.

    Run for single:

    : dhad-10.1.4 gen cleog single 281ipb --test OK.
    : dhad-10.1.4 gen cleog single 281ipb ... done.
    : dhad-10.1.4 chk cleog single 281ipb ... fixing ... 


    : dhad-10.1.4 gen cleog Single_D0B_to_Kpi task 10 
    : dhad-10.1.4 gen cleog Single_D0_to_Kpipi0 task 3 
    : dhad-10.1.4 gen cleog Single_Dp_to_Kpipi task 4 
    : dhad-10.1.4 gen cleog Single_Dp_to_Kpipipi0 task 2 
    : dhad-10.1.4 gen cleog Single_Dm_to_Kpipipi0 task 9 
    
    : dhad-10.1.4 chk cleog single 281ipb ... OK.

*** DONE Run Pass2
    :LOGBOOK:
    CLOCK: [2010-02-04 Thu 09:20]--[2010-02-04 Thu 09:21] =>  0:01
    CLOCK: [2010-02-03 Wed 17:49]--[2010-02-03 Wed 17:51] =>  0:02
    CLOCK: [2010-02-03 Wed 16:59]--[2010-02-03 Wed 17:19] =>  0:20
    :END:

    Run for one mode :

    : dhad-10.1.4 gen pass2 Single_Dp_to_Kspipipi 281ipb --test OK.
    : dhad-10.1.4 gen pass2 Single_Dp_to_Kspipipi 281ipb ... OK.

    Clean the files ... OK.

    : dhad-10.1.4 gen pass2 single 281ipb --test ... OK.
    : dhad-10.1.4 gen pass2 single 281ipb ... done.
    : dhad-10.1.4 chk pass2 single 281ipb ... OK.

*** DONE Run DSkim
    :LOGBOOK:
    CLOCK: [2010-02-04 Thu 10:12]--[2010-02-04 Thu 10:21] =>  0:09
    CLOCK: [2010-02-04 Thu 09:21]--[2010-02-04 Thu 09:41] =>  0:20
    :END:

    Run on one mode:
    
    : dhad-10.1.4 gen dskim Single_Dp_to_Kspipipi 281ipb --test ... OK.
    : dhad-10.1.4 gen dskim Single_Dp_to_Kspipipi task 2 ... OK.

    Clean files ... OK.

    : dhad-10.1.4 gen dskim single 281ipb --test OK.
    : dhad-10.1.4 gen dskim single 281ipb ... done. 
    : dhad-10.1.4 chk dskim single 281ipb ... OK.
    
*** DONE Run DNTuple
    :LOGBOOK:
    CLOCK: [2010-02-04 Thu 12:03]--[2010-02-04 Thu 12:04] =>  0:01
    CLOCK: [2010-02-04 Thu 10:22]--[2010-02-04 Thu 11:11] =>  0:49
    :END:
    
    Use the proc from 10.1.3 ... OK. 

    Use the input: "USERLOCALMC_SKIMMED" ... OK.

    : dhad-10.1.4 gen ntuple Single_Dp_to_Kspipipi 281ipb --test ... OK.
    : dhad-10.1.4 gen ntuple Single_Dp_to_Kspipipi 281ipb ... OK.

    Clean file ... OK.

    : dhad-10.1.4 gen ntuple single 281ipb --test ... OK.
    : dhad-10.1.4 gen ntuple single 281ipb  ... done. 
    : dhad-10.1.4 chk ntuple single 281ipb  ... OK.

*** DONE Run Yields
    :LOGBOOK:
    CLOCK: [2010-02-04 Thu 13:00]--[2010-02-04 Thu 14:19] =>  1:19
    CLOCK: [2010-02-04 Thu 12:04]--[2010-02-04 Thu 12:06] =>  0:02
    :END:

 
    : cd $dhad/10.1/dat/signal
    : ln -s $dhad/dat/signal/10.1.4/dtuple_20080624_MCGEN_20071023_MCP2_A/ 281ipbv2

    Run for one mode:

    : dhad-10.1.4 yld signal Single_Dp_to_Kspipipi 281ipbv2 --set interact ... OK.

    : dhad-10.1.4 yld signal Single_Dp_to_Kspipipi 281ipbv2 ... OK.

    Run for all :

    : dhad-10.1.4 yld signal single 281ipbv2 ... OK. 
    
*** DONE Run Fits
    :LOGBOOK:
    CLOCK: [2010-02-05 Fri 09:31]--[2010-02-05 Fri 09:34] =>  0:03
    CLOCK: [2010-02-04 Thu 14:29]--[2010-02-04 Thu 15:16] =>  0:47
    :END:

    Fit for one mode:

    : dhad-10.1.4 fit signal Single_Dp_to_Kspipipi 281ipbv2 --set interact ... OK.
    : dhad-10.1.4 fit signal Single_D0_to_Kpi 281ipbv2 --set interact ... OK.


    : dhad-10.1.4 fit signal Single_Dp_to_Kspipipi 281ipbv2 --test ... OK.

    Fit all:
    : dhad-10.1.4 fit signal single  281ipbv2  --test ... OK.
    : dhad-10.1.4 fit signal single  281ipbv2  ... done.


    Save the figures:

    : dhad-10.1.4 fig signal single 281ipbv2 
    
    [[./10.1/fig/signal_single_281ipbv2.org][figure]]

    Fitting status:

    | Mode | MIGRAD |
    |------+--------|
    |    0 | FAILED |
    |  202 | FAILED |
    
    Check the status for the original fitting: [[http://www.lepp.cornell.edu/~xs32/private/DHad/7.06/plots/regular_signal_Single.html][page]]
    
    | Mode | MIGRAD |
    |------+--------|
    |    3 | FAILED |
    |  203 | FAILED |
    |  205 | FAILED |

    Check the status for the original data fitting: [[http://www.lepp.cornell.edu/~xs32/private/DHad/7.06/plots/regular_data_Single.html][page]] all OK.

*** DONE Make tables
    :LOGBOOK:
    CLOCK: [2010-03-09 Tue 11:42]--[2010-03-09 Tue 12:08] =>  0:26
    :END:

    Compare the 281ipbv2 with the original :

    : dhad-10.1.4 tab compare yields signal single 7.06/281ipb 281ipbv2 --set label=original,new
    => [[./10.1/tab/compare_yields_signal_single_7.06_281ipb_281ipbv2.org][table]]
    [[./10.1/tab/compare_yields_signal_single_7.06_281ipb_281ipbv2.info][info]]

    Need to understand the difference from the data 281/pb. 

** Generate Diagonal Double Tag MC samples for 281/pb with new Dalitz structure (10.1.5) [100%]
*** DONE Setup Env
    :LOGBOOK:
    CLOCK: [2010-03-16 Tue 16:15]--[2010-03-16 Tue 16:21] =>  0:06
    :END:
    
    Freeze the 10.1.3 and 10.1.4 ... OK.

    : setdhad 10.1.5 
    
*** DONE Run CLEOG
    :LOGBOOK:
    CLOCK: [2010-03-17 Wed 15:49]--[2010-03-17 Wed 15:55] =>  0:06
    CLOCK: [2010-03-17 Wed 13:13]--[2010-03-17 Wed 14:08] =>  0:55
    CLOCK: [2010-03-17 Wed 11:23]--[2010-03-17 Wed 12:05] =>  0:42
    CLOCK: [2010-03-17 Wed 09:24]--[2010-03-17 Wed 11:00] =>  1:36
    CLOCK: [2010-03-16 Tue 16:21]--[2010-03-16 Tue 17:01] =>  0:40
    :END:
    : cd $src
    : mkdir gen
    : cp -r $dhad/src/10.1.4/gen/tag_decfiles gen

    : cp  $dhad/src/2.1/gen/tag_decfiles/Double*  gen/tag_decfiles

    Run for one mode :
    
    : dhad-10.1.5 gen cleog Double_Dp_to_Kspipipi__Dm_to_KKpi task 1 --test

    Updating the Kspipi0 up-dated dalitz ... think about it later when updating the other BRs in dec file. 

    Need to construct the Double tag DEC files ... OK.

    Consult :

    : /home/ponyisi/cleog/scripts-summerconf-photosint/get_decfiles.py 
    : cd /home/xs32/work/CLEO/analysis/DHad/src/10.1.5/gen/
    : cp -r  /home/ponyisi/cleog/scripts-summerconf-photosint/tag_fragments/ .

    Need to update the numbers to generate for double tags ... use 2000/job for now. 

    Update the Dalitz structure for Kspipi0 ... done.

    From DECAY.DEC, found : =Alias K_0*0N K_0*0=. 

    : dhad-10.1.5 gen cleog Double_Dp_to_Kspipipi__Dm_to_KKpi task 1 ... done. 
    : dhad-10.1.5 chk cleog Double_Dp_to_Kspipipi__Dm_to_KKpi task 1 ... OK.

    Clean the files... OK.

    Run for double diagonal ...
    
    : dhad-10.1.5 gen cleog diagdouble 281ipb --test ... OK.
    : dhad-10.1.5 gen cleog diagdouble 281ipb ... done. 
    : dhad-10.1.5 chk cleog diagdouble 281ipb ... OK.


    Run the updated dalitz for the single tag modes:

    : dhad-10.1.5 gen cleog Single_Dp_to_Kspipi0 281ipb --test ... OK.
    : dhad-10.1.5 gen cleog Single_Dp_to_Kspipi0 281ipb ... done.
    : dhad-10.1.5 gen cleog Single_Dm_to_Kspipi0 281ipb ... done. 

    : dhad-10.1.5 chk cleog Single_Dp_to_Kspipi0 281ipb ... OK. 
    : dhad-10.1.5 chk cleog Single_Dm_to_Kspipi0 281ipb ... OK.

*** DONE Run Pass2
    :LOGBOOK:
    CLOCK: [2010-03-18 Thu 09:38]--[2010-03-18 Thu 09:55] =>  0:17
    CLOCK: [2010-03-17 Wed 20:58]--[2010-03-17 Wed 20:59] =>  0:01
    CLOCK: [2010-03-17 Wed 20:28]--[2010-03-17 Wed 20:38] =>  0:10
    CLOCK: [2010-03-17 Wed 15:55]--[2010-03-17 Wed 16:19] =>  0:24
    CLOCK: [2010-03-17 Wed 15:47]--[2010-03-17 Wed 15:49] =>  0:02
    :END:
    Run for one mode :

    : dhad-10.1.5 gen pass2 Double_Dp_to_KKpi__Dm_to_KKpi task 1 --test  OK.
    : dhad-10.1.5 gen pass2 Double_Dp_to_KKpi__Dm_to_KKpi task 1 ... done.
    : dhad-10.1.5 chk pass2 Double_Dp_to_KKpi__Dm_to_KKpi task 1 ... OK.

    Clean files ... OK.

    Run for diagonal double :

    : dhad-10.1.5 gen pass2 diagdouble 281ipb --test OK.
    : dhad-10.1.5 gen pass2 diagdouble 281ipb ... done.
    : dhad-10.1.5 chk pass2 diagdouble 281ipb ... need coding.... OK.
    
    Run the Kspipi0 for single :

    : dhad-10.1.5 gen pass2 Single_Dp_to_Kspipi0 281ipb ... done. 
    : dhad-10.1.5 gen pass2 Single_Dm_to_Kspipi0 281ipb ... done.
    
    : dhad-10.1.5 chk pass2 Single_Dp_to_Kspipi0 281ipb ... OK.
    : dhad-10.1.5 chk pass2 Single_Dm_to_Kspipi0 281ipb ... OK.

    Clean the cleog files... OK.

*** DONE Run DSkim
    :LOGBOOK:
    CLOCK: [2010-03-18 Thu 10:28]--[2010-03-18 Thu 10:30] =>  0:02
    CLOCK: [2010-03-18 Thu 09:56]--[2010-03-18 Thu 10:18] =>  0:22
    :END:

    Run for one mode :

    : dhad-10.1.5 gen dskim Double_Dp_to_KKpi__Dm_to_KKpi task 1 --test  
    : dhad-10.1.5 gen dskim Double_Dp_to_KKpi__Dm_to_KKpi task 1 ... done.
    : dhad-10.1.5 chk dskim Double_Dp_to_KKpi__Dm_to_KKpi task 1 ... OK. 

    Clean files ... OK.

    Run for diagonal double :

    : dhad-10.1.5 gen dskim diagdouble 281ipb --test ... OK.
    : dhad-10.1.5 gen dskim diagdouble 281ipb ... done. 
    : dhad-10.1.5 chk dskim diagdouble 281ipb ... OK.

    Run the Kspipi0 for single :
    
    : dhad-10.1.5 gen dskim Single_Dp_to_Kspipi0 281ipb ... done.  
    : dhad-10.1.5 gen dskim Single_Dm_to_Kspipi0 281ipb ... done. 
  
    : dhad-10.1.5 chk dskim Single_Dp_to_Kspipi0 281ipb ... OK.
    : dhad-10.1.5 chk dskim Single_Dm_to_Kspipi0 281ipb ... OK.

*** DONE Run DNTuple
    :LOGBOOK:
    CLOCK: [2010-03-25 Thu 09:26]--[2010-03-25 Thu 09:34] =>  0:08
    CLOCK: [2010-03-24 Wed 14:23]--[2010-03-24 Wed 16:13] =>  1:50
    CLOCK: [2010-03-24 Wed 11:39]--[2010-03-24 Wed 11:57] =>  0:18
    CLOCK: [2010-03-24 Wed 10:33]--[2010-03-24 Wed 11:03] =>  0:30
    CLOCK: [2010-03-18 Thu 14:59]--[2010-03-18 Thu 14:59] =>  0:00
    CLOCK: [2010-03-18 Thu 10:31]--[2010-03-18 Thu 11:57] =>  1:26
    :END:
    
    : dhad-10.1.5 gen ntuple Double_Dp_to_KKpi__Dm_to_KKpi 281ipb --test ... OK.

    Need to think about the output dir... OK. 

    Upadte the py script to use the dtuple.sh from CVS use 10.1.3 cleo ... OK.

    : Dhad-10.1.5 gen ntuple Double_Dp_to_KKpi__Dm_to_KKpi 281ipb ... done. 
    : dhad-10.1.5 chk ntuple Double_Dp_to_KKpi__Dm_to_KKpi 281ipb ... OK.

    Clean files... OK.

    Run for diagonal double :

    : dhad-10.1.5 gen ntuple diagdouble 281ipb --test ... OK.
    : dhad-10.1.5 gen ntuple diagdouble 281ipb ... done. 
    : dhad-10.1.5 chk ntuple diagdouble 281ipb ... OK.


    Run the Kspipi0 for single :

    : dhad-10.1.5 gen ntuple Single_Dp_to_Kspipi0 281ipb --test ... OK.


    : dhad-10.1.5 gen ntuple Single_Dp_to_Kspipi0 281ipb ... done.
    : dhad-10.1.5 gen ntuple Single_Dm_to_Kspipi0 281ipb ... done. 

    : dhad-10.1.5 chk ntuple Single_Dp_to_Kspipi0 281ipb ... OK.
    : dhad-10.1.5 chk ntuple Single_Dm_to_Kspipi0 281ipb ... OK.

*** DONE RUN yields
    :LOGBOOK:
    CLOCK: [2010-03-18 Thu 14:59]--[2010-03-18 Thu 15:01] =>  0:02
    CLOCK: [2010-03-18 Thu 14:30]--[2010-03-18 Thu 14:59] =>  0:29
    CLOCK: [2010-03-18 Thu 11:57]--[2010-03-18 Thu 13:00] =>  1:03
    :END:
    
    : cd $dhad/10.1/dat/signal
    : ln -s $dhad/dat/signal/10.1.5/dtuple_20080624_MCGEN_20071023_MCP2_A/281ipb  281ipbv5

    Run for one mode:

    : dhad-10.1.5 yld signal Double_Dp_to_KKpi__Dm_to_KKpi 281ipbv5 --set interact ... OK.
    : dhad-10.1.5 yld signal Double_Dp_to_KKpi__Dm_to_KKpi 281ipbv5 --test OK.
    : dhad-10.1.5 yld signal Double_Dp_to_KKpi__Dm_to_KKpi 281ipbv5 ... OK.

    Run for diagonal double:

    : dhad-10.1.5 yld signal diagdouble 281ipbv5 --set interact ... OK.
    : dhad-10.1.5 yld signal diagdouble 281ipbv5 --test ... OK.
    : dhad-10.1.5 yld signal diagdouble 281ipbv5 ... OK.


    Run the Kspipi0 for single :

    : dhad-10.1.5 yld signal Single_Dp_to_Kspipi0 281ipbv5 --set interact ... done. 
    : dhad-10.1.5 yld signal Single_Dm_to_Kspipi0 281ipbv5 --set interact ... done. 

*** DONE Run Fits
    :LOGBOOK:
    CLOCK: [2010-03-19 Fri 13:46]--[2010-03-19 Fri 14:24] =>  0:38
    CLOCK: [2010-03-19 Fri 08:58]--[2010-03-19 Fri 10:52] =>  1:54
    CLOCK: [2010-03-18 Thu 16:11]--[2010-03-18 Thu 17:17] =>  1:06
    CLOCK: [2010-03-18 Thu 15:09]--[2010-03-18 Thu 16:00] =>  0:51
    :END:

    Fit for one mode:

    : dhad-10.1.5 fit signal Double_Dp_to_KKpi__Dm_to_KKpi 281ipbv5 --set interact ... OK.
    : dhad-10.1.5 fit signal Double_Dp_to_KKpi__Dm_to_KKpi 281ipbv5 --test  ... OK.
    : dhad-10.1.5 fit signal Double_Dp_to_KKpi__Dm_to_KKpi 281ipbv5 ... OK.
  
    : dhad-10.1.5 fit signal Double_Dp_to_KKpi__Dm_to_KKpi 281ipbv5/resolution --set interact ... OK.
    : dhad-10.1.5 fit signal Double_Dp_to_Kspi__Dm_to_Kspi 281ipbv5/resolution --test ... OK.
    : dhad-10.1.5 fit signal Double_Dp_to_Kspi__Dm_to_Kspi 281ipbv5/resolution  ... OK.

    Fit for diagonal double:

    : dhad-10.1.5 fit signal diagdouble 281ipbv5/resolution --set interact ... OK.
    : dhad-10.1.5 fit signal diagdouble 281ipbv5/resolution --test ... OK.
    : dhad-10.1.5 fit signal diagdouble 281ipbv5/resolution ... done. 

    Save the figures:

    : dhad-10.1.5 fig signal diagdouble 281ipbv5/resolution ... OK.

    [[./10.1/fig/signal_diagdouble_281ipbv5_resolution.org][figure]]

    Register in the Figures section ... OK. 

*** DONE Make parameters table
    :LOGBOOK:
    CLOCK: [2010-03-26 Fri 10:26]--[2010-03-26 Fri 10:44] =>  0:18
    CLOCK: [2010-03-23 Tue 10:17]--[2010-03-23 Tue 11:43] =>  1:26
    CLOCK: [2010-03-19 Fri 14:24]--[2010-03-19 Fri 15:15] =>  0:51
    :END:

    : dhad-10.1.5 tab para momentum resolution 281ipbv5
    
    => [[./10.1/tab/para_momentum_resolution_281ipbv5.org][table]] ([[./10.1/tab/para_momentum_resolution_281ipbv5.info][info]])  

    Make a comparison table with previous ...

    : dhad-10.1.5 tab compare para momentum resolution 281ipbv5

    => [[./10.1/tab/compare_para_momentum_resolution.org][table]]
    [[./10.1/tab/compare_para_momentum_resolution.info][info]]

    Make the chisq with correlation matrix ... do it later.

** Generate Non-Diagnoal Double Tag MC samples for 281/pb (10.1.5) [100%]
*** DONE Run CLEOG
    :LOGBOOK:
    CLOCK: [2010-03-29 Mon 10:40]--[2010-03-29 Mon 10:41] =>  0:01
    CLOCK: [2010-03-26 Fri 16:19]--[2010-03-26 Fri 16:23] =>  0:04
    CLOCK: [2010-03-26 Fri 13:38]--[2010-03-26 Fri 13:49] =>  0:11
    :END:
    
    Run for double non-diagonal ... done. 
    
    : dhad-10.1.5 gen cleog nondiagdouble 281ipb --test ... OK. 
    : dhad-10.1.5 gen cleog nondiagdouble 281ipb ... done. 
    : dhad-10.1.5 chk cleog nondiagdouble 281ipb ... fixing ... done. 

    : dhad-10.1.5 gen cleog Double_Dp_to_Kpipi__Dm_to_KKpi task 3  ... done.
    : dhad-10.1.5 chk cleog Double_Dp_to_Kpipi__Dm_to_KKpi task 3  ... OK.

    : dhad-10.1.5 gen cleog Double_Dp_to_KKpi__Dm_to_Kpipi task 6 ... done. 
    : dhad-10.1.5 gen cleog Double_Dp_to_KKpi__Dm_to_Kspi task 9 ... done.

    : dhad-10.1.5 chk cleog Double_Dp_to_KKpi__Dm_to_Kpipi task 6 ... OK. 
    : dhad-10.1.5 chk cleog Double_Dp_to_KKpi__Dm_to_Kspi task 9 ... OK. 


*** DONE Pass2
    :LOGBOOK:
    CLOCK: [2010-03-29 Mon 11:08]--[2010-03-29 Mon 11:12] =>  0:04
    CLOCK: [2010-03-29 Mon 11:06]--[2010-03-29 Mon 11:07] =>  0:01
    CLOCK: [2010-03-29 Mon 10:41]--[2010-03-29 Mon 10:44] =>  0:03
    CLOCK: [2010-03-26 Fri 16:23]--[2010-03-26 Fri 16:25] =>  0:02
    :END:

    : dhad-10.1.5 gen pass2 nondiagdouble 281ipb --test ... OK.
    : dhad-10.1.5 gen pass2 nondiagdouble 281ipb ... done. 

    : dhad-10.1.5 chk pass2 nondiagdouble 281ipb ... fixing ... done. 


    : dhad-10.1.5 gen pass2 Double_D0_to_Kpipipi__D0B_to_Kpipi0 task 6 ... done.
    : dhad-10.1.5 gen pass2 Double_Dp_to_KKpi__Dm_to_Kspi task 2,3 ... done.

    : dhad-10.1.5 chk pass2 Double_D0_to_Kpipipi__D0B_to_Kpipi0 task 6 ... OK.
    : dhad-10.1.5 chk pass2 Double_Dp_to_KKpi__Dm_to_Kspi task 2,3 ... OK.


    Manually found: (jobID 9 | 81 | 78 |)

    : dhad-10.1.5 gen pass2 Double_Dp_to_KKpi__Dm_to_Kspi task 9 ... done.
    : dhad-10.1.5 chk pass2 Double_Dp_to_KKpi__Dm_to_Kspi task 9 ... OK.

    Clean the cleog files ... OK. 

    : dhad-10.1.5 cln cleog nondiagdouble 281ipb ... 360 cleaned. 
    
*** DONE DSkim
    :LOGBOOK:
    CLOCK: [2010-03-29 Mon 11:16]--[2010-03-29 Mon 11:16] =>  0:00
    CLOCK: [2010-03-29 Mon 11:07]--[2010-03-29 Mon 11:08] =>  0:01
    :END:
    
    : dhad-10.1.5 gen dskim nondiagdouble 281ipb --test ... OK.
    : dhad-10.1.5 gen dskim nondiagdouble 281ipb ... done. 
    : dhad-10.1.5 chk dskim nondiagdouble 281ipb OK.
    
*** DONE Ntuple
    :LOGBOOK:
    CLOCK: [2010-03-29 Mon 11:43]--[2010-03-29 Mon 11:44] =>  0:01
    CLOCK: [2010-03-29 Mon 11:17]--[2010-03-29 Mon 11:18] =>  0:01
    :END:

    : dhad-10.1.5 gen ntuple nondiagdouble 281ipb --test OK.
    : dhad-10.1.5 gen ntuple nondiagdouble 281ipb ... done. 
    : dhad-10.1.5 chk ntuple nondiagdouble 281ipb ... OK.

*** DONE Yields
    :LOGBOOK:
    CLOCK: [2010-03-29 Mon 11:44]--[2010-03-29 Mon 11:47] =>  0:03
    :END:

    Run for non-diagonal double:

    : dhad-10.1.5 yld signal nondiagdouble 281ipbv5 --set interact ... OK.
    : dhad-10.1.5 yld signal nondiagdouble 281ipbv5 --test OK.  
    : dhad-10.1.5 yld signal nondiagdouble 281ipbv5 ... done. 

    
*** DONE Fits
    :LOGBOOK:
    CLOCK: [2010-03-29 Mon 12:06]--[2010-03-29 Mon 12:19] =>  0:13
    CLOCK: [2010-03-29 Mon 11:48]--[2010-03-29 Mon 11:51] =>  0:03
    :END:

    : dhad-10.1.5 fit signal nondiagdouble 281ipbv5 --set interact ... OK.
    : dhad-10.1.5 fit signal nondiagdouble 281ipbv5 --test OK.
    : dhad-10.1.5 fit signal nondiagdouble 281ipbv5 ... done. 
    : dhad-10.1.5 fit signal diagdouble 281ipbv5 ... done. 

    Save the figures:

    : dhad-10.1.5 fig signal double 281ipbv5 ... done. 

    [[./10.1/fig/signal_double_281ipbv5.org][figure]] 
** Process 281/pb with updated momentum resolution paramters and D-Dalitz structure (10.1.5) [100%]
*** DONE Arrange the root files
    :LOGBOOK:
    CLOCK: [2010-03-19 Fri 15:24]--[2010-03-19 Fri 15:34] =>  0:10
    :END:

    : cd $dhad/dat/signal/10.1.5/dtuple_20080624_MCGEN_20071023_MCP2_A/281ipb
    : ln -s $dhad/dat/signal/10.1.4/dtuple_20080624_MCGEN_20071023_MCP2_A/Single_D* .

    : ln: `./Single_Dm_to_Kspipi0.root': File exists
    : ln: `./Single_Dp_to_Kspipi0.root': File exists  
    
    These two files are using the updated dalitz structure.

    Link the data:

    : cd $dhad/10.1/dat/data
    : ln -s 281ipb 281ipbv5  

*** DONE Run Yields
    :LOGBOOK:
    CLOCK: [2010-03-25 Thu 16:59]--[2010-03-25 Thu 17:00] =>  0:01
    CLOCK: [2010-03-22 Mon 10:05]--[2010-03-22 Mon 10:52] =>  0:47
    CLOCK: [2010-03-19 Fri 16:45]--[2010-03-19 Fri 16:52] =>  0:07
    CLOCK: [2010-03-19 Fri 15:34]--[2010-03-19 Fri 15:46] =>  0:12
    :END:

    : dhad-10.1.5 yld signal Single_Dp_to_Kspipipi 281ipbv5 --set interact --test ... OK.
    : dhad-10.1.5 yld signal single 281ipbv5 --test ... OK.
    : dhad-10.1.5 yld signal single 281ipbv5 ... done.

    : dhad-10.1.5 yld data Single_Dp_to_Kspipipi 281ipbv5 --set interact --test ... OK.
    : dhad-10.1.5 yld data single 281ipbv5 --test ... OK. 
    : dhad-10.1.5 yld data single 281ipbv5  ... done.

*** DONE Run Fits with new paras
    :LOGBOOK:
    CLOCK: [2010-03-22 Mon 11:32]--[2010-03-22 Mon 11:34] =>  0:02
    CLOCK: [2010-03-22 Mon 10:52]--[2010-03-22 Mon 10:56] =>  0:04
    CLOCK: [2010-03-22 Mon 09:58]--[2010-03-22 Mon 10:05] =>  0:07
    CLOCK: [2010-03-19 Fri 16:52]--[2010-03-19 Fri 17:03] =>  0:11
    CLOCK: [2010-03-19 Fri 16:41]--[2010-03-19 Fri 16:45] =>  0:04
    CLOCK: [2010-03-19 Fri 16:04]--[2010-03-19 Fri 16:04] =>  0:00
    CLOCK: [2010-03-19 Fri 15:46]--[2010-03-19 Fri 16:03] =>  0:17
    :END:

    Fit for one mode:
    
    : dhad-10.1.5 fit signal Single_Dp_to_Kspipipi 281ipbv5 --set interact ... OK.
    : dhad-10.1.5 fit signal Single_Dp_to_Kspipipi 281ipbv5 --test ... OK. 

    : dhad-10.1.5 fit data Single_Dp_to_Kspipipi 281ipbv5 --set interact ... OK.

    Fit all:
    : dhad-10.1.5 fit signal single 281ipbv5  --test ... OK.
    : dhad-10.1.5 fit signal single 281ipbv5 ... done.

    : dhad-10.1.5 fit data single 281ipbv5  --test ... OK.
    : dhad-10.1.5 fit data single 281ipbv5  ... done. 


    Save the figures ... publish ... book ... OK.
    : dhad-10.1.5 fig signal single 281ipbv5 ... 

    [[./10.1/fig/signal_single_281ipbv5.org][figure]]
    
    : dhad-10.1.5 fig data single 281ipbv5 ... 

    [[./10.1/fig/data_single_281ipbv5.org][figure]]
    
*** DONE Make tables
    :LOGBOOK:
    CLOCK: [2010-03-23 Tue 09:50]--[2010-03-23 Tue 10:06] =>  0:16
    CLOCK: [2010-03-22 Mon 11:52]--[2010-03-22 Mon 12:18] =>  0:26
    :END:

    Compare the 281ipbv5 with the original :

    : dhad-10.1.5 tab compare yields signal single 7.06/281ipb 281ipbv5 --set label=original,v5

    => [[./10.1/tab/compare_yields_signal_single_7.06_281ipb_281ipbv5.org][table]]
    [[./10.1/tab/compare_yields_signal_single_7.06_281ipb_281ipbv5.info][info]]

    Compare the 281ipbv5 with the 281ipbv2 :

    : dhad-10.1.5 tab compare yields signal single 281ipbv2 281ipbv5 --set label=v2,v5

    => [[./10.1/tab/compare_yields_signal_single_281ipbv2_281ipbv5.org][table]]
    [[./10.1/tab/compare_yields_signal_single_281ipbv2_281ipbv5.info][info]]

    Compare the 281ipbv5 with the original for data:

    : dhad-10.1.5 tab compare yields data single 7.06/281ipb 281ipbv5 --set label=original,v5
    => [[./10.1/tab/compare_yields_data_single_7.06_281ipb_281ipbv5.org][table]]
    [[./10.1/tab/compare_yields_data_single_7.06_281ipb_281ipbv5.info][info]]    

    Compare the 281ipbv5 with the 281ipb (Dskimv2) - data :

    : dhad-10.1.5 tab compare yields data single 281ipb 281ipbv5 --set label=v2,v5
    => [[./10.1/tab/compare_yields_data_single_281ipb_281ipbv5.org][table]]
    [[./10.1/tab/compare_yields_data_single_281ipb_281ipbv5.info][info]]
** Process 281/pb double tags for Data (10.1.5) [100%]
*** DONE Run Yields
    :LOGBOOK:
    CLOCK: [2010-03-26 Fri 11:07]--[2010-03-26 Fri 11:07] =>  0:00
    CLOCK: [2010-03-26 Fri 10:44]--[2010-03-26 Fri 10:51] =>  0:07
    CLOCK: [2010-03-26 Fri 09:40]--[2010-03-26 Fri 09:46] =>  0:06
    :END:

    Run for one mode:

    : dhad-10.1.5 yld data Double_Dp_to_KKpi__Dm_to_KKpi 281ipbv5 --set interact --test ... OK.

    Run for double:

    : dhad-10.1.5 yld data double 281ipbv5 --set interact --test ... OK.
    : dhad-10.1.5 yld data double 281ipbv5 --test ... OK.
    : dhad-10.1.5 yld data double 281ipbv5 ... done.

 
*** DONE Run mBC fits
    :LOGBOOK:
    CLOCK: [2010-03-26 Fri 11:49]--[2010-03-26 Fri 11:53] =>  0:04
    CLOCK: [2010-03-26 Fri 11:07]--[2010-03-26 Fri 11:25] =>  0:18
    :END:

    Fit for one mode:
    
   : dhad-10.1.5 fit data Double_Dp_to_KKpi__Dm_to_KKpi 281ipbv5 --set interact ... OK.

    Fit for double:

    : dhad-10.1.5 fit data double 281ipbv5 --set interact OK.
    : dhad-10.1.5 fit data double 281ipbv5 --test OK.
    : dhad-10.1.5 fit data double 281ipbv5 ... done.


    Save the figures ...
    : dhad-10.1.5 fig data double 281ipbv5 ...  OK.

    [[./10.1/fig/data_double_281ipbv5.org][figure]]
** Reproduce the Branching Fractions for 281/pb with original sys err (10.1.5) [100%]
*** DONE Go over the BF fitter process 
    :LOGBOOK:
    CLOCK: [2010-03-30 Tue 11:43]--[2010-03-30 Tue 12:00] =>  0:17
    CLOCK: [2010-03-30 Tue 11:12]--[2010-03-30 Tue 11:30] =>  0:18
    CLOCK: [2010-03-30 Tue 10:18]--[2010-03-30 Tue 10:31] =>  0:13
    CLOCK: [2010-03-30 Tue 08:47]--[2010-03-30 Tue 08:57] =>  0:10
    CLOCK: [2010-03-26 Fri 13:49]--[2010-03-26 Fri 14:43] =>  0:54
    CLOCK: [2010-03-26 Fri 13:14]--[2010-03-26 Fri 13:36] =>  0:22
    CLOCK: [2010-03-26 Fri 11:55]--[2010-03-26 Fri 12:34] =>  0:39
    CLOCK: [2010-03-25 Thu 15:44]--[2010-03-25 Thu 16:51] =>  1:07
    :END:

    : dhad-10.1.5 brf 281ipbv5 ...

    Need to process data double tags ... done. 

    Copy the tag numbers:
    : cp  $dhad/src/10.1.4/gen/tag_numbers/* $dhad/src/10.1.5/gen/tag_numbers/
    
    Copy the files:
    : cp /nfs/cor/user/ponyisi/hadD/summerconf/yields_and_efficiencies $src/gen

    Need to ask Peter about the generation of this file ... do it later.

    Need to process the signal double sample ... waiting ... done. 

    Proceed the "data_fit_staterrors"... found error:

    :   File "/a/lnx112/nfs/cor/user/xs32/local/work/CLEO/analysis/DHad/src/10.1.5/python/brf/staterr.py", line 127, in run_bf_fi
    : tter                                                                                                                      
    :     output = commands.getoutput(com)
    :   File "/nfs/cleo3/Offline/other_sources/pkg/python/Python-2.4/install/lib/python2.4/commands.py", line 44, in getoutput
    :     return getstatusoutput(cmd)[1]
    :   File "/nfs/cleo3/Offline/other_sources/pkg/python/Python-2.4/install/lib/python2.4/commands.py", line 54, in getstatusout
    : put                                                                                                                       
    :     text = pipe.read()
    : SystemError: Objects/stringobject.c:3516: bad argument to internal function
   
    Ask Werner about : ... sent. 

    : /home/wsun/c3lib/HadronicDBrFitter/build/HDBFitter

    Replay from Werner:
 
    : Look in
    : /home/wsun/c3lib/HadronicDBrFitter.save/buildLnx/HDBFitter20070611
    : instead.  You should probably copy the executable to your own area.
    
    Copy it to my own area:

    : cp /home/wsun/c3lib/HadronicDBrFitter.save/buildLnx/HDBFitter20070611 $dhad/src/10.1.5/brf/

    Update the script and try again ... works. 

    Reply to Werner ... 

    Need the signal_line_shape_syst.txt ... still using the old other tables. ...OK.

    : dhad-10.1.5 tab combine signal_line_shape_syst
    
    => [[./10.1/tab/signal_line_shape_syst.org][table]] ([[./10.1/tab/signal_line_shape_syst.info][info]])

    Need the FSR_syst.txt ... still use the old FSR study table ... OK.

    : dhad-10.1.5 tab combine fsr_syst
    => [[./10.1/tab/FSR_syst.org][table]] ([[./10.1/tab/FSR_syst.info][info]])

*** DONE Reproduce the old one
    :LOGBOOK:
    CLOCK: [2010-04-21 Wed 16:15]--[2010-04-21 Wed 16:17] =>  0:02
    CLOCK: [2010-03-30 Tue 15:47]--[2010-03-30 Tue 16:07] =>  0:20
    :END:

    : cd $dhad/10.1/dat/fit
    : ln -s $dhad/7.06/dat/fit/regular 281ipbv0  
    : dhad-10.1.5 brf 281ipbv0 ... done.

    Original compare with PDG 2009: 
    
    : dhad-10.1.5 tab compare pdg2009 281ipbv0 

    => [[./10.1/tab/compare_pdg2009_281ipbv0.org][table]] ([[./10.1/tab/compare_pdg2009_281ipbv0.info][info]])
    
*** DONE Create =yields_and_efficiencies= file: explore the procedure
    :LOGBOOK:
    CLOCK: [2010-04-19 Mon 15:34]--[2010-04-19 Mon 16:03] =>  0:29
    CLOCK: [2010-04-19 Mon 14:32]--[2010-04-19 Mon 15:31] =>  0:59
    CLOCK: [2010-04-18 Sun 08:27]--[2010-04-18 Sun 09:00] =>  0:33
    CLOCK: [2010-04-17 Sat 10:07]--[2010-04-17 Sat 10:40] =>  0:33
    CLOCK: [2010-04-16 Fri 17:18]--[2010-04-16 Fri 17:30] =>  0:12
    CLOCK: [2010-04-16 Fri 09:22]--[2010-04-16 Fri 14:47] =>  5:25
    CLOCK: [2010-04-15 Thu 14:09]--[2010-04-15 Thu 16:45] =>  2:36
    CLOCK: [2010-04-15 Thu 10:34]--[2010-04-15 Thu 12:37] =>  2:03
    CLOCK: [2010-04-14 Wed 14:50]--[2010-04-14 Wed 16:09] =>  1:19
    CLOCK: [2010-04-14 Wed 13:47]--[2010-04-14 Wed 14:40] =>  0:53
    CLOCK: [2010-04-14 Wed 12:33]--[2010-04-14 Wed 12:48] =>  0:15
    CLOCK: [2010-04-14 Wed 09:33]--[2010-04-14 Wed 10:11] =>  0:38
    CLOCK: [2010-04-13 Tue 10:38]--[2010-04-13 Tue 12:03] =>  1:25
    CLOCK: [2010-04-13 Tue 09:04]--[2010-04-13 Tue 10:32] =>  1:28
    CLOCK: [2010-04-12 Mon 13:43]--[2010-04-12 Mon 17:02] =>  3:19
    CLOCK: [2010-04-12 Mon 10:26]--[2010-04-12 Mon 12:11] =>  1:45
    CLOCK: [2010-04-12 Mon 09:25]--[2010-04-12 Mon 10:12] =>  0:47
    CLOCK: [2010-04-09 Fri 17:27]--[2010-04-09 Fri 17:32] =>  0:05
    CLOCK: [2010-04-09 Fri 10:30]--[2010-04-09 Fri 12:24] =>  1:54
    CLOCK: [2010-04-08 Thu 10:48]--[2010-04-08 Thu 17:01] =>  6:13
    CLOCK: [2010-04-07 Wed 15:04]--[2010-04-07 Wed 16:44] =>  1:40
    CLOCK: [2010-04-07 Wed 12:58]--[2010-04-07 Wed 14:09] =>  1:11
    CLOCK: [2010-04-07 Wed 09:56]--[2010-04-07 Wed 11:04] =>  1:08
    CLOCK: [2010-04-07 Wed 09:16]--[2010-04-07 Wed 09:52] =>  0:36
    CLOCK: [2010-04-06 Tue 16:25]--[2010-04-06 Tue 16:30] =>  0:05
    CLOCK: [2010-04-06 Tue 14:57]--[2010-04-06 Tue 16:11] =>  1:14
    CLOCK: [2010-04-06 Tue 11:22]--[2010-04-06 Tue 13:38] =>  2:16
    CLOCK: [2010-04-02 Fri 14:04]--[2010-04-02 Fri 14:59] =>  0:55
    CLOCK: [2010-04-02 Fri 10:00]--[2010-04-02 Fri 12:20] =>  2:20
    CLOCK: [2010-04-01 Thu 16:46]--[2010-04-01 Thu 17:00] =>  0:14
    CLOCK: [2010-03-30 Tue 15:44]--[2010-03-30 Tue 15:47] =>  0:03
    CLOCK: [2010-03-29 Mon 11:13]--[2010-03-29 Mon 11:16] =>  0:03
    :END:

    Ask Peter ... sent.

    Refer to file:

    : /nfs/cor/user/ponyisi/hadD/summerconf/yieldsprint.py

    Fitting for one mode with copied evt file from Peter ...

    : dhad-10.1.5 fit crossfeeds signal 281ipbv0 

    Save the log file [[./log/2010/0406/cross.txt][cross.txt]]. (Copied the wrong evt file.)
    
    Fitting Peter's evt file ... [[./log/2010/0406/cross.txt.1][cross.txt.1]] Still Aborted.

    Use Peter's setup Root ... can not be used. 

    Fit without plotting ... [[./log/2010/0406/cross.txt.2][cross.txt.2]] one mode OK.

    Fit with plot, compare with mbc fitting code  ...

    Run into problem when calling "RooArgSet(argus)", ask Peter ... sent.

    Test the fit in 2.2 ... same error. 

    : dhad-2.2 fit crossfeeds signal 281ipbv0 ... same error. 

    Install the ROOT 5.16 ... done.

    Try again ... not work.

    : dhad-10.1.5 fit crossfeeds signal 281ipbv0 

    Install the python 2.6.5 ... done.

    Try again:

    : /home/xs32/local/share/root/lib/ROOT.py:86: RuntimeWarning: Python C API version mismatch for module libPyROOT: This Python
    :  has API version 1013, module libPyROOT has version 1012.                                                                 
    :   import libPyROOT as _root
    : 
    :  *** Break *** segmentation violation
    : Segmentation fault
    

    Read [[http://root.cern.ch/drupal/content/pyroot][PyROOT]].

    Enable roofit and python 

    : ./configure --enable-roofit  --enable-python --with-python-incdir=$HOME/local/include/python2.6 --with-python-libdir=$HOME/local/lib/python2.6
    
    No need. Just enable roofit is OK. 

    : make clean  // This one does the work!
    : ./configure --enable-roofit
    : make 


    OK. The PyROOT is loading!!

    Now, problem happens at :

    : sumpdf_float.fitTo(dset2,'ermq')

    :     rv = sumpdf_float.fitTo(dset2,'ermq')
    : TypeError: none of the 2 overloaded methods succeeded. Full details:
    :   RooFitResult* RooAbsPdf::fitTo(RooAbsData& data, RooCmdArg arg1 = RooCmdArg::none(), RooCmdArg arg2 = RooCmdArg::none(), 
    : RooCmdArg arg3 = RooCmdArg::none(), RooCmdArg arg4 = RooCmdArg::none(), RooCmdArg arg5 = RooCmdArg::none(), RooCmdArg arg6 
    : = RooCmdArg::none(), RooCmdArg arg7 = RooCmdArg::none(), RooCmdArg arg8 = RooCmdArg::none()) =>                           
    :     could not convert argument 2
    :   RooFitResult* RooAbsPdf::fitTo(RooAbsData& data, const RooLinkedList& cmdList) =>
    :     could not convert argument 2

    Enclose the options into RooCmdArg:

    :  option_extend = RooCmdArg('Extended', True)
    :  option_save = RooCmdArg('Save', True)
    :  option_hesse = RooCmdArg('Hesse', False)
    :  option_verbose = RooCmdArg('Verbose', False)
    
    Read [[http://root.cern.ch/root/html526/src/RooFit.cxx.html][page]] for Components...

    Problem in the components stage:

    : [#0] ERROR:Plotting -- RooAbsPdf::plotOn(sumpdf_float) ERROR:
    : component selection set = does not match any components of p.d.f.

    Try mode : D+ -> Ks pi pi pi fakes D+ -> KS pi pi0

    : dhad-10.1.5 fit crossfeeds signal Single_Dp_to_Kspipipi fakes Single_Dp_to_Kpipipi0 281ipbv0 

    Internal: (204, 1) (204, 1)

    Work on the diagnal, mode by mode batch job, save the log file and then parse ... done. 

    : dhad-10.1.5 fit crossfeeds signal Single_Dp_to_Kspipipi 281ipbv0 --set interact ... OK.
    : dhad-10.1.5 fit crossfeeds signal Single_Dp_to_Kspipipi 281ipbv0 --test ... OK.

    : dhad-10.1.5 fit crossfeeds signal Single_Dp_to_Kspipipi 281ipbv0 ... too many details in current stage!

    Consider on big fit in batch mode:

    : dhad-10.1.5 fit crossfeeds signal 281ipbv0 --set interact ... 
    
    Used the :

    : ROOT.RooFit.Components(ROOT.RooArgSet(argus)

    Still the same error. 

    Move on...

    Consulting the =rf205_compplot.C= ... plot OK.

    Need to learn from this example ... no able to translate to pyroot. 

    Translate the crossfeeds pyroot into C ... works.

*** DONE Same evtfile input, fit with ROOT5.26 and RooFit3.12
    :LOGBOOK:
    CLOCK: [2010-04-19 Mon 16:06]--[2010-04-19 Mon 16:06] =>  0:00
    :END:

    : setpyroot l 

    Stage 0 in batch ... done. 

    : dhad-10.1.5 fit crossfeeds signal diag 281ipbv0 --set interact ... done. 

    One mode in stage 1 ... 

    : dhad-10.1.5 fit crossfeeds signal nondiag 281ipbv0 --set interact  ... done. 

    Make the yldfile:

    : dhad-10.1.5 tab brf yields_and_efficiencies 281ipbv0
 
    Save the output file as suffix root5.26. 

    Did not save the plots due to the different RooFit code. Do it in the later version. 

    Now, concentrate on the default ROOT (4.03) and RooFit (1.92)

    
*** DONE Same evtfile input, fit with ROOT4.03 and RooFit1.92 (281ipbv0.1)
    :LOGBOOK:
    CLOCK: [2010-04-20 Tue 09:23]--[2010-04-20 Tue 09:54] =>  0:31
    CLOCK: [2010-04-19 Mon 16:34]--[2010-04-19 Mon 17:14] =>  0:40
    CLOCK: [2010-04-19 Mon 16:03]--[2010-04-19 Mon 16:06] =>  0:03
    :END:

    Go back to the original ROOFit settings ... 

    : dhad-10.1.5 fit crossfeeds signal diag 281ipbv0 --set interact ... OK. 

    Fit for one mode:

    : dhad-10.1.5 fit crossfeeds signal diag 281ipbv0  --set interact:mode=204:sign=-1 ... OK.
    : dhad-10.1.5 fit crossfeeds signal diag 281ipbv0  --set mode=204:sign=-1 --test ... OK.
    : dhad-10.1.5 fit crossfeeds signal diag 281ipbv0  --set mode=204:sign=-1 ... OK.

    Fit for all diag:

    : dhad-10.1.5 fit crossfeeds signal diag 281ipbv0  --test ... OK.
    : dhad-10.1.5 fit crossfeeds signal diag 281ipbv0  ... done.

    
    Fit for one mode nondiag:

    : dhad-10.1.5 fit crossfeeds signal nondiag 281ipbv0  --set interact:mode=204 ... OK.
    
    Need to work on the batch ... 
    : dhad-10.1.5 fit crossfeeds signal nondiag 281ipbv0  --set mode=204 --test ... OK.
    : dhad-10.1.5 fit crossfeeds signal nondiag 281ipbv0  --set mode=204 ... OK.

    Fit for all non-diag:
    : dhad-10.1.5 fit crossfeeds signal nondiag 281ipbv0 --test ... OK.
    : dhad-10.1.5 fit crossfeeds signal nondiag 281ipbv0 ... done. 


    Move the plots, txt, logs to 281ipbv0.1... done. 

    : cd $dhad/10.1/fig
    : mkdir -p 281ipbv0.1/crossfeeds
    : mv 281ipbv0/crossfeeds/* 281ipbv0.1/crossfeeds

    : cd $dhad/10.1/log
    : mv 281ipbv0 281ipbv0.1 

    : cd $dhad/10.1/dat/fit
    : rm 281ipbv0.1 (softlink)
    : mkdir 281ipbv0.1
    : mv 281ipbv0/crossfeeds 281ipbv0.1
    

    Save the plots:

    : dhad-10.1.5 fig crossfeeds signal diag 281ipbv0.1 ... OK.
    [[./10.1/fig/crossfeeds_signal_diag_281ipbv0.1.org][figure]]

    : dhad-10.1.5 fig crossfeeds signal nondiag 281ipbv0.1 ... OK.

    [[./10.1/fig/crossfeeds_signal_nondiag_281ipbv0.1.org][figure]]


    Copy Peter's plots to 281ipbv0:
    : cd $dhad/10.1/fig
    : cp /nfs/cor/user/ponyisi/hadD/summerconf/eps/* 281ipbv0/crossfeeds

    Save Peter's plots:

    : dhad-10.1.5 fig crossfeeds signal diag 281ipbv0 ... OK.
    [[./10.1/fig/crossfeeds_signal_diag_281ipbv0.org][figure]]

    : dhad-10.1.5 fig crossfeeds signal nondiag 281ipbv0 ... OK.

    [[./10.1/fig/crossfeeds_signal_nondiag_281ipbv0.org][figure]]

    Make the yldfile: (back up the root5.26)
       
    : dhad-10.1.5 tab brf yields_and_efficiencies 281ipbv0 ... OK.

*** DONE Investigate the fit difference
    :LOGBOOK:
    CLOCK: [2010-04-30 Fri 09:56]--[2010-04-30 Fri 10:01] =>  0:05
    CLOCK: [2010-04-21 Wed 10:27]--[2010-04-21 Wed 11:10] =>  0:43
    CLOCK: [2010-04-20 Tue 19:30]--[2010-04-20 Tue 19:42] =>  0:12
    CLOCK: [2010-04-20 Tue 16:12]--[2010-04-20 Tue 16:37] =>  0:25
    CLOCK: [2010-04-20 Tue 13:05]--[2010-04-20 Tue 13:11] =>  0:06
    CLOCK: [2010-04-20 Tue 11:04]--[2010-04-20 Tue 12:00] =>  0:56
    :END:

    Some bigger difference:

    My ROOT4.03:
    : D0B_to_Kpipi0 fakes Dm_to_Kspipi0: 4.308048 197217 83.303221 0.000422 0.000098 
    : Dm_to_Kpipi fakes D0B_to_Kpipi0: 22.965554 79929 1022.363586 0.012791 0.000557  

    Peter's:
    : D0B_to_Kpipi0 fakes Dm_to_Kspipi0: 0.000000 197217 0.000000 0.000000 0.000000
    : Dm_to_Kpipi fakes D0B_to_Kpipi0: 3.861486 79929 842.594574 0.010542 0.002730
    
    List all of the difference and think ...

    Proceed to get the BR for both 4.03 and 5.26 to compare the values... done. 

    Compare the fitting plots:

    My version: 

    | Mode                                  | Peter's | My Version | Parameter fit (Peter) | Parameter (my) |
    |---------------------------------------+---------+------------+-----------------------+----------------|
    | D0B\_to\_Kpipi0 fakes Dm\_to\_Kspipi0 | [[./10.1/fig/281ipbv0/crossfeeds/signal_Single_D0B_to_Kpipi0_fakes_Single_Dm_to_Kspipi0.pdf][fig]]     | [[./10.1/fig/281ipbv0.1/crossfeeds/signal_Single_D0B_to_Kpipi0_fakes_Single_Dm_to_Kspipi0.pdf][fig]]        | [[./10.1/fig/281ipbv0/crossfeeds/signal_Single_Dm_to_Kspipi0_fakes_Single_Dm_to_Kspipi0.pdf][fig]]                   | [[./10.1/fig/281ipbv0.1/crossfeeds/signal_Single_Dm_to_Kspipi0_fakes_Single_Dm_to_Kspipi0.pdf][fig]]            |
    | Dm\_to\_Kpipi fakes D0B\_to\_Kpipi0   | [[./10.1/fig/281ipbv0/crossfeeds/signal_Single_Dm_to_Kpipi_fakes_Single_D0B_to_Kpipi0.pdf][fig]]     | [[./10.1/fig/281ipbv0.1/crossfeeds/signal_Single_Dm_to_Kpipi_fakes_Single_D0B_to_Kpipi0.pdf][fig]]        | [[./10.1/fig/281ipbv0/crossfeeds/signal_Single_D0B_to_Kpipi0_fakes_Single_D0B_to_Kpipi0.pdf][fig]]                   | [[./10.1/fig/281ipbv0.1/crossfeeds/signal_Single_D0B_to_Kpipi0_fakes_Single_D0B_to_Kpipi0.pdf][fig]]            |

    Fit with the old MARKIII lineshape, see [[http://www.lepp.cornell.edu/~xs32/private/DHad/rel-9.03-details#sec-1.16.2][page]]. ...

    Read CBX and think ...

    Noticed the timestamp of the related evt, eps, and python files, they all consistent in 2006

    The input evt files in /nfs/cor/user/ponyisi/hadD/summerconf/bkgs:

    :  -rw-r--r--  1 ponyisi cleo  552K Oct  5  2005 signal_Single_D0B_to_Kpi_fakes_Single_D0B_to_Kpi.evt
    :  -rw-r--r--  1 ponyisi cleo  551K Oct  5  2005 signal_Single_D0B_to_Kpi_fakes_Single_D0B_to_Kpipi0.evt
    :  -rw-r--r--  1 ponyisi cleo  551K Oct  5  2005 signal_Single_D0B_to_Kpi_fakes_Single_D0B_to_Kpipipi.evt
    :  -rw-r--r--  1 ponyisi cleo  531K Oct  5  2005 signal_Single_D0B_to_Kpi_fakes_Single_D0_to_Kpi.evt
    :  -rw-r--r--  1 ponyisi cleo  475K Oct  5  2005 signal_Single_D0B_to_Kpi_fakes_Single_D0_to_Kpipi0.evt
    :  -rw-r--r--  1 ponyisi cleo  508K Oct  5  2005 signal_Single_D0B_to_Kpi_fakes_Single_D0_to_Kpipipi.evt

    The python file in :  /nfs/cor/user/ponyisi/hadD/summerconf

    :  -rw-r--r--  1 ponyisi cleo 6.6K Oct  5  2005 stupidcrossfeedplot.py
    
    The output eps file in:  /nfs/cor/user/ponyisi/hadD/summerconf/eps

    :  -rw-r--r--  1 ponyisi cleo  25K Oct  5  2005 signal_Single_D0B_to_Kpi_fakes_Single_D0B_to_Kpi.eps
    :  -rw-r--r--  1 ponyisi cleo  29K Oct  5  2005 signal_Single_D0B_to_Kpi_fakes_Single_D0B_to_Kpipi0.eps
    :  -rw-r--r--  1 ponyisi cleo  19K Oct  5  2005 signal_Single_D0B_to_Kpi_fakes_Single_D0B_to_Kpipipi.eps
    :  -rw-r--r--  1 ponyisi cleo  20K Oct  5  2005 signal_Single_D0B_to_Kpi_fakes_Single_D0_to_Kpi.eps
    :  -rw-r--r--  1 ponyisi cleo  20K Oct  5  2005 signal_Single_D0B_to_Kpi_fakes_Single_D0_to_Kpipi0.eps
    :  -rw-r--r--  1 ponyisi cleo  18K Oct  5  2005 signal_Single_D0B_to_Kpi_fakes_Single_D0_to_Kpipipi.eps
    
    The output txt file in : /nfs/cor/user/ponyisi/hadD/summerconf

    :  -rw-r--r--  1 ponyisi cleo  24K Oct  6  2005 yields_and_efficiencies

    Also, the same plots used in the CBX. So, that should be the one Peter used. 

    Ask Peter to do a favor of re-runing the fits, but back-up the eps
    directory and the =yields_and_efficiencies= file... sent.

    Reply from Peter:

    : This file is not used directly in the fitter - the file that actually
    : encodes the crossfeed for the fitter is
    : "signal_single_efficiencies_for_werner", which has only one crossfeed as
    : we expect (K- pi+ <-> K+ pi-).  How are you generating this?
    
    Reply to Peter ... sent.

    Need to re-read the code in scripy/python ... confirmed the yldfile was using Peter's. 

    Read [[http://www.lepp.cornell.edu/~xs32/private/DHad/archives/2007/03.html#sec18][log]] when first using the BF ... OK.

    Message from Peter:

    : Ok, the code is sophisticated enough that I can't quite figure it
    : out :-) If you're able to reproduce the same
    : signal_single_efficiencies_for_werner, etc. that I have, then you must
    : be generating the files from something other than the output of
    : stupidcrossfeedplot.py.


    Compare the =signal_single_efficiencies_for_werner= between Peter and I... not same. 

    : /nfs/cor/user/ponyisi/hadD/summerconf/signal_single_efficiencies_for_werner
    : /home/xs32/work/CLEO/analysis/DHad/7.06/dat/bf/K0S/signal_single_efficiencies_for_werner

    Reply to Peter ... sent. 

    How did Peter generate the =signal_single_efficiencies_for_werner= ? 
    Using the yieldsprint.py which I had translated to my version already. 

    Pause at here and think from the CBX ... Just the diagonal
    efficiencies were considered. 


*** DONE Same evtfile input, fit with ROOT4.03 and RooFit1.92, old MARKIII line shape (281ipbv0.3)
    :LOGBOOK:
    CLOCK: [2010-04-21 Wed 08:53]--[2010-04-21 Wed 09:06] =>  0:13
    CLOCK: [2010-04-20 Tue 19:22]--[2010-04-20 Tue 19:30] =>  0:08
    CLOCK: [2010-04-20 Tue 13:11]--[2010-04-20 Tue 13:44] =>  0:33
    :END:
    See [[http://www.lepp.cornell.edu/~xs32/private/DHad/rel-9.03-details#sec-1.16.2][page]] for more details.

    Fit the trouble mode first:

    "D0B to K+ pi pi0" (mode 1, sign-1) 

    : dhad-10.1.5 fit crossfeeds signal diag 281ipbv0.3  --set interact:mode=1:sign=-1 ...OK.
    : dhad-10.1.5 fit crossfeeds signal diag 281ipbv0.3  --set mode=1:sign=-1 --test ... OK.
    : dhad-10.1.5 fit crossfeeds signal diag 281ipbv0.3  --set mode=1:sign=-1 ... done.

    Fit all diag :

    : dhad-10.1.5 fit crossfeeds signal diag 281ipbv0.3  --test OK.
    : dhad-10.1.5 fit crossfeeds signal diag 281ipbv0.3 ... done. 

    Fit for non-diag :
    : dhad-10.1.5 fit crossfeeds signal nondiag 281ipbv0.3  --set interact:mode=1 ... OK.
    : dhad-10.1.5 fit crossfeeds signal nondiag 281ipbv0.3  --set mode=1 --test ... OK.
    : dhad-10.1.5 fit crossfeeds signal nondiag 281ipbv0.3  --set mode=1 ... OK.
    : dhad-10.1.5 fit crossfeeds signal nondiag 281ipbv0.3 --test OK.
    : dhad-10.1.5 fit crossfeeds signal nondiag 281ipbv0.3 ... done.

    Save the plots:
    
    : dhad-10.1.5 fig crossfeeds signal diag 281ipbv0.3 ... OK.
    [[./10.1/fig/crossfeeds_signal_diag_281ipbv0.3.org][figure]]

    : dhad-10.1.5 fig crossfeeds signal nondiag 281ipbv0.3 ... OK.
    [[./10.1/fig/crossfeeds_signal_nondiag_281ipbv0.3.org][figure]]

    Make the yldfile: 

    : dhad-10.1.5 tab brf yields_and_efficiencies 281ipbv0.3 ... OK.

    Compare it with 0.1 ... they are the same. So the MARKIII
    lineshape has not effact on it. 

*** DONE Make the crossfeed bkg files and fit with default env (281ipbv0.4)
    :LOGBOOK:
    CLOCK: [2010-04-21 Wed 11:10]--[2010-04-21 Wed 11:16] =>  0:06
    CLOCK: [2010-04-21 Wed 09:07]--[2010-04-21 Wed 09:11] =>  0:04
    CLOCK: [2010-04-20 Tue 16:42]--[2010-04-20 Tue 16:59] =>  0:17
    :END:

    : dhad-10.1.5 yld crossfeeds signal 281ipbv2 (v0 is not there now)

    The crossfeeds is running, but need to close the pt Chain first
    (replace the TFile close.) .... OK.

    Use the an1 later.... OK.

    Test on one mode:

    : dhad-10.1.5 yld crossfeeds signal Single_Dp_to_Kspipipi 281ipbv0 --set interact ... OK.

    For batch mode:

    : dhad-10.1.5 yld crossfeeds signal Single_Dp_to_Kspipipi 281ipbv0 --test ... OK.
    : dhad-10.1.5 yld crossfeeds signal Single_Dp_to_Kspipipi 281ipbv0 ... OK.


    For single:

    : dhad-10.1.5 yld crossfeeds signal single 281ipbv0 --set interact --test ... OK.
    : dhad-10.1.5 yld crossfeeds signal single 281ipbv0 --test ... OK.
    : dhad-10.1.5 yld crossfeeds signal single 281ipbv0 ... done.

    Need to compare the =yields_and_efficiencies= file when the problem of fitting is fixed... done.

    : dhad-10.1.5 fit crossfeeds signal diag 281ipbv0.4  --set interact:mode=1:sign=-1 ... OK.
    : dhad-10.1.5 fit crossfeeds signal diag 281ipbv0.4  --test ... OK.
    : dhad-10.1.5 fit crossfeeds signal diag 281ipbv0.4 ... done.

    : dhad-10.1.5 fit crossfeeds signal nondiag 281ipbv0.4  --set interact:mode=1 ... OK.
    : dhad-10.1.5 fit crossfeeds signal nondiag 281ipbv0.4  --test ... OK.
    : dhad-10.1.5 fit crossfeeds signal nondiag 281ipbv0.4 ... done. 

    Save the plots:

    : dhad-10.1.5 fig crossfeeds signal diag 281ipbv0.4 ... OK. 
    [[./10.1/fig/crossfeeds_signal_diag_281ipbv0.4.org][figure]]
    
    : dhad-10.1.5 fig crossfeeds signal nondiag 281ipbv0.4 ... OK.
    [[./10.1/fig/crossfeeds_signal_nondiag_281ipbv0.4.org][figure]]

    Make the yldfile: 

    : dhad-10.1.5 tab brf yields_and_efficiencies 281ipbv0.4 ... OK.

    Compare it with 0.1 ... same. 

    This demonstrate that the selection phase can be reproduced very well. 

*** DONE List the fitting diagram
    :LOGBOOK:
    CLOCK: [2010-03-30 Tue 14:53]--[2010-03-30 Tue 15:28] =>  0:35
    CLOCK: [2010-03-30 Tue 14:40]--[2010-03-30 Tue 14:40] =>  0:00
    CLOCK: [2010-03-30 Tue 13:30]--[2010-03-30 Tue 13:37] =>  0:07
    CLOCK: [2010-03-30 Tue 12:00]--[2010-03-30 Tue 12:00] =>  0:00
    :END:
    
    [[./src/10.1.5/dot/f281.png][fitting diagram - 281/pb]]

*** DONE Make comparison table
    :LOGBOOK:
    CLOCK: [2010-03-31 Wed 09:22]--[2010-03-31 Wed 10:27] =>  1:05
    CLOCK: [2010-03-30 Tue 16:07]--[2010-03-30 Tue 16:18] =>  0:11
    CLOCK: [2010-03-30 Tue 13:41]--[2010-03-30 Tue 13:56] =>  0:15
    CLOCK: [2010-03-30 Tue 13:37]--[2010-03-30 Tue 13:40] =>  0:03
    :END:

    Make the data results pdg : 

    : dhad-10.1.5 tab compare data_results_pdg 281ipbv5 

    => [[./10.1/tab/compare_data_results_pdg_281ipbv5.org][table]] ([[./10.1/tab/compare_data_results_pdg_281ipbv5.info][info]])    
    
    
    Reproduce the original one: 

    : dhad-10.1.5 tab compare data_results_pdg 281ipbv0 
    => [[./10.1/tab/compare_data_results_pdg_281ipbv0.org][table]] ([[./10.1/tab/compare_data_results_pdg_281ipbv0.info][info]])  

    Need to confirm with the original result ...

    Compare the two dirs:

    : dhad-10.1.5 tab compare dirs 7.06/dat/bf/K0S  10.1/dat/brf/281ipbv0

    | Diff files                                        |
    |---------------------------------------------------|
    | signal\_double\_efficiencies\_for\_werner         |
    | signal\_double\_efficiencies\_errors\_for\_werner |
    | data\_fit\_staterrors                             |
    | newfit-data\_systerrors                           |
    | bf\_stat\_sys                                     |
    | bf\_stat                                          |
*** DONE Trace the fitting difference for BF
    :LOGBOOK:
    CLOCK: [2010-04-01 Thu 10:28]--[2010-04-01 Thu 11:34] =>  1:06
    CLOCK: [2010-03-31 Wed 10:27]--[2010-03-31 Wed 11:29] =>  1:02
    :END:

    
    Set the number of generated double tags in the 281ipbv0 case ...

    Compare the generated numbers:
    
    : dhad-10.1.5 tab compare dirs /nfs/cor/user/ponyisi/cleog/scripts-summerconf/tag_numbers /home/xs32/work/CLEO/analysis/DHad/src/10.1.5/gen/tag_numbers
    
    Found 8 different files:
    
    : Differing files : ['Double_D0_to_Kpi__D0B_to_Kpi',
    : 'Double_D0_to_Kpipi0__D0B_to_Kpipi0',
    : 'Double_D0_to_Kpipi0__D0B_to_Kpipi pi',
    : 'Double_D0_to_Kpipipi__D0B_to_Kpipi0', 'Single_D0B_to_Kpi',
    : 'Single_D0_to_Kpi', 'Single_Dm_to_Kspi', 'Single_Dp_to_Kspi']
    
    List the difference:
    
    : dhad-10.1.5 tab compare files /nfs/cor/user/ponyisi/cleog/scripts-summerconf/tag_numbers /home/xs32/work/CLEO/analysis/DHad/src/10.1.5/gen/tag_numbers
    
       | FileName                            |    A |    B |
       |-------------------------------------+------+------|
       | Single_D0_to_Kpi                    | 6274 | 6274 |
       | Single_D0B_to_Kpi                   | 6274 | 6274 |
       | Single_Dp_to_Kspi                   | 8000 | 8000 |
       | Single_Dm_to_Kspi                   | 8000 | 8000 |
       | Double_D0_to_Kpipi0__D0B_to_Kpipi0  | 3674 | 2000 |
       | Double_D0_to_Kpipi0__D0B_to_Kpipipi | 2023 | 2000 |
       | Double_D0_to_Kpi__D0B_to_Kpi        | 2000 | 2000 |
       | Double_D0_to_Kpipipi__D0B_to_Kpipi0 | 2023 | 2000 |

    
    Clean the old files ... done.
    
    Set special rules for 281ipbv0 and run without the fit  
    
    : dhad-10.1.5 brf 281ipbv0 ... 
    
    Compare again:
    
    : dhad-10.1.5 tab compare dirs 7.06/dat/bf/K0S  10.1/dat/brf/281ipbv0
    
    There are 0 different files. ... OK.
    
    Fit stat only and compare ... OK.
    
    Fit all and compare ... found 2 different files:

    : ['bf_stat_sys', 'newfit-data_systerrors']

    Trace the 'newfit-data_systerrors' ... 
       
    Found the difference of the "FSR_syst.txt". 

    Udpate the table by using the factor=100 which has been changed in the tabletools.py. 

    : dhad-10.1.5 tab combine fsr_syst

    => [[./10.1/tab/FSR_syst.org][table]] ([[./10.1/tab/FSR_syst.info][info]])

    "FSR_sys.txt" OK.

    Re-produce 'newfit-data_systerrors' ... same OK.

    Clean and re-run all the fit ... done. Compare ... all same.

    : dhad-10.1.5 brf 281ipbv0    

    Reproduce the original one: 

    : dhad-10.1.5 tab compare data_results_pdg 281ipbv0 

    => [[./10.1/tab/compare_data_results_pdg_281ipbv0.org][table]] ([[./10.1/tab/compare_data_results_pdg_281ipbv0.info][info]])  

    Compare with the original one (7.06): => [[./7.06/tables/cbx_data_results_pdg_K0S][table]], exactly the same.

*** DONE Fit BF with ROOT4.03, RooFit1.92
    :LOGBOOK:
    CLOCK: [2010-04-19 Mon 11:07]--[2010-04-19 Mon 11:38] =>  0:31
    CLOCK: [2010-04-19 Mon 09:57]--[2010-04-19 Mon 10:24] =>  0:27
    :END:

    Peter's =yields_and_efficiencies= file, label 281ipbv0.

    Same input evt file, but with my ROOT4.03, RooFitv1.92: label 281ipbv0.1

    Link the 281ipv0 fit to 281ipbv0.1.

    : dhad-10.1.5 brf 281ipbv0.1 ... done.

    Compare with PDG 2004:

    : dhad-10.1.5 tab compare data_results_pdg 281ipbv0.1 

    => [[./10.1/tab/compare_data_results_pdg_281ipbv0.1.org][table]] ([[./10.1/tab/compare_data_results_pdg_281ipbv0.1.info][info]])   
    
    Compare with PRD 2007:

    : dhad-10.1.5 tab compare brf_data_results 281ipbv0 281ipbv0.1 

    => [[./10.1/tab/compare_brf_data_results_281ipbv0_281ipbv0.1.org][table]] ([[./10.1/tab/compare_brf_data_results_281ipbv0_281ipbv0.1.info][info]])     
    
*** DONE Fit BF with ROOT5.26, RooFit3.12 (281ipbv0.2)
    :LOGBOOK:
    CLOCK: [2010-04-19 Mon 11:38]--[2010-04-19 Mon 11:43] =>  0:05
    CLOCK: [2010-04-19 Mon 10:24]--[2010-04-19 Mon 11:07] =>  0:43
    :END:

    Link the 281ipv0 fit to 281ipbv0.2 ... OK.

    Copy the yields and eff file:

    : cp $dhad/10.1/dat/brf/281ipbv0/yields_and_efficiencies.root5.26 $dhad/10.1/dat/brf/281ipbv0.2/yields_and_efficiencies

    BF fit:

    : dhad-10.1.5 brf 281ipbv0.2 ... done. 
    

    Compare with PDG 2004:

    : dhad-10.1.5 tab compare data_results_pdg 281ipbv0.2 
    
    => [[./10.1/tab/compare_data_results_pdg_281ipbv0.2.org][table]] ([[./10.1/tab/compare_data_results_pdg_281ipbv0.2.info][info]])
    
    Compare with 281ipbv0.1: 

    : dhad-10.1.5 tab compare brf_data_results 281ipbv0.1 281ipbv0.2

    => [[./10.1/tab/compare_brf_data_results_281ipbv0.1_281ipbv0.2.org][table]] ([[./10.1/tab/compare_brf_data_results_281ipbv0.1_281ipbv0.2.info][info]])   
       
*** DONE Fit BF with old crossfeeds in new MC (281ipbv5.0)
    :LOGBOOK:
    CLOCK: [2010-04-21 Wed 15:25]--[2010-04-21 Wed 15:37] =>  0:12
    :END:
 
    : cd $dhad/10.1/dat/fit/
    : cp -r 281ipbv5 281ipbv5.0

    : cd $dhad/10.1/dat/brf/
    : mkdir 281ipbv5.0
    : cp 281ipbv0/yields_and_efficiencies 281ipbv5.0

    BF fit:
    : dhad-10.1.5 brf 281ipbv5.0 ... OK.

    Compare with 281ipbv0 (PRD 2007): 

    : dhad-10.1.5 tab compare brf_data_results 281ipbv0 281ipbv5.0

    => [[./10.1/tab/compare_brf_data_results_281ipbv0_281ipbv5.0.org][table]] ([[./10.1/tab/compare_brf_data_results_281ipbv0_281ipbv5.0.info][info]])    

*** DONE Use the new MC and fit BF (281ipbv5)
    :LOGBOOK:
    CLOCK: [2010-04-21 Wed 15:46]--[2010-04-21 Wed 16:14] =>  0:28
    CLOCK: [2010-04-21 Wed 15:07]--[2010-04-21 Wed 15:11] =>  0:04
    CLOCK: [2010-04-21 Wed 14:34]--[2010-04-21 Wed 14:55] =>  0:21
    CLOCK: [2010-04-21 Wed 13:34]--[2010-04-21 Wed 14:30] =>  0:56
    CLOCK: [2010-04-21 Wed 11:55]--[2010-04-21 Wed 11:58] =>  0:03
    CLOCK: [2010-04-21 Wed 11:21]--[2010-04-21 Wed 11:34] =>  0:13
    CLOCK: [2010-04-21 Wed 11:16]--[2010-04-21 Wed 11:17] =>  0:01
    CLOCK: [2010-04-20 Tue 19:43]--[2010-04-20 Tue 19:45] =>  0:02
    CLOCK: [2010-04-20 Tue 19:21]--[2010-04-20 Tue 19:22] =>  0:01
    CLOCK: [2010-04-20 Tue 16:59]--[2010-04-20 Tue 17:05] =>  0:06
    :END:
    
    Test on one mode:

    : dhad-10.1.5 yld crossfeeds signal Single_Dp_to_Kspipipi 281ipbv5 --set interact ... OK. 

    For single:

    : dhad-10.1.5 yld crossfeeds signal single 281ipbv5 --set interact --test OK.
    : dhad-10.1.5 yld crossfeeds signal single 281ipbv5 --test OK.
    : dhad-10.1.5 yld crossfeeds signal single 281ipbv5 ... done.

    Fit crossfeeds:

    : dhad-10.1.5 fit crossfeeds signal diag 281ipbv5  --set interact:mode=1:sign=-1 ... OK. 
    : dhad-10.1.5 fit crossfeeds signal diag 281ipbv5  --test OK.
    : dhad-10.1.5 fit crossfeeds signal diag 281ipbv5 ... done. 

    Save the plots:
    : dhad-10.1.5 fig crossfeeds signal diag 281ipbv5 ... OK.
    [[./10.1/fig/crossfeeds_signal_diag_281ipbv5.org][figure]]

    Non-diagonal: 
    : dhad-10.1.5 fit crossfeeds signal nondiag 281ipbv5  --set interact:mode=1 OK. 
    : dhad-10.1.5 fit crossfeeds signal nondiag 281ipbv5  --test OK.
    : dhad-10.1.5 fit crossfeeds signal nondiag 281ipbv5 ... done. 

    Save the plots:
    : dhad-10.1.5 fig crossfeeds signal nondiag 281ipbv5 OK.

    : epsfile is not ready for (202, -1), (3, -1) 
    
    From the logfile => [[./log/2010/0421/nondiag.txt][nondiag.txt]] 

    : Error: fprintf param[0]=0 must not be 0 FILE:crossfeeds_nondiag.C LINE:102

    Do the divide later, resubmit job:

    : dhad-10.1.5 fit crossfeeds signal nondiag 281ipbv5  --set mode=202,3:sign=-1 --test OK. 
    : dhad-10.1.5 fit crossfeeds signal nondiag 281ipbv5  --set mode=202,3:sign=-1 ... done. 

    [[./10.1/fig/crossfeeds_signal_nondiag_281ipbv5.org][figure]]

    Make the yldfile: 

    : dhad-10.1.5 tab brf yields_and_efficiencies 281ipbv5 ... OK.

    Compare with 281ipbv0.1 ... some difference. Entries are different, but the effs are similar.

    BF fit:

    : dhad-10.1.5 brf 281ipbv5 ... done.

    Compare with PDG 2004:

    : dhad-10.1.5 tab compare data_results_pdg 281ipbv5

    => [[./10.1/tab/compare_data_results_pdg_281ipbv5.org][table]] ([[./10.1/tab/compare_data_results_pdg_281ipbv5.info][info]])  

    Compare with 281ipbv0 (PRD 2007): 

    : dhad-10.1.5 tab compare brf_data_results 281ipbv0 281ipbv5

     => [[./10.1/tab/compare_brf_data_results_281ipbv0_281ipbv5.org][table]] ([[./10.1/tab/compare_brf_data_results_281ipbv0_281ipbv5.info][info]])
     
    Compare with 281ipbv0.1 (my own crossfeeds fit)

    : dhad-10.1.5 tab compare brf_data_results 281ipbv0.1 281ipbv5
    => [[./10.1/tab/compare_brf_data_results_281ipbv0.1_281ipbv5.org][table]] ([[./10.1/tab/compare_brf_data_results_281ipbv0.1_281ipbv5.info][info]]) 
    
    Compare with 281ipbv5.0: (new MC with old crossfeeds)

    : dhad-10.1.5 tab compare brf_data_results 281ipbv5.0 281ipbv5
    => [[./10.1/tab/compare_brf_data_results_281ipbv5.0_281ipbv5.org][table]] ([[./10.1/tab/compare_brf_data_results_281ipbv5.0_281ipbv5.info][info]]) 

    Compare with PDG 2009
    
    : dhad-10.1.5 tab compare pdg2009 281ipbv5

    => [[./10.1/tab/compare_pdg2009_281ipbv5.org][table]] ([[./10.1/tab/compare_pdg2009_281ipbv5.info][info]])

*** DONE Check the crossfeed
    :LOGBOOK:
    CLOCK: [2010-05-03 Mon 12:04]--[2010-05-03 Mon 12:16] =>  0:12
    CLOCK: [2010-04-30 Fri 10:50]--[2010-04-30 Fri 11:21] =>  0:31
    :END:

    Print out the faking modes when fiting :

    : dhad-10.1.5 brf 281ipbv5 

    output:

    : crossfeed is using D0_to_Kpi fakes D0B_to_Kpi:
    : crossfeed is using D0B_to_Kpi fakes D0_to_Kpi:
    : crossfeed is using D0B_to_Kpi fakes Dm_to_Kspi:
    : crossfeed is using D0_to_Kpipi0 fakes Dm_to_Kspipipi:
    : crossfeed is using D0B_to_Kpipi0 fakes Dm_to_Kpipi:
    : crossfeed is using D0B_to_Kpipi0 fakes Dm_to_Kpipipi0:
    : crossfeed is using D0B_to_Kpipi0 fakes Dm_to_Kspipi0:
    : crossfeed is using D0B_to_Kpipi0 fakes Dm_to_KKpi:
    : crossfeed is using D0_to_Kpipipi fakes D0B_to_Kpipipi:
    : crossfeed is using D0_to_Kpipipi fakes Dm_to_Kspipipi:
    : crossfeed is using D0B_to_Kpipipi fakes D0B_to_Kpipi0:
    : crossfeed is using D0B_to_Kpipipi fakes Dp_to_Kspipi0:
    : crossfeed is using D0B_to_Kpipipi fakes Dp_to_Kspipipi:
    : crossfeed is using D0B_to_Kpipipi fakes Dm_to_Kspipipi:
    : crossfeed is using Dp_to_Kpipi fakes Dm_to_Kspipi0:
    : crossfeed is using Dm_to_Kpipi fakes Dp_to_Kspipi0:
    : crossfeed is using Dm_to_Kpipi fakes Dm_to_Kspipi0:
    : crossfeed is using Dp_to_Kpipipi0 fakes Dm_to_Kspipi0:
    : crossfeed is using Dm_to_Kpipipi0 fakes D0B_to_Kpipipi:
    : crossfeed is using Dm_to_Kpipipi0 fakes Dm_to_KKpi:
    : crossfeed is using Dp_to_Kspi fakes Dp_to_Kspipi0:
    : crossfeed is using Dp_to_Kspi fakes Dm_to_Kspipi0:
    : crossfeed is using Dm_to_Kspi fakes Dp_to_Kpipipi0:
    : crossfeed is using Dp_to_Kspipi0 fakes Dp_to_Kspipipi:
    : crossfeed is using Dp_to_Kspipipi fakes D0B_to_Kpipipi:
    : crossfeed is using Dp_to_Kspipipi fakes Dp_to_Kspipi0:
    : crossfeed is using Dp_to_Kspipipi fakes Dm_to_Kspipipi:
    : crossfeed is using Dm_to_Kspipipi fakes Dp_to_Kspipipi:
    : crossfeed is using Dp_to_KKpi fakes Dm_to_KKpi:
    
    Change the code to only use the first two crossfeeds... OK. 

    But for 281ipbv0:
    : dhad-10.1.5 brf 281ipbv0

    : crossfeed is using D0_to_Kpi fakes D0B_to_Kpi:  0.000967
    : crossfeed is using D0B_to_Kpi fakes D0_to_Kpi:  0.000848

    Why this difference??? ... abs(1-b)>3 !!! 
    :             a   = float(st.split()[-2]) 
    :             b   = float(st.split()[3])  # signal MC yield/error on yield
    :             if a > 0 and abs(1-b) > 3 and\
    :                    idstring not in attr.veto_fakes_string_list:

    : veto_fakes_string_list = ['D0_to_Kpipi0 fakes Dp_to_Kpipi:',
    :                           'D0_to_Kpipi0 fakes Dp_to_Kspipi0:',
    :                           'D0B_to_Kpipipi fakes Dm_to_Kpipipi0:',
    :                           'Dp_to_Kpipi fakes D0B_to_Kpipipi:']  
    
    The criteria of "a > 0 and abs(1-b) > 3" are effectively only select Kpi case. 

    However, in the new MC case, that one is no longer effective. That's why it need more specific statement:

    : used_crossfeeds = ['D0_to_Kpi fakes D0B_to_Kpi:', 'D0B_to_Kpi fakes D0_to_Kpi:']
    
** BF fit with only tow crossfeeds (10.1.6)[100%]
*** DONE BF fit with only two crossfeeds for the original (281ipbv0.6)
    :LOGBOOK:
    CLOCK: [2010-05-03 Mon 13:50]--[2010-05-03 Mon 14:05] =>  0:15
    CLOCK: [2010-05-03 Mon 11:17]--[2010-05-03 Mon 12:04] =>  0:47
    CLOCK: [2010-04-30 Fri 11:32]--[2010-04-30 Fri 11:51] =>  0:19
    CLOCK: [2010-04-30 Fri 11:21]--[2010-04-30 Fri 11:32] =>  0:11
    :END:

    Setup env:

    : cd $src
    : cvs tag V10-01-05
    : setdhad 10.1.6 ... OK.

    : cd $dhad/10.1/dat/fit
    : mkdir 281ipbv0.6
    : cp 281ipbv0/*.txt 281ipbv0.6
    : cd $dhad/10.1/dat/brf
    : mkdir 281ipbv0.6
    : cp 281ipbv0/yields_and_efficiencies 281ipbv0.6

    : cd $dhad/src/10.1.6/gen
    : ln -s $dhad/src/10.1.5/gen/tag_numbers/ .
    
    Editing the sigeffs.py ... done. 

    BF fit:
    
    : dhad-10.1.6 brf 281ipbv0.6 ... done. 

    : crossfeed is using D0_to_Kpi fakes D0B_to_Kpi:  0.000967
    : crossfeed is using D0B_to_Kpi fakes D0_to_Kpi:  0.000848
    
    Matched with CBX.

    Compare the input files for brf:

    : dhad-10.1.6 tab compare dirs 7.06/dat/bf/K0S  10.1/dat/brf/281ipbv0.6

    There are 6 different files:
    :  ['bf_stat', 'bf_stat.bak', 'bf_stat_sys', 'data_fit_staterrors', 'signal_double_efficiencies_errors_for_w
    : erner', 'signal_double_efficiencies_for_werner'] 

    Update the code for the genpath in sigeffs.py ... OK.

    : dhad-10.1.6 brf 281ipbv0.6 ... done. 

    Compare the input files for brf:

    : dhad-10.1.6 tab compare dirs 7.06/dat/bf/K0S  10.1/dat/brf/281ipbv0.6 ... all same.

    
    Compare with 281ipbv0 (PRD 2007):

    : dhad-10.1.6 tab compare brf_data_results 281ipbv0 281ipbv0.6 

    => [[./10.1/tab/compare_brf_data_results_281ipbv0_281ipbv0.6.org][table]] ([[./10.1/tab/compare_brf_data_results_281ipbv0_281ipbv0.6.info][info]]) all the same. 

    This means the changed code has no effect on the old results. 
    
*** DONE BF fit with only two crossfeeds for the new (281ipbv6)
    :LOGBOOK:
    CLOCK: [2010-04-30 Fri 15:13]--[2010-04-30 Fri 15:30] =>  0:17
    CLOCK: [2010-04-30 Fri 12:59]--[2010-04-30 Fri 13:02] =>  0:03
    CLOCK: [2010-04-30 Fri 11:52]--[2010-04-30 Fri 12:11] =>  0:19
    CLOCK: [2010-04-30 Fri 11:51]--[2010-04-30 Fri 11:52] =>  0:01
    :END:

    : cd $dhad/10.1/dat/fit
    : mkdir 281ipbv6 
    : cp 281ipbv5/*.txt 281ipbv6
    : cd $dhad/10.1/dat/brf
    : mkdir 281ipbv6 
    : cp 281ipbv5/yields_and_efficiencies 281ipbv6

    BF fit:
    : dhad-10.1.6 brf 281ipbv6 ... done. 

    : crossfeed is using D0_to_Kpi fakes D0B_to_Kpi:  0.00091
    : crossfeed is using D0B_to_Kpi fakes D0_to_Kpi:  0.000983

    |                                | 281ipbv0.6 | 281ipbv6 |
    |--------------------------------+------------+----------|
    | D0\_to\_Kpi fakes D0B\_to\_Kpi |   0.000967 |  0.00091 |
    | D0B\_to\_Kpi fakes D0\_to\_Kpi |   0.000848 | 0.000983 |


    Compare the crossfeeds plots:

    |                                | 281ipbv0 | 281ipbv6 |
    |--------------------------------+----------+----------|
    | D0\_to\_Kpi fakes D0B\_to\_Kpi | [[./10.1/fig/281ipbv0/crossfeeds/signal_Single_D0_to_Kpi_fakes_Single_D0B_to_Kpi.pdf][pdf]]      | [[./10.1/fig/281ipbv5/crossfeeds/signal_Single_D0_to_Kpi_fakes_Single_D0B_to_Kpi.pdf][pdf]], [[./10.1/log/281ipbv5/crossfeed/stage_nondiag_0p_0m.txt][log]] |
    | D0B\_to\_Kpi fakes D0\_to\_Kpi | [[./10.1/fig/281ipbv0/crossfeeds/signal_Single_D0B_to_Kpi_fakes_Single_D0_to_Kpi.pdf][pdf]]      | [[./10.1/fig/281ipbv5/crossfeeds/signal_Single_D0B_to_Kpi_fakes_Single_D0_to_Kpi.pdf][pdf]], [[./10.1/log/281ipbv5/crossfeeds/stage_nondiag_0m_0p.txt][log]] |


    Compare the input files for brf:

    : dhad-10.1.6 tab compare dirs 10.1/dat/brf/281ipbv5  10.1/dat/brf/281ipbv6 ... 

    Compare with 281ipbv0 (PRD 2007):

    : dhad-10.1.6 tab compare brf_data_results 281ipbv0 281ipbv6 

    => [[./10.1/tab/compare_brf_data_results_281ipbv0_281ipbv6.org][table]] ([[./10.1/tab/compare_brf_data_results_281ipbv0_281ipbv6.info][info]])

    
    Compare with PDG 2004:

    : dhad-10.1.6 tab compare pdg2004 281ipbv6

    => [[./10.1/tab/compare_pdg2004_281ipbv6.org][table]] ([[./10.1/tab/compare_pdg2004_281ipbv6.info][info]])

** Large BFs for Ks and pi0 - DSkimv1 cuts (10.1.7) [100%]
*** DONE Make yields comparison table
    :LOGBOOK:
    CLOCK: [2010-05-05 Wed 09:54]--[2010-05-05 Wed 11:59] =>  2:05
    :END:

    Compare 281ipbv0 and 281ipbv6 data:

    : dhad-10.1.6 tab compare yields data single 281ipbv0 281ipbv6 

    => [[./10.1/tab/compare_yields_data_single_281ipbv0_281ipbv6.org][table]] ([[./10.1/tab/compare_yields_data_single_281ipbv0_281ipbv6.info][info]])  

    signal MC:

    : dhad-10.1.6 tab compare yields signal single 281ipbv0 281ipbv6 --set diff=sigma2_pct
    
    => [[./10.1/tab/compare_yields_signal_single_281ipbv0_281ipbv6.org][table]] ([[./10.1/tab/compare_yields_signal_single_281ipbv0_281ipbv6.info][info]])

    Compare the diff for signal and data:

    : dhad-10.1.6 tab compare diff yields_data_single_281ipbv0_281ipbv6 yields_signal_single_281ipbv0_281ipbv6 --set label=data,signal

   => [[./10.1/tab/compare_diff_yields_data_single_281ipbv0_281ipbv6_yields_signal_single_281ipbv0_281ipbv6.org][table]] ([[./10.1/tab/compare_diff_yields_data_single_281ipbv0_281ipbv6_yields_signal_single_281ipbv0_281ipbv6.info][info]])   

*** DONE Find the reason
    
    Sent message on DHad HN ... done. 
    
    Restore to DSkimv1 cuts... 

*** DONE Investigate the \pi^0
    :LOGBOOK:
    CLOCK: [2010-05-25 Tue 09:43]--[2010-05-25 Tue 09:43] =>  0:00
    CLOCK: [2010-05-21 Fri 09:13]--[2010-05-21 Fri 09:31] =>  0:18
    CLOCK: [2010-05-20 Thu 16:21]--[2010-05-20 Thu 16:31] =>  0:10
    CLOCK: [2010-05-20 Thu 09:54]--[2010-05-20 Thu 11:07] =>  1:13
    CLOCK: [2010-05-19 Wed 15:22]--[2010-05-19 Wed 16:52] =>  1:30
    CLOCK: [2010-05-17 Mon 12:46]--[2010-05-17 Mon 12:52] =>  0:06
    CLOCK: [2010-05-17 Mon 11:09]--[2010-05-17 Mon 12:15] =>  1:06
    CLOCK: [2010-05-17 Mon 08:41]--[2010-05-17 Mon 10:01] =>  1:20
    CLOCK: [2010-05-14 Fri 10:54]--[2010-05-14 Fri 11:57] =>  1:03
    CLOCK: [2010-05-12 Wed 14:24]--[2010-05-12 Wed 17:26] =>  3:02
    CLOCK: [2010-05-10 Mon 11:00]--[2010-05-10 Mon 12:07] =>  1:07
    CLOCK: [2010-05-10 Mon 09:23]--[2010-05-10 Mon 10:01] =>  0:38
    CLOCK: [2010-02-02 Tue 13:17]--[2010-02-02 Tue 13:38] =>  0:21
    CLOCK: [2010-02-02 Tue 11:30]--[2010-02-02 Tue 11:53] =>  0:23
    CLOCK: [2010-02-02 Tue 10:48]--[2010-02-02 Tue 11:24] =>  0:36
    :END:

    - In the Dskim v2: 

      According to the [[https://edms.classe.cornell.edu/record/1813][DTagging doc]]:
      
	 1. For the loose skim only, the \pi^0 and \eta pull mass cut
	    is now \pm 6\sigma instead of \pm 5\sigma.

	 2. Diphoton decay candidates (i.e. \pi^0, \eta, and
	    \eta'\to\gamma\gamma) are now remade in the skimming
	    process. These differ from the standard post-pass2 objects
	    in that no E9/E25 cut is applied. These new objects are
	    written out in the D skim. Note that the \pi^0, \eta, and
	    \eta' lists are now different in the eventstore =physics=
	    and =dtag= grades!

    - In the HadronicDNtupleProc:
      
      :  const STL_VECTOR(dchain::ReferenceHolder<CDCandidate>) & vect = tagDecay.children();
      :  assert(nDau <= 5);
      :  for (int dau = 0; dau < nDau; dau++) {
      :     const CDCandidate& cddau = *(vect[dau]);
      :     int index = -1;
      :     if (cddau.builtFromCDKs()) {
      :        index = indexInKsBlock(cddau.navKshort());
      :        assert(index >= 0);
      :     } else if (cddau.builtFromCDPi0()) {
      :        index = indexInPi0Block(cddau.navPi0());
      :        assert(index >= 0);

      
      Read the DSkim v1 doc ([[./doc/ref/cbx07-30_dskim_v1.pdf][PDF]]), and page:

      http://www.lepp.cornell.edu/~cleo3/current/src/PhotonDecays/Doc/PhotonDecays.html

      :  E925Scheme: 5 options are provided. Default value is 1.
      :   0: no E9/E25 cuts
      :   1: both showers must satisfy 1% E9/E25 cuts (uses Unfolded-E9/E25 if the 2 showers are closer than 25 cm)
      :   2: both showers must satisfy 1% Unfolded-E9/E25 cuts
      :   3: only one of the showers must satisfy a 1% E9/E25 cut (uses Unfolded E9/E25 if the 2 showers are closer than 25 cm)
      :   4: only one of the showers must satisfy a 1% Unfolded-E9/E25 cut 

      Also found the def for "mass pull":

      : mass "pull" (number of standard deviations difference between unconstrained and constrained masses). 
      
      Read https://wiki.lepp.cornell.edu/lepp/bin/view/CLEO/Private/SW/EventStore ... OK.

      From CBX04-32 (DTag for summer 2004), in which it says the
      release was: =20040622_FULL=, while the CBX07-30 mentioned =20050316_FULL=. 
      Compare the tcl for these two release:


      2004:

      : /nfs/cleo3/Offline/rel/20040622_FULL/src/SuezScripts/DTagScripts

      2005:

      : /nfs/cleo3/Offline/rel/20050316_FULL/src/SuezScripts/DTagScripts

      The current skim:

      : 20060224_FULL_A_3

      : /nfs/cleo3/Offline/rel/20060224_FULL_A_3/src/SuezScripts/DTagScripts

      found: 

      : prod sel PhotonDecaysProd
      : param PhotonDecaysProd Pi0Finding_Menu E925Scheme 0
      : param PhotonDecaysProd EtaFinding_Menu E925Scheme 0
      : param PhotonDecaysProd EtaPrimeFinding_Menu E925Scheme 0

      DSkim release versions in the original: 

      Peter's localsetup file: c3rel =20050316_FULL=, no specific dskim for the MC.

      Plot the e9o25 variable:

      Original signal MC: 
      
      : dhad-10.1.6 fig var se9o25 pi0dau1 signal Single_Dp_to_Kspipi0 281ipbv0 

      Talk with Brian, E925Scheme 1 is non-trivial, so re-skim instead. 
      
      Peter's suggestion: look up the new DHad code, it has the old
      and new pi0 stored.

      Read the new code ...  

      Check out the latest code from cleocvs:

      : cd $src
      : mkdir cleo
      : cd cleo
      : export CVSROOT=/nfs/cleo3/cvsroot 
      : cleo3cvs co HadronicDNtupleProc ... OK. 

      Compare them :

      Notice: 
      : tuple.pi0istype1. 
      : CDKsList(tightKsSelector)

      :      report( NOTICE, kFacilityString ) 
      : 	<< "Hard limit on number of DD candidates exceeded" << endl
      :         << "Last noted candidate has dmode == "
      :         << tuple.dmode[tuple.d[MAXNDDCAND-1]]
      :         << ", dbmode == " << tuple.dmode[tuple.dbar[MAXNDDCAND-1]] << endl;

      The key part:

      : bool HadronicDNtupleProc::isType1Pi0(const NavPi0ToGG& pi0) {
      :    const NavShower& hishower = pi0.hiEnShower();
      :    const NavShower& loshower = pi0.loEnShower();
      :    if (hishower.distance(loshower) < 0.25*k_m) {
      :       return (hishower.attributes().e9oe25UnfOK() &&
      : 	      loshower.attributes().e9oe25UnfOK());
      :    } else {
      :       return (hishower.attributes().e9oe25OK() &&
      : 	      loshower.attributes().e9oe25OK());
      :    }
      : }

      And for Kshort:

      :       // Ks selectors
      : DChainBoolean tightKsSelector( CDKs& iKs ) {
      : 
      : 	float pullM = ( iKs.mass() - 0.4977 ) / 0.004 ; // copied from TDKShortSelector.cc
      : 	if ( -3. < pullM && pullM < 3. ) return true;
      : 	else return false;
      : }

*** DONE Add the isType1Pi0 info 
    :LOGBOOK:
    CLOCK: [2010-05-21 Fri 13:31]--[2010-05-21 Fri 15:31] =>  2:00
    CLOCK: [2010-05-21 Fri 09:31]--[2010-05-21 Fri 12:11] =>  2:40
    :END:

    Edit the HadronicDNtuple.h, .cc ... done. 
    
    Edit the TUPLE_DEFINITION ... done. 

    Run the python ... done. 
    : cd $src/proc
    : cp CWNFramework/Test/genDefinitions.py HadronicDNtupleProc/HadronicDNtupleProc/
    : cd HadronicDNtupleProc/HadronicDNtupleProc/
    : ./genDefinitions.py ... done. 

    make ... done. 
    : sl lc 
    : setdhad
    : cd $src/proc
    : c3make ... done. 
	  
    Edit the ntuple.py to use the proc dir ... 

    Update the local setup ... done. 

    Test run on one mode 

    : dhad-10.1.7 gen ntuple Double_Dp_to_KKpi__Dm_to_KKpi 281ipb --test ... OK.
    
    Clear the old dat files ... done. 

    : dhad-10.1.7 gen ntuple Double_Dp_to_KKpi__Dm_to_KKpi 281ipb ... OK. 

    Check in the code ... done. 
    
*** CANCELED Add isType1Kshort info
    :LOGBOOK:
    CLOCK: [2010-05-21 Fri 15:34]--[2010-05-21 Fri 15:43] =>  0:09
    :END:

    Edit the Tuple def ... no need, since the mass of the Kshort is
    already stored in the ntuple!

*** CANCELED Add Dskim v1 for pi0 
    :LOGBOOK:  
    CLOCK: [2010-05-18 Tue 13:41]--[2010-05-18 Tue 13:46] =>  0:05
    CLOCK: [2010-05-18 Tue 08:48]--[2010-05-18 Tue 09:07] =>  0:19
    CLOCK: [2010-05-17 Mon 14:01]--[2010-05-17 Mon 15:53] =>  1:52
    CLOCK: [2010-05-17 Mon 13:01]--[2010-05-17 Mon 13:50] =>  0:49
    :END:      

    Check in the 10.1.6 code ... OK.
    
    : cvs tag V10-01-06 

    Setup 10.1.7:

    : setdhad 10.1.7 

    Add E925Scheme model before the Ntuple...

    Link the dskim from 10.1.5 to 10.1.7 ... OK.

    : dhad-10.1.7 gen ntuple signal Double_Dp_to_Kspipi0__Dm_to_Kspipi0 281ipb ... 

    Load the module for the photon ... has problem when re-skimming
    the already skimmed sample. Have to use the "post-skim" method -
    deal with ntuple by C++ code!

*** DONE Re-run the ntuple for single tag 
    :LOGBOOK:
    CLOCK: [2010-05-24 Mon 08:40]--[2010-05-24 Mon 09:13] =>  0:33
    CLOCK: [2010-05-21 Fri 15:45]--[2010-05-21 Fri 16:01] =>  0:16
    :END:

    MC:
    
    Softlink all the MC skim files to 10.1.7 ...

    : dhad-10.1.7 tools ln dat/signal/10.1.2/dskim_20080624_MCGEN_20071023_MCP2_A/  dat/signal/10.1.7/dskim_20080624_MCGEN_20071023_MCP2_A/   (360)
    : dhad-10.1.7 tools ln dat/signal/10.1.4/dskim_20080624_MCGEN_20071023_MCP2_A/  dat/signal/10.1.7/dskim_20080624_MCGEN_20071023_MCP2_A/   (180)
    : dhad-10.1.7 tools ln dat/signal/10.1.5/dskim_20080624_MCGEN_20071023_MCP2_A/  dat/signal/10.1.7/dskim_20080624_MCGEN_20071023_MCP2_A/   (1350)


    : dhad-10.1.7 gen ntuple Single_Dp_to_Kspipipi 281ipb --test ... OK.
    : dhad-10.1.7 gen ntuple Single_Dp_to_Kspipipi 281ipb ... OK.

    Clean files ... done. 

    : dhad-10.1.7 gen ntuple single 281ipb --test OK.
    : dhad-10.1.7 gen ntuple single 281ipb ... done. 
    : dhad-10.1.7 chk ntuple single 281ipb OK.  

    Data: 
    : dhad-10.1.7 gen ntuple data 31 --test OK.
    
    : dhad-10.1.7 gen ntuple data 31 ... done. 
    : dhad-10.1.7 gen ntuple data 32 ... done. 
    : dhad-10.1.7 gen ntuple data 33 ... done. 
    : dhad-10.1.7 gen ntuple data 35 ... done. 
    : dhad-10.1.7 gen ntuple data 36 ... done. 
    : dhad-10.1.7 gen ntuple data 37 ... done. 

    : dhad-10.1.7 chk ntuple data 281ipb  ... OK. 

*** DONE Extract yields for single tag 
    :LOGBOOK:
    CLOCK: [2010-05-26 Wed 11:49]--[2010-05-26 Wed 11:50] =>  0:01
    CLOCK: [2010-05-25 Tue 09:44]--[2010-05-25 Tue 11:07] =>  1:23
    CLOCK: [2010-05-24 Mon 16:57]--[2010-05-24 Mon 18:24] =>  1:27
    CLOCK: [2010-05-24 Mon 11:14]--[2010-05-24 Mon 12:03] =>  0:49
    CLOCK: [2010-05-24 Mon 09:25]--[2010-05-24 Mon 10:03] =>  0:38
    :END:

    : cd $dhad/10.1/dat/signal
    : ln -s $dhad/dat/signal/10.1.7/dtuple_20080624_MCGEN_20071023_MCP2_A/281ipb 281ipbv7
    

    Run for one mode:

    : dhad-10.1.7 yld signal Single_Dp_to_Kspipipi 281ipbv7 --set interact --test ... OK.

    Use the cut for pi0 ... OK.
    : dhad-10.1.7 yld signal Single_D0_to_Kpipi0 281ipbv7 --set interact --test ... OK.

    Without the cut: Processing Mode Single_Dp_to_Kspipi0... selected 17578 out of 57126.
    
    With the cut:  selected 16192 out of 57126.

    Add cuts for the Ks mass ... OK. 
    :       // Ks selectors
    : DChainBoolean tightKsSelector( CDKs& iKs ) {
    : 
    : 	float pullM = ( iKs.mass() - 0.4977 ) / 0.004 ; // copied from TDKShortSelector.cc
    : 	if ( -3. < pullM && pullM < 3. ) return true;
    : 	else return false;
    
    
    : dhad-10.1.7 yld signal Single_Dp_to_Kspipi0 281ipbv7 --set interact --test ... OK.
    
    Without cuts:
    : dhad-10.1.7 yld signal Single_Dp_to_Kspipi0 281ipbv7 --set interact 
    selected 16192 out of 57126.
    
    With cuts: selected 15409 out of 57126. 

    Run for single MC:
    : dhad-10.1.7 yld signal single 281ipbv7 --test ... OK.
    : dhad-10.1.7 yld signal single 281ipbv7 ... problem with certain mode.

    Fix this mode: 
    : dhad-10.1.7 yld signal Single_Dp_to_Kspipipi 281ipbv7 --set interact --test ... OK.

    : dhad-10.1.7 yld signal Single_Dp_to_Kspipipi 281ipbv7 --set interact ... done. 

    Put the cut before the Cabibbo suppressed cut ... OK.
    
    Without cuts: selected 15382 out of 39289. 

    With cuts: selected 14446 out of 39289.   

    Fix the charge conjugate mode:
    : dhad-10.1.7 yld signal Single_Dm_to_Kspipipi 281ipbv7 --set interact ... done.



   Data:

    : cd $dhad/10.1/dat/data
    : mkdir 281ipbv7
    : cd 281ipbv7
    : ln -s $dhad/dat/data/10.1.7/data3* .  

    Run for one mode:

    : dhad-10.1.7 yld data Single_Dp_to_Kspipipi 281ipbv7 --test --set interact ... OK.
    : dhad-10.1.7 yld data Single_Dp_to_Kspipipi 281ipbv7 --test  OK.

    Run for 281ipb:

    : dhad-10.1.7 yld data single 281ipbv7 --test OK.
    : dhad-10.1.7 yld data single 281ipbv7  ...  done. 

    
  



 


*** DONE Run Ntuple for diagonal double tags
    :LOGBOOK:
    CLOCK: [2010-05-25 Tue 13:40]--[2010-05-25 Tue 13:44] =>  0:04
    CLOCK: [2010-05-25 Tue 11:46]--[2010-05-25 Tue 12:11] =>  0:25
    :END:
    
    Test fo one mode:

    : dhad-10.1.7 gen ntuple Double_Dp_to_KKpi__Dm_to_KKpi 281ipb --test OK.
    : dhad-10.1.7 gen ntuple Double_Dp_to_KKpi__Dm_to_KKpi 281ipb ... done. 
    
    Clean files... OK.

    Run for diagonal double :

    : dhad-10.1.7 gen ntuple diagdouble 281ipb --test ... OK.
    : dhad-10.1.7 gen ntuple diagdouble 281ipb ... done.
    : dhad-10.1.7 chk ntuple diagdouble 281ipb OK. 

*** DONE Extract yields for diagonal double tags
    :LOGBOOK:
    CLOCK: [2010-05-25 Tue 13:44]--[2010-05-25 Tue 13:58] =>  0:14
    CLOCK: [2010-05-25 Tue 11:45]--[2010-05-25 Tue 11:46] =>  0:01
    :END:
    
    Run for one mode:

    : dhad-10.1.7 yld signal Double_Dp_to_KKpi__Dm_to_KKpi 281ipbv7 --set interact OK.
    : dhad-10.1.7 yld signal Double_Dp_to_KKpi__Dm_to_KKpi 281ipbv7 --test OK.

    Run for diagonal double:

    : dhad-10.1.7 yld signal diagdouble 281ipbv7 --set interact ... OK.
    : dhad-10.1.7 yld signal diagdouble 281ipbv7 --test ... OK.
    : dhad-10.1.7 yld signal diagdouble 281ipbv7 ... done. 

*** DONE Fit the diag-double for parameters
    :LOGBOOK:
    CLOCK: [2010-05-26 Wed 12:11]--[2010-05-26 Wed 12:19] =>  0:08
    CLOCK: [2010-05-26 Wed 08:32]--[2010-05-26 Wed 09:00] =>  0:28
    CLOCK: [2010-05-25 Tue 15:01]--[2010-05-25 Tue 15:07] =>  0:06
    :END:
    : dhad-10.1.7 fit signal Double_Dp_to_KKpi__Dm_to_KKpi 281ipbv7/resolution --set interact ... OK.
    : dhad-10.1.7 fit signal Double_Dp_to_KKpi__Dm_to_KKpi 281ipbv7/resolution --test OK. 

    Fit for diagonal double:

    : dhad-10.1.7 fit signal diagdouble 281ipbv7/resolution --set interact ... OK.
    : dhad-10.1.7 fit signal diagdouble 281ipbv7/resolution --test ... OK.
    : dhad-10.1.7 fit signal diagdouble 281ipbv7/resolution ... done. 

    Save figures:
    : dhad-10.1.7 fig signal diagdouble 281ipbv7/resolution
   
    [[./10.1/fig/signal_diagdouble_281ipbv7_resolution.org][figure]]

    Need to fix the inclued part ... done.

    Make the parameters table:

   : dhad-10.1.7 tab para momentum resolution 281ipbv7

    => [[./10.1/tab/para_momentum_resolution_281ipbv7.org][table]] ([[./10.1/tab/para_momentum_resolution_281ipbv7.info][info]])   



*** DONE Run Ntuple for non-diag double tags 
    :LOGBOOK:
    CLOCK: [2010-05-26 Wed 09:06]--[2010-05-26 Wed 09:06] =>  0:00
    CLOCK: [2010-05-25 Tue 16:29]--[2010-05-25 Tue 16:31] =>  0:02
    :END:

    : dhad-10.1.7 gen ntuple nondiagdouble 281ipb --test ... OK. 
    : dhad-10.1.7 gen ntuple nondiagdouble 281ipb ... done. 
    : dhad-10.1.7 chk ntuple nondiagdouble 281ipb ... OK.

*** DONE mBC fits for single tag
    :LOGBOOK:
    CLOCK: [2010-05-26 Wed 15:16]--[2010-05-26 Wed 16:28] =>  1:12
    CLOCK: [2010-05-26 Wed 14:37]--[2010-05-26 Wed 14:40] =>  0:03
    CLOCK: [2010-05-26 Wed 11:50]--[2010-05-26 Wed 12:11] =>  0:21
    CLOCK: [2010-05-26 Wed 09:07]--[2010-05-26 Wed 09:23] =>  0:16
    CLOCK: [2010-05-26 Wed 09:00]--[2010-05-26 Wed 09:06] =>  0:06
    CLOCK: [2010-05-25 Tue 15:00]--[2010-05-25 Tue 15:01] =>  0:01
    CLOCK: [2010-05-25 Tue 11:08]--[2010-05-25 Tue 11:12] =>  0:04
    :END:

    Fit for one mode:

    : dhad-10.1.7 fit signal Single_Dp_to_Kspipipi 281ipbv7 --set interact ... OK.
    : dhad-10.1.7 fit signal Single_Dp_to_Kspipipi 281ipbv7 --test OK.

    : dhad-10.1.7 fit data Single_Dp_to_Kspipipi 281ipbv7 --set interact ... OK.

    Fit MC:

    : dhad-10.1.7 fit signal single 281ipbv7  --test OK.
    : dhad-10.1.7 fit signal single 281ipbv7 ... done. 
    : dhad-10.1.7 fig signal single 281ipbv7 ... problem in one mode ... OK.
    [[./10.1/fig/signal_single_281ipbv7.org][figure]]

    Fix the mode Single_Dp_to_Kspipi0 for MC ...     
    : dhad-10.1.7 yld signal Single_Dp_to_Kspipi0 281ipbv7 --test --set interact ... OK.
    : dhad-10.1.7 yld signal Single_Dp_to_Kspipi0 281ipbv7 --set interact ... done. 
    : dhad-10.1.7 fit signal Single_Dp_to_Kspipi0 281ipbv7 ... done. 


    Fit data: 

    : dhad-10.1.7 fit data single 281ipbv7  --test OK.
    : dhad-10.1.7 fit data single 281ipbv7 ... 
    : dhad-10.1.7 fig data single 281ipbv7
    [[./10.1/fig/data_single_281ipbv7.org][figure]]

*** DONE Compare the yields for single tags
    :LOGBOOK:
    CLOCK: [2010-05-26 Wed 16:28]--[2010-05-26 Wed 16:42] =>  0:14
    CLOCK: [2010-05-26 Wed 14:42]--[2010-05-26 Wed 15:16] =>  0:34
    :END:
    
    Compare 281ipbv0 and 281ipbv7 data:

    : dhad-10.1.7 tab compare yields data single 281ipbv0 281ipbv7 
    => [[./10.1/tab/compare_yields_data_single_281ipbv0_281ipbv7.org][table]] ([[./10.1/tab/compare_yields_data_single_281ipbv0_281ipbv7.info][info]])     

    Compare 281ipbv0 and 281ipbv7 mc:
    : dhad-10.1.7 tab compare yields signal single 281ipbv0 281ipbv7 --set diff=sigma2_pct
    => [[./10.1/tab/compare_yields_signal_single_281ipbv0_281ipbv7.org][table]] ([[./10.1/tab/compare_yields_signal_single_281ipbv0_281ipbv7.info][info]]) 

    Compare the diff for signal and data:

    : dhad-10.1.7 tab compare diff yields_data_single_281ipbv0_281ipbv7 yields_signal_single_281ipbv0_281ipbv7 --set label=data,signal

    => [[./10.1/tab/compare_diff_yields_data_single_281ipbv0_281ipbv7_yields_signal_single_281ipbv0_281ipbv7.org][table]] ([[./10.1/tab/compare_diff_yields_data_single_281ipbv0_281ipbv7_yields_signal_single_281ipbv0_281ipbv7.info][info]])   



*** DONE mBC fits for double tag
    :LOGBOOK:
    CLOCK: [2010-05-27 Thu 08:41]--[2010-05-27 Thu 08:44] =>  0:03
    CLOCK: [2010-05-27 Thu 08:16]--[2010-05-27 Thu 08:20] =>  0:04
    CLOCK: [2010-05-26 Wed 17:04]--[2010-05-26 Wed 17:12] =>  0:08
    CLOCK: [2010-05-26 Wed 16:47]--[2010-05-26 Wed 17:01] =>  0:14
    :END:

    For signal MC: 

    Get yields for non-diag double tags:
    : dhad-10.1.7 yld signal nondiagdouble 281ipbv7 --set interact ... OK.
    : dhad-10.1.7 yld signal nondiagdouble 281ipbv7 --test OK.
    : dhad-10.1.7 yld signal nondiagdouble 281ipbv7 ... done. 
    
    Fit mBC ... 
    : dhad-10.1.7 fit signal Double_Dp_to_KKpi__Dm_to_KKpi 281ipbv7 --set interact OK.
    : dhad-10.1.7 fit signal double 281ipbv7  --test ... OK.
    : dhad-10.1.7 fit signal double 281ipbv7  ... done.
    : dhad-10.1.7 fig signal double 281ipbv7  ... OK.

    [[./10.1/fig/signal_double_281ipbv7.org][figure]]

    For data:
    : dhad-10.1.7 yld data double 281ipbv7 --set interact ... OK.
    : dhad-10.1.7 yld data double 281ipbv7 --test OK. 
    : dhad-10.1.7 yld data double 281ipbv7 ... done. 

    : dhad-10.1.7 fit data Double_Dp_to_KKpi__Dm_to_KKpi 281ipbv7 --set interact OK.
    : dhad-10.1.7 fit data double 281ipbv7  --test OK.
    : dhad-10.1.7 fit data double 281ipbv7  ... done. 
    : dhad-10.1.7 fig data double 281ipbv7  
    [[./10.1/fig/data_double_281ipbv7.org][figure]]


*** DONE Crossfeeds 
    :LOGBOOK:
    CLOCK: [2010-05-27 Thu 13:38]--[2010-05-27 Thu 14:05] =>  0:27
    CLOCK: [2010-05-27 Thu 09:52]--[2010-05-27 Thu 12:07] =>  2:15
    :END:

    Test on one mode:
   : dhad-10.1.7 yld crossfeeds signal Single_Dp_to_Kspipipi 281ipbv7 --set interact ... (2minutes 48 seconds) done. 

    For single:

    : dhad-10.1.7 yld crossfeeds signal single 281ipbv7 --set interact --test OK.
    : dhad-10.1.7 yld crossfeeds signal single 281ipbv7 --test OK 
    : dhad-10.1.7 yld crossfeeds signal single 281ipbv7 ... done. 

    Fit diagonal: 

    : dhad-10.1.7 fit crossfeeds signal diag 281ipbv7  --set interact:mode=1:sign=-1  OK.
    : dhad-10.1.7 fit crossfeeds signal diag 281ipbv7  --test OK.
    : dhad-10.1.7 fit crossfeeds signal diag 281ipbv7 ... done. 

    Save the plots:
    : dhad-10.1.7 fig crossfeeds signal diag 281ipbv7 ... done. 
    [[./10.1/fig/crossfeeds_signal_diag_281ipbv7.org][figure]]

    Fit non-diagonal: 

    : dhad-10.1.7 fit crossfeeds signal nondiag 281ipbv7  --set interact:mode=1,3 ... OK.
    : dhad-10.1.7 fit crossfeeds signal nondiag 281ipbv7  --test OK.
    : dhad-10.1.7 fit crossfeeds signal nondiag 281ipbv7  ...  done. 
    : dhad-10.1.7 fig crossfeeds signal nondiag 281ipbv7  ... OK.
    [[./10.1/fig/crossfeeds_signal_nondiag_281ipbv7.org][figure]]

    Make the yldfile: 

    : dhad-10.1.7 tab brf yields_and_efficiencies 281ipbv7 ... done.

*** DONE BF fit
    :LOGBOOK:
    CLOCK: [2010-05-27 Thu 14:05]--[2010-05-27 Thu 14:30] =>  0:25
    :END:

    : cd $src/gen
    : ln -s $src/10.1.6/gen/tag_numbers .

    BF fit:
    : dhad-10.1.7 brf 281ipbv7 ... done. 
    : crossfeed is using D0_to_Kpi fakes D0B_to_Kpi:  0.00091
    : crossfeed is using D0B_to_Kpi fakes D0_to_Kpi:  0.000983

    Compare with 281ipbv0: 

    : dhad-10.1.7 tab compare brf_data_results 281ipbv0 281ipbv7
    => [[./10.1/tab/compare_brf_data_results_281ipbv0_281ipbv7.org][table]] ([[./10.1/tab/compare_brf_data_results_281ipbv0_281ipbv7.info][info]]) 
   
    Good agreement. Number of D+D- decreased 1.5\sigma, D2Kpipi
    increased 1.5 \sigma, D2KPiPiPi0 increased 1.4 \sigma. Others less
    than 1\sigma.

** Use old momentum resolution parameters (10.1.8) [100%]
*** DONE Fit mBC for single tag Data
    :LOGBOOK:
    CLOCK: [2010-06-02 Wed 15:05]--[2010-06-02 Wed 15:06] =>  0:01
    CLOCK: [2010-06-02 Wed 11:22]--[2010-06-02 Wed 11:47] =>  0:25
    :END:

    Check in the current code and tag ... done. 

    Change the current to 10.1.8 ... done. 

    : setdhad 10.1.8 

    Make softlinks:
    
    : cd $dhad/10.1/tab
    : ln -s line_shape_paras.txt para_momentum_resolution_281ipbv8.txt
    : cd $dhad/10.1/dat/evt
    : ln -s 281ipbv7 281ipbv8

    Fit mBC:

    : dhad-10.1.8 fit data Single_Dp_to_Kspipipi 281ipbv8 --set interact OK.
    : dhad-10.1.8 fit data single 281ipbv8  --test OK.
    : dhad-10.1.8 fit data single 281ipbv8 ... done. 
    : dhad-10.1.8 fig data single 281ipbv8
    [[./10.1/fig/data_single_281ipbv8.org][figure]]


 
*** DONE Fit mBC for single tag MC
    :LOGBOOK:
    CLOCK: [2010-06-02 Wed 15:02]--[2010-06-02 Wed 15:05] =>  0:03
    CLOCK: [2010-06-02 Wed 11:47]--[2010-06-02 Wed 11:51] =>  0:04
    :END:

    Fit mBC:

    : dhad-10.1.8 fit signal Single_Dp_to_Kspipipi 281ipbv8 --set interact OK.
    : dhad-10.1.8 fit signal single 281ipbv8  --test OK.
    : dhad-10.1.8 fit signal single 281ipbv8 ... done.
    : dhad-10.1.8 fig signal single 281ipbv8
    [[./10.1/fig/signal_single_281ipbv8.org][figure]]

*** DONE Compare yields for single tags
    :LOGBOOK:
    CLOCK: [2010-06-02 Wed 16:08]--[2010-06-02 Wed 16:37] =>  0:29
    CLOCK: [2010-06-02 Wed 15:06]--[2010-06-02 Wed 15:30] =>  0:24
    :END:

    Compare 281ipbv0 and 281ipbv8 data:

    : dhad-10.1.8 tab compare yields data single 281ipbv0 281ipbv8 
    => [[./10.1/tab/compare_yields_data_single_281ipbv0_281ipbv8.org][table]] ([[./10.1/tab/compare_yields_data_single_281ipbv0_281ipbv8.info][info]]) 

    Compare 281ipbv0 and 281ipbv8 mc:
    : dhad-10.1.8 tab compare yields signal single 281ipbv0 281ipbv8 --set diff=sigma2_pct
    => [[./10.1/tab/compare_yields_signal_single_281ipbv0_281ipbv8.org][table]] ([[./10.1/tab/compare_yields_signal_single_281ipbv0_281ipbv8.info][info]])    

    Compare the diff for signal and data:

    : dhad-10.1.8 tab compare diff yields_data_single_281ipbv0_281ipbv8 yields_signal_single_281ipbv0_281ipbv8 --set label=data,signal

    => [[./10.1/tab/compare_diff_yields_data_single_281ipbv0_281ipbv8_yields_signal_single_281ipbv0_281ipbv8.org][table]] ([[./10.1/tab/compare_diff_yields_data_single_281ipbv0_281ipbv8_yields_signal_single_281ipbv0_281ipbv8.info][info]]) 


*** DONE Fit mBC for double tag Data
    :LOGBOOK:
    CLOCK: [2010-06-02 Wed 11:51]--[2010-06-02 Wed 12:20] =>  0:29
    :END:

    : dhad-10.1.8 fit data Double_Dp_to_KKpi__Dm_to_KKpi 281ipbv8 --set interact OK. 
    : dhad-10.1.8 fit data double 281ipbv8  --test OK.
    : dhad-10.1.8 fit data double 281ipbv8  ... done.
    : dhad-10.1.8 fig data double 281ipbv8   
    [[./10.1/fig/data_double_281ipbv8.org][figure]]

    
*** DONE Fit mBC for double tag MC
    :LOGBOOK:
    CLOCK: [2010-06-02 Wed 15:00]--[2010-06-02 Wed 15:02] =>  0:02
    :END:

    : dhad-10.1.8 fit signal Double_Dp_to_KKpi__Dm_to_KKpi 281ipbv8 --set interact OK.  
    : dhad-10.1.8 fit signal double 281ipbv8  --test OK.
    : dhad-10.1.8 fit signal double 281ipbv8  ... done. 
    : dhad-10.1.8 fig signal double 281ipbv8  
    [[./10.1/fig/signal_double_281ipbv8.org][figure]]

*** DONE Compare the selected events 
    
    Number of evtfiles in 281ipbv0:

    : dhad-10.1.8 tab entries evt data single 281ipbv0 

    => [[./10.1/tab/entries_evt_data_single_281ipbv0.org][table]] ([[./10.1/tab/entries_evt_data_single_281ipbv0.info][info]])  

    : dhad-10.1.8 tab entries evt data single 281ipbv7

    Number of evtfiles in 281ipbv7:
 
    => [[./10.1/tab/entries_evt_data_single_281ipbv7.org][table]] ([[./10.1/tab/entries_evt_data_single_281ipbv7.info][info]])  

    Make the compare table:

    Data:

    : dhad-10.1.8 tab compare entries data single 281ipbv0 281ipbv7

    => [[./10.1/tab/compare_entries_data_single_281ipbv0_281ipbv7.org][table]] ([[./10.1/tab/compare_entries_data_single_281ipbv0_281ipbv7.info][info]]) 

    : dhad-10.1.8 tab compare entries data single 281ipbv1 281ipbv7

     => [[./10.1/tab/compare_entries_data_single_281ipbv1_281ipbv7.org][table]] ([[./10.1/tab/compare_entries_data_single_281ipbv1_281ipbv7.info][info]])
     
     
    
    Signal MC:

    : dhad-10.1.8 tab compare entries signal single 281ipbv0 281ipbv7

    => [[./10.1/tab/compare_entries_signal_single_281ipbv0_281ipbv7.org][table]] ([[./10.1/tab/compare_entries_signal_single_281ipbv0_281ipbv7.info][info]]) 

    Get the different run and event ids for 281ipbv7 mode 0:

    Quick test numbers with signal MC: 
    : dhad-10.1.8 tab compare events signal Single_D0_to_Kpi 281ipbv0 281ipbv7
    : dhad-10.1.8 tab compare events signal Single_D0B_to_Kpi 281ipbv0 281ipbv7

    |         | 281ipbv0 | 281ipbv7 |
    |---------+----------+----------|
    | D02Kpi  |    41052 |    40782 |
    | D0B2Kpi |    41297 |    41540 |

    Test the number for data:
    : dhad-10.1.8 tab compare events data Single_D0_to_Kpi 281ipbv0 281ipbv7

    0 27668 

    Need to fix the 281ipbv0 ... done.
    Better to store the events id in txt file for all modes to save time. 

    : dhad-10.1.8 yld events signal Single_D0_to_Kpi 281ipbv0 --set interact --test ... OK.
    : dhad-10.1.8 yld events signal Single_D0B_to_Kpi 281ipbv0  --test OK.
    : dhad-10.1.8 yld events signal single 281ipbv0  --test OK. 
    : dhad-10.1.8 yld events signal single 281ipbv0 ... done.
    
    : dhad-10.1.8 yld events data Single_D0_to_Kpi 281ipbv0 --set interact --test ... OK.
    : dhad-10.1.8 yld events data single 281ipbv0  --test OK.
    : dhad-10.1.8 yld events data single 281ipbv0 ... done.

    New version:
    : dhad-10.1.8 yld events signal single 281ipbv7 ... done.
    : dhad-10.1.8 yld events data single 281ipbv7 ... done. 

    List the unique events in 28ipbv0 for mode D0toKpi:

    : dhad-10.1.8 tab compare events data Single_D0_to_Kpi 281ipbv0 281ipbv7 ... OK.
    : dhad-10.1.8 tab compare events data single 281ipbv0 281ipbv7 

    => [[./10.1/tab/compare_events_data_single_281ipbv0_281ipbv7.org][table]] ([[./10.1/tab/compare_events_data_single_281ipbv0_281ipbv7.info][info]])

    Check modes without entries... OK.

    : dhad-10.1.8 yld events data Single_Dm_to_Kpipipi0 281ipbv0 --set interact --test ... OK. 
    
    Re-submit the 281ipbv0 yld ... done. 

    : dhad-10.1.8 yld events signal single 281ipbv0 ... done.
    : dhad-10.1.8 yld events data single 281ipbv0 ... done.

    Re-generate the table ... done. 

    Mode D0 to Kpi: 

    Get the unique event ids for both:

    : dhad-10.1.8 tab diff events data Single_D0_to_Kpi 281ipbv0 281ipbv7 ...OK.
    : dhad-10.1.8 tab diff events data single 281ipbv0 281ipbv7 ... done. 
    : dhad-10.1.8 tab diff events signal single 281ipbv0 281ipbv7 ... done. 

    Study the cuts for Single_D0_to_Kpi ... hold when get the skimmed
    ntuple...

*** DONE Check whether the unique events are in both ntuples
    :LOGBOOK:
    CLOCK: [2010-07-06 Tue 10:09]--[2010-07-06 Tue 11:31] =>  1:22
    CLOCK: [2010-07-06 Tue 09:44]--[2010-07-06 Tue 10:02] =>  0:18
    CLOCK: [2010-07-02 Fri 16:37]--[2010-07-02 Fri 17:01] =>  0:24
    CLOCK: [2010-07-02 Fri 15:59]--[2010-07-02 Fri 16:26] =>  0:27
    CLOCK: [2010-07-02 Fri 14:02]--[2010-07-02 Fri 15:20] =>  1:18
    CLOCK: [2010-07-02 Fri 11:01]--[2010-07-02 Fri 11:59] =>  0:58
    CLOCK: [2010-07-02 Fri 10:13]--[2010-07-02 Fri 10:50] =>  0:37
    CLOCK: [2010-07-01 Thu 15:33]--[2010-07-01 Thu 16:02] =>  0:29
    :END:

    Test the 90 events for the D0 to Kpi of the data in 281ipbv7:

    : dhad-10.1.8 tab cuts events data Single_D0_to_Kpi 281ipbv7 -s events=281ipbv7 -d ... OK.

    Can find the 90 events. 

    Now, test the 90 events to see if they are in the old ntuple
    281ipbv0:
 
    : dhad-10.1.8 tab cuts events data Single_D0_to_Kpi 281ipbv0 -s events=281ipbv7 -d ...

    Can NOT find the 90 events!

    So, those unique events were not stored in the original ntuple at
    all! 


   
*** DONE Skim the data events into ntuple    


    : dhad-10.1.8 tab cuts events data Single_D0_to_Kpi 281ipbv0 281ipbv7 

    Get the skimmed ntuple:

    Make the Class for skim:

    : mkdir $src/sel
    : cd $src/sel
    : ln -s $dhad/10.1/dat/signal/281ipbv7/Single_Dp_to_Kspi.root .
    : root -l
    : TChain* ch = new TChain("dnt")
    : ch->Add("Single_Dp_to_Kspi.root")
    : ch->MakeClass("DNTClass")
    
    Edit the .h file ... done. 

    Test the signal ... 

    Dummy loop ... OK.

    Read events into the script ... OK.

    : dhad-10.1.8 sel diff events signal Single_Dp_to_Kspi 281ipbv0 281ipbv7  ... OK.

    Need to put if statement to deal with data and 281ipbv0 ... just ignore the Error message. 

    : dhad-10.1.8 sel diff events data Single_Dp_to_Kspi 281ipbv0 281ipbv7 ... takes too long!

    As Werner suggested, using the suez method:

    Read ...

    https://wiki.lepp.cornell.edu/lepp/bin/view/CLEO/Private/SW/CleoSuezManual

    Read 
    https://wiki.lepp.cornell.edu/lepp/bin/view/CLEO/Private/SW/EventStore

    Use the Suez online help:

    :     Suez> goto help
    :  %% INFO-JobControl.GotoCommand: 
    :                                                                    
    : // Description: Goto Command                                       
    : //                                                                 
    : // Usage:                                                          
    : //  goto <runnumber> <eventnumber> [uid] [stream]  will proceed to a     
    : //                                                 given run/event/uid number
    : //                                                 skipping all stops in 
    : //                                                 between.              
    : //  Please note: NO processing of that run/event takes place.      
    : //               You will have to do:                              
    : //                    "go 1" or "go"     to actually process it
    : //                                                                 

    Need a script to accomplish this ... done. 

    Re-build the proc lib for 10.1.8 ... done. 

    : dhad-10.1.8 gen ntuple data 281ipb skim --test OK.

    Make the DataSkim.tcl ...

    : dhad-10.1.8 gen ntuple data 281ipbv7 skim --test ... OK.

    : dhad-10.1.8 gen ntuple data 281ipbv7 skim ... done.

    Run these event list for dhad 2.1, the old data. 
    data31 ... OK.

    data 32-37 ... done. 

    Need to run the unique events for 281ipbv7...
    : dhad-10.1.8 gen ntuple data 281ipbv0 skim --test ... 



*** DONE Check the unique events in the skimmed data ntuple

    : dhad-10.1.8 tab cuts events data Single_D0_to_Kpi 281ipbv0/skim -s events=281ipbv7 -d 
    : dhad-10.1.8 tab cuts events data Single_D0_to_Kpi 281ipbv7/skim -s events=281ipbv7 -d 

    Found the 90 events in both cases!=> [[./10.1/tab/parse_events_data_single_281ipbv7.org][table]]

    Thoese events do get selected when using the "goto" feature in
    the suez.

    Now the question is why those events get cut off when not using
    the "goto" feature in suez?

*** DONE Check the dataset distribution for the unique events
    :LOGBOOK:
    CLOCK: [2010-07-06 Tue 15:24]--[2010-07-06 Tue 15:26] =>  0:02
    :END:
    Find the dataset distribution for this 90 events ... done. 

    : dhad-10.1.8 tab parse events data Single_D0_to_Kpi 281ipbv7 -d OK.

    : dhad-10.1.8 tab parse events data single 281ipbv7 

    => [[./10.1/tab/parse_events_data_single_281ipbv7.org][table]] ([[./10.1/tab/parse_events_data_single_281ipbv7.info][info]])


*** DONE Make the run list table 
    :LOGBOOK:
    CLOCK: [2010-07-06 Tue 15:26]--[2010-07-06 Tue 16:44] =>  1:18
    CLOCK: [2010-07-06 Tue 15:17]--[2010-07-06 Tue 15:24] =>  0:07
    :END:
    
    Make the table for all of the unique events 

    : dhad-10.1.8 tab parse runs data single 281ipbv7  
    => [[./10.1/tab/parse_runs_data_single_281ipbv7.org][table]] ([[./10.1/tab/parse_runs_data_single_281ipbv7.info][info]]) 

*** DONE Check the timestamp of the eventstore
    :LOGBOOK:
    CLOCK: [2010-07-07 Wed 09:23]--[2010-07-07 Wed 10:11] =>  0:48
    :END:

    Message from Peter:

    : You mentioned you can get the missing events with a suez "goto" command.
    : Can you actually get the events using the eventstore timestamp 20060208
    : (old)? or only with 20070822 (new)? These are different dtag versions -
    : maybe some dtagging jobs failed in one and not the other ...    

    Check the original tcl ... 
    : /nfs/cor/user/ponyisi/daf9/2005-3/
    : eventstore in 20060208 dtag all dataset data31

    They do have the 20060208 timestamp! 

    The reason is that I just copied the tcl files form the current
    HadronicDNtupleProc in order to use the goto feature without
    checking the original timestamp. 

    The lesson here is that always prefer editing the orginal files in
    stead of overwriting directly. 

    Restore the 2006 timestamp in the dataselection.tcl ... done. 

    Backup the old skim-txt file ... done. 
    
    Use the goto to skim  ... 
    
    : cd $dhad/src/2.1/gen 
    
    qsub dtuple-data31-skim.sh  [[./dat/data/2.1/dtuple-data31-skim.txt][log]]
    
    : qsub dtuple-data32-skim.sh 
    : qsub dtuple-data33-skim.sh 
    : qsub dtuple-data34-skim.sh 
    : qsub dtuple-data35-skim.sh 
    : qsub dtuple-data36-skim.sh 
    : qsub dtuple-data37-skim.sh 

    Can not process those events. 

    Reply to Peter ... done. 


*** DONE Get the mBC distribution of the unique events
    :LOGBOOK:
    CLOCK: [2010-07-08 Thu 13:47]--[2010-07-08 Thu 14:17] =>  0:30
    CLOCK: [2010-07-08 Thu 11:49]--[2010-07-08 Thu 12:32] =>  0:43
    CLOCK: [2010-07-08 Thu 09:39]--[2010-07-08 Thu 11:00] =>  1:21
    CLOCK: [2010-07-07 Wed 16:37]--[2010-07-07 Wed 16:56] =>  0:19
    :END:

    : dhad-10.1.8 fig var mbc data single 281ipbv7/skim
    [[./10.1/fig/var_mbc_data_single_281ipbv7_skim.org][figure]]

    Need to make statement ... done. 
    
    For one mode:
    : dhad-10.1.8 fig var mbc data Single_D0_to_Kpi 281ipbv7/skim 
    [[./10.1/fig/var_mbc_data_Single_D0_to_Kpi_281ipbv7_skim.org][figure]]
    
    Plot in log scale ... OK.
    : dhad-10.1.8 fig var mbc data Single_D0_to_Kpi 281ipbv7/skim -s SetLogy
    
    These unique events looks evenly distributed, still don't know why
    the mbc fitting has less signal in the new env. Need to ask on
    next meeting.


*** CANCELED Find out the cuts failed the unique events
    :LOGBOOK:
    CLOCK: [2010-07-01 Thu 11:10]--[2010-07-01 Thu 12:02] =>  0:52
    CLOCK: [2010-07-01 Thu 10:10]--[2010-07-01 Thu 10:56] =>  0:46
    :END:
    Focus on D0toK-pi+ 90 events. 

    Get the yields from the skimmed 281ipbv0 ...
    : dhad-10.1.8 yld data Single_Dp_to_Kspipipi 281ipbv0/skim -s interact -t -d OK.

    Start from a single event ...
    : dhad-10.1.8 tab cuts events data Single_D0_to_Kpi 281ipbv0/skim -s events=281ipbv7 -d 
    : selected 90 out of 90. 

    : dhad-10.1.8 tab cuts events data Single_D0_to_Kpi 281ipbv0 
    
*** CANCELED Crossfeeds
    :LOGBOOK:
    CLOCK: [2010-06-03 Thu 10:17]--[2010-06-03 Thu 12:32] =>  2:15
    :END:

    
    : cd $dhad/10.1/dat/bkg
    : ln -s 281ipbv7 281ipbv8 

    Fit diagonal: 

    : dhad-10.1.8 fit crossfeeds signal diag 281ipbv8  --set interact:mode=1:sign=-1  OK.
    : dhad-10.1.8 fit crossfeeds signal diag 281ipbv8  --test OK.
    : dhad-10.1.8 fit crossfeeds signal diag 281ipbv8 ... 




** Fit old data in new env (10.1.9) [100%]
   :LOGBOOK:
   CLOCK: [2010-07-12 Mon 10:46]--[2010-07-12 Mon 11:11] =>  0:25
   CLOCK: [2010-07-12 Mon 09:16]--[2010-07-12 Mon 09:33] =>  0:17
   CLOCK: [2010-07-09 Fri 14:04]--[2010-07-09 Fri 14:56] =>  0:52
   CLOCK: [2010-07-09 Fri 12:04]--[2010-07-09 Fri 12:14] =>  0:10
   :END:

   Extract yields without the 90 events ... no need, use the previous
   evt file directly. 

   : cd $dhad/src/10.1.8
   : cvs ci -m "freeze 10.1.8" 
   : cvs tag V10-01-08 
   : setdhad 10.1.9 

   Make the default dhad 10.1.9... OK.

   : cd $dhad/10.1/tab
   : ln -s line_shape_paras.txt para_momentum_resolution_281ipbv9.txt
  
   : cd $dhad/10.1/dat/evt
   : cp  281ipbv0/data*.evt 281ipbv9/

   : dhad-10.1.9 fit data Single_D0_to_Kpi 281ipbv9 -s interact -d ... OK. 
   : dhad-10.1.9 fit data single 281ipbv9  -t OK.
   : dhad-10.1.9 fit data single 281ipbv9 ... done.
   : dhad-10.1.9 fig data single 281ipbv9
   [[./10.1/fig/data_single_281ipbv9.org][figure]]

   Compare the yields ...
   : dhad-10.1.9 tab compare yields data single 281ipbv0 281ipbv9 
   => [[./10.1/tab/compare_yields_data_single_281ipbv0_281ipbv9.org][table]] ([[./10.1/tab/compare_yields_data_single_281ipbv0_281ipbv9.info][info]])   

   Found the parameter difference:
   
   | Parameter | 281ipbv0 | 281ipbv9 |
   |-----------+----------+----------|
   | Gamma     | 0.0286   | 0.0252   |
   | R         | 12.3     | 12.7     |
   | Mres      | 3.7718   | 3.7724   |

   

** Fit old data in new env with old parameters (10.1.10) [100%]
   :LOGBOOK:
   CLOCK: [2010-07-12 Mon 12:42]--[2010-07-12 Mon 13:08] =>  0:26
   CLOCK: [2010-07-12 Mon 11:14]--[2010-07-12 Mon 11:33] =>  0:19
   :END:

   : cd $dhad/src/10.1.9
   : cvs ci -m "freeze 10.1.9" 
   : cvs tag V10-01-09
   : setdhad 10.1.10 

   Make the current dhad 10.1.10 ... OK.

   Use the parameter for data fit ... OK.

   : cd $dhad/10.1/tab
   : ln -s line_shape_paras.txt para_momentum_resolution_281ipbv10.txt
  
   : cd $dhad/10.1/dat/evt
   : ln -s 281ipbv9 281ipbv10 
   
   : dhad-10.1.10 fit data Single_D0_to_Kpi 281ipbv10 -s interact -d OK.
   : dhad-10.1.10 fit data single 281ipbv10  -t OK.
   : dhad-10.1.10 fit data single 281ipbv10 ... done. 
   : dhad-10.1.10 fig data single 281ipbv10
   [[./10.1/fig/data_single_281ipbv10.org][figure]]

   Compare the yields ... done.

   : dhad-10.1.10 tab compare yields data single 281ipbv0 281ipbv10  
   => [[./10.1/tab/compare_yields_data_single_281ipbv0_281ipbv10.org][table]] ([[./10.1/tab/compare_yields_data_single_281ipbv0_281ipbv10.info][info]]) 

** Fit new data in new env with old parameters (281ipbv11) [100%]
   :LOGBOOK:
   CLOCK: [2010-07-12 Mon 13:08]--[2010-07-12 Mon 13:22] =>  0:14
   CLOCK: [2010-07-12 Mon 11:36]--[2010-07-12 Mon 11:43] =>  0:07
   :END:

   : cd $dhad/10.1/dat/evt
   : ln -s 281ipbv7 281ipbv11 

   : cd $dhad/10.1/tab
   : ln -s line_shape_paras.txt para_momentum_resolution_281ipbv11.txt
   
   : dhad-10.1.10 fit data Single_D0_to_Kpi 281ipbv11 -s interact -d OK.
   : dhad-10.1.10 fit data single 281ipbv11  -t OK.
   : dhad-10.1.10 fit data single 281ipbv11 ... done. 
   : dhad-10.1.10 fig data single 281ipbv11
   
   [[./10.1/fig/data_single_281ipbv11.org][figure]]

   Compare the yields ...
   : dhad-10.1.10 tab compare yields data single 281ipbv0 281ipbv11 
   => [[./10.1/tab/compare_yields_data_single_281ipbv0_281ipbv11.org][table]] ([[./10.1/tab/compare_yields_data_single_281ipbv0_281ipbv11.info][info]])  


** Process 281/pb Generic MC (10.1.10) [95%]
*** DONE Setup Env
    :LOGBOOK:
    CLOCK: [2010-07-14 Wed 10:48]--[2010-07-14 Wed 11:08] =>  0:20
    CLOCK: [2010-04-09 Fri 15:53]--[2010-04-09 Fri 15:57] =>  0:04
    :END:

    Look for the source files ...

    https://wiki.lepp.cornell.edu/lepp/bin/view/CLEO/Private/SW/CLEOcMC

    https://wiki.lepp.cornell.edu/lepp/bin/view/CLEO/Private/SW/CLEOcMCAccess

*** DONE Run Ntuple
    :LOGBOOK:
    CLOCK: [2010-07-15 Thu 10:28]--[2010-07-15 Thu 10:59] =>  0:31
    CLOCK: [2010-07-14 Wed 16:08]--[2010-07-14 Wed 16:29] =>  0:21
    CLOCK: [2010-07-14 Wed 14:32]--[2010-07-14 Wed 14:49] =>  0:17
    CLOCK: [2010-07-14 Wed 13:45]--[2010-07-14 Wed 14:19] =>  0:34
    CLOCK: [2010-07-14 Wed 11:08]--[2010-07-14 Wed 12:13] =>  1:05
    :END:
    
    Test on data33: 

    : dhad-10.1.10 gen ntuple generic mc-ddbar-dskim 10xlumi data33 -t -d OK.

    Update the local_setup file ... OK.

    Compile the proc in 10.1.10 ... done.

    : dhad-10.1.10 gen ntuple generic mc-ddbar-dskim 10xlumi data33 ... 

    Inside the desired the dataset block, but have other error:

    : The skim name '10xlumi' is not a valid skim for 'mc-ddbar-dskim' grade.
    
    Read page:

    https://wiki.lepp.cornell.edu/lepp/bin/view/CLEO/Private/SW/DataBase

    : 20080728: version2 dskim (with 20060224_FULL_A_3) of final/regenerated data31-33, 35-37, 43-46

    Change the timestamp for in the tcl ... OK.

    Found another error:
    : %% ERROR-EventStoreModuleBase.EventStoreModuleBase: No runs found in EventStore for given grade='mc-ddbar-dskim' and skim='10xlumi'

    From this page:
    http://www.lns.cornell.edu/~dskim/private/dskim.html#mc31to37v2

    : mc-ddbar-dskim: time stamp = 20060926-20070713
    
    Change the timestamp to 20070713 ... done. Try again
    ... working...

    Why they have different timestamp? What happend after 20070713? 

    Ask on HN ... done. 

    Message from Bo:

    : The first link in your email points to a page under the dskim home
    : directory. I was the one who set up the page. It meant to provide more
    : details of the dskim data and MC samples. However, after I stopped being
    : the "official dskimmer", the new dskimmer didn't update the page regularly.
    : 
    : What is happening here is that the time stamps you get from the first
    : link is for the old 40x 281/pb generic MC dskim. You could get the hint
    : from the range:
    : 
    : 20060926-20070713
    : 
    : Since you are requesting the 10xlumi MC dskim, this works fine for you,
    : as long as you have the time stamp within the range specified.
    : The 2nd link gives the time stamp for the dskim of the regenerated 20x
    : 281/pb MC, as shown by the text you've pasted - "final/regenerated".
    : 
    : Do you really mean to use the old 40x 281/pb MC? If yes, what you are
    : doing is fine.
    : 
    : Hope this is clear.

    My respond: 

    : So, what I want to do is to use the new generated MC for
    : 281/pb. In this case, should I just use:
    : 
    : eventstore in 20070713 mc-ddbar-dskim dataset data33
    : 
    : without using the 20xlumi?

    From Bo:

    : No, the time stamp 20070713 would still give you the old 40xlumi MC dskim.
    : I recommend you use today's date, so that you get the latest dskim. If I
    : haven't lost track of the eventstore injections, this should give you
    : the same dskim sample as 20070714.
    : Also, remember not to change the time stamp once you put it in the suez
    : script, so that any future changes, if there will be any, to the
    : eventstore database won't affect your analysis results.

    Check in the code ... done. 

    Run on data31, 32, 35, 36, 37 ... 

    : dhad-10.1.10 gen ntuple generic mc-ddbar-dskim 10xlumi 281ipb ...

    Run on 281ipb for the regenerated smaple:

    : dhad-10.1.10 gen ntuple generic mc-ddbar-dskim 20xlumi 281ipb -t -d ... done. 

*** DONE Run continuum MC 
    :LOGBOOK:
    CLOCK: [2010-07-28 Wed 15:22]--[2010-07-28 Wed 15:24] =>  0:02
    CLOCK: [2010-07-27 Tue 15:41]--[2010-07-27 Tue 15:51] =>  0:10
    CLOCK: [2010-07-27 Tue 15:40]--[2010-07-27 Tue 15:40] =>  0:00
    :END:
    
    : dhad-10.1.10 gen ntuple generic mc-cont-dskim 5xlumi 281ipb -t -d ... OK.
    : dhad-10.1.10 gen ntuple generic mc-cont-dskim 5xlumi 281ipb  ... done. 

*** DONE Run Yields
    :LOGBOOK:
    CLOCK: [2010-07-19 Mon 09:06]--[2010-07-19 Mon 09:08] =>  0:02
    CLOCK: [2010-07-16 Fri 15:23]--[2010-07-16 Fri 15:45] =>  0:22
    CLOCK: [2010-07-16 Fri 14:12]--[2010-07-16 Fri 14:58] =>  0:46
    CLOCK: [2010-07-16 Fri 13:15]--[2010-07-16 Fri 14:02] =>  0:47
    CLOCK: [2010-07-16 Fri 11:10]--[2010-07-16 Fri 11:37] =>  0:27
    CLOCK: [2010-07-16 Fri 09:13]--[2010-07-16 Fri 10:05] =>  0:52
    CLOCK: [2010-07-15 Thu 15:11]--[2010-07-15 Thu 15:50] =>  0:39
    CLOCK: [2010-07-15 Thu 11:31]--[2010-07-15 Thu 12:00] =>  0:29
    :END:
    
    Run yields on signal: 

    : mkdir $dhad/10.1/dat/generic
    : cd $dhad/10.1/dat/generic
    : mkdir 281ipbv0
    : cd 281ipbv0if opts.test: 
    : ln -s $dhad/dat/generic/10.1.10/*10xlumi*.root 

    : cd ..
    : mkdir 281ipbv10 
    : ln -s $dhad/dat/generic/10.1.10/*20xlumi_data3*.root 281ipbv10 

    Run for one mode:
   : dhad-10.1.10 yld generic Single_Dp_to_Kspipipi 281ipbv0 -s interact -t ... OK.

    Wait for the whole to finish ...
    : dhad-10.1.10 yld generic Single_Dp_to_Kspipipi 281ipbv10

    Run for all :
    : dhad-10.1.10 yld generic single 281ipbv10 

    Changed the structure. Later will run:
    : dhad-10.1.10 yld generic/ddbar single 281ipbv10 
    
*** DONE Run Backgrounds yields
    :LOGBOOK:
    CLOCK: [2010-07-27 Tue 12:50]--[2010-07-27 Tue 12:51] =>  0:01
    CLOCK: [2010-07-22 Thu 14:10]--[2010-07-22 Thu 14:27] =>  0:17
    :END:

    Run for background yields, save the MCTruth ...

    : dhad-10.1.10 yld backgrounds generic Single_Dp_to_Kspipipi 281ipbv0 -s interact -t ...  OK for 10000 test.
    : dhad-10.1.10 yld backgrounds generic Single_Dp_to_Kspipipi 281ipbv0 -t ... OK.
    : dhad-10.1.10 yld backgrounds generic Single_Dp_to_Kspipipi 281ipbv0 ... OK.

    : dhad-10.1.10 yld backgrounds generic single 281ipbv0 -t ... OK.
    : dhad-10.1.10 yld backgrounds generic single 281ipbv0 ... done. 

    Run for the new MC: 
    : dhad-10.1.10 yld backgrounds generic Single_Dp_to_Kspipipi 281ipbv10 -s interact -t ...  OK for 10000 test.
    : dhad-10.1.10 yld backgrounds generic single 281ipbv10 -t ... OK
    : dhad-10.1.10 yld backgrounds generic single 281ipbv10 ... done. 


   Re-run the new MC after linked all of the root files ... done. 
   : dhad-10.1.10 yld backgrounds generic single 281ipbv10 
   
*** DONE List the backgrounds
    :LOGBOOK:
    CLOCK: [2010-07-27 Tue 11:05]--[2010-07-27 Tue 11:23] =>  0:18
    CLOCK: [2010-07-26 Mon 15:00]--[2010-07-26 Mon 16:55] =>  1:55
    CLOCK: [2010-07-26 Mon 12:56]--[2010-07-26 Mon 14:08] =>  1:12
    CLOCK: [2010-07-26 Mon 12:18]--[2010-07-26 Mon 12:29] =>  0:11
    CLOCK: [2010-07-26 Mon 10:37]--[2010-07-26 Mon 11:07] =>  0:30
    CLOCK: [2010-07-23 Fri 15:16]--[2010-07-23 Fri 16:25] =>  1:09
    CLOCK: [2010-07-23 Fri 14:00]--[2010-07-23 Fri 15:04] =>  1:04
    CLOCK: [2010-07-23 Fri 10:50]--[2010-07-23 Fri 12:51] =>  2:01
    CLOCK: [2010-07-23 Fri 09:37]--[2010-07-23 Fri 10:38] =>  1:01
    CLOCK: [2010-07-22 Thu 14:44]--[2010-07-22 Thu 16:20] =>  1:36
    CLOCK: [2010-07-22 Thu 14:33]--[2010-07-22 Thu 14:36] =>  0:03
    CLOCK: [2010-07-22 Thu 14:03]--[2010-07-22 Thu 14:10] =>  0:07
    CLOCK: [2010-07-22 Thu 11:35]--[2010-07-22 Thu 12:03] =>  0:28
    CLOCK: [2010-07-22 Thu 10:29]--[2010-07-22 Thu 11:25] =>  0:56
    CLOCK: [2010-07-22 Thu 09:34]--[2010-07-22 Thu 10:20] =>  0:46
    CLOCK: [2010-07-21 Wed 16:00]--[2010-07-21 Wed 16:21] =>  0:21
    CLOCK: [2010-07-21 Wed 15:05]--[2010-07-21 Wed 15:32] =>  0:27
    CLOCK: [2010-07-21 Wed 10:59]--[2010-07-21 Wed 11:58] =>  0:59
    CLOCK: [2010-07-21 Wed 10:29]--[2010-07-21 Wed 10:51] =>  0:22
    CLOCK: [2010-07-20 Tue 10:16]--[2010-07-20 Tue 11:18] =>  1:02
    CLOCK: [2010-07-19 Mon 11:04]--[2010-07-19 Mon 11:48] =>  0:44
    CLOCK: [2010-07-19 Mon 10:07]--[2010-07-19 Mon 10:50] =>  0:43
    CLOCK: [2010-07-19 Mon 09:08]--[2010-07-19 Mon 09:54] =>  0:46
    :END:

    Start from one mode:
    : dhad-10.1.10 tab backgrounds generic Single_Dp_to_Kspipipi 281ipbv0 -t 

    It has 2275 kinds of backgroud! 

    Get the overview for all modes:
    : dhad-10.1.10 tab backgrounds generic single 281ipbv0 -t OK.
    : dhad-10.1.10 tab backgrounds generic single 281ipbv0  

    => [[./10.1/tab/bkg_generic_single_281ipbv0.org][table]] ([[./10.1/tab/bkg_generic_single_281ipbv0.info][info]]) 

    List the modes numbers > 3000:
    : dhad-10.1.10 tab backgrounds names generic Single_Dp_to_Kspipipi 281ipbv0 -t 
    
    Fix the bug of the ranges ... done. 

    Need to understand the MCdmode and MCdbmode meaning ... done. 

    From previous doc:

    http://www.lepp.cornell.edu/~xs32/private/DHad/archives/2006/05.html#sec19

    : In Monte Carlo events, the variables "mcdmode" and "mcdbmode" are
    : filled in the ntuple.  These variables encode the final state
    : daughters of the D and Dbar.  The allowed final state daughters are
    : K+, K-, K0, pi+, pi-, pi0, gamma, lepton, and other.  They are encoded
    : in the HadronicDNtupleProc::constructMCDmode() function.  In the code,
    : each power of 10 is a different particle, so "2" means 2 K-, "20"
    : means 2 K+, "11" means K-K+, etc.  Photons (which do not come from pi0
    : decays) are multiples of 1000000.  They come either from radiative
    : decays (eg eta' -> gamma pi pi) or from FSR.  If you restrict yourself
    : to the signal MC, where we know what we generated has no radiative
    : decays, the photons it will find come only from FSR.    

    Check the C++ code HadronicDNtupleProc::constructMCDmode()
    again...

    : // definition of decay mode:
    : // 1*(#K-) + 10*(#K+) + 100*(#K0) + 1000*(#pi-) + 10000*(#pi+)
    : // + 100000*(#pi0) + 1000000*(#gamma)
    : // + 10000000*(#leptons) + 100000000*(#anything else)

    Back to the "nosig" selection in the script:

    : if evt_mcdmode == mcdmode or evt_mcdbmode == mcdbmode:
    :      return False
    : if evt_mcdmode == mcdbmode or evt_mcdbmode == mcdmode :
    :      return False

    It already took care of the neutral D decay mode. 

    The mode names are stored as:

    : modepair = '%s,%s' %(mcdmode, mcdbmode)
    
    The first one is for D and second one for Dbar. 

    Now, decode the mode names from the backgrounds ...

    : dhad-10.1.10 tab backgrounds names generic Single_Dp_to_Kspipipi 281ipbv0 
    
    => [[./10.1/tab/bkg_names_generic_Single_Dp_to_Kspipipi_281ipbv0.org][table]] ([[./10.1/tab/bkg_names_generic_Single_Dp_to_Kspipipi_281ipbv0.info][info]])              

    Rotate the table:

    : dhad-10.1.10 tab backgrounds names generic Single_Dp_to_Kspipipi 281ipbv0 -t 

    Need to re-design the table data as list ... focus on the input
    and output, just make this version working is ok... done. 

    Now, start from the first one:

    : dhad-10.1.10 tab backgrounds names generic Single_D0_to_Kpi 281ipbv0 -s min=20

     => [[./10.1/tab/bkg_names_generic_Single_D0_to_Kpi_281ipbv0.org][table]] ([[./10.1/tab/bkg_names_generic_Single_D0_to_Kpi_281ipbv0.info][info]])
    
     Need to make the overview table ...

    : dhad-10.1.10 tab backgrounds names generic single 281ipbv0 -t 

     => [[./10.1/tab/bkg_names_generic_single_281ipbv0.org][table]] ([[./10.1/tab/bkg_names_generic_single_281ipbv0.info][info]])   need to write info ... done. 

     Attach the table to the distribution table ... done. 

     : dhad-10.1.10 tab backgrounds generic single 281ipbv0 -t 

     Pick up the first 20 mode names and auto publish ... done. 

     Try on one mode: 
     
     : dhad-10.1.10 tab backgrounds names generic Single_Dp_to_Kpipi 281ipbv0 -s modes=20 -t OK.
     
     Make the min modes to be 20 and register each footer with the
     individual command line ... done. 

     Need to sort before to choose the modes ... done.

     : dhad-10.1.10 tab backgrounds names generic single 281ipbv0 
     
     Rename the commnad:
     : dhad-10.1.10 tab backgrounds generic/ddbar single 281ipbv0 
     => [[./10.1/tab/bkg_generic_ddbar_single_281ipbv0.org][table]] ([[./10.1/tab/bkg_generic_ddbar_single_281ipbv0.info][info]])   

*** DONE List Backgrounds for the new generic MC
    :LOGBOOK:
    CLOCK: [2010-07-29 Thu 10:33]--[2010-07-29 Thu 10:43] =>  0:10
    CLOCK: [2010-07-28 Wed 16:13]--[2010-07-28 Wed 16:17] =>  0:04
    CLOCK: [2010-07-27 Tue 12:50]--[2010-07-27 Tue 12:50] =>  0:00
    CLOCK: [2010-07-27 Tue 11:31]--[2010-07-27 Tue 12:03] =>  0:32
    :END:
    
    Overview table:

    : dhad-10.1.10 tab backgrounds generic single 281ipbv10 
    => [[./10.1/tab/bkg_generic_single_281ipbv10.org][table]] ([[./10.1/tab/bkg_generic_single_281ipbv10.info][info]]) 

    Get all the bkg names ... done. 

    : dhad-10.1.10 tab backgrounds names generic single 281ipbv10 

    Need to check the datasample ... not all of the root file for
    data281 was linked. 

    Relink and re-run the yield ... done. 

    Re-generated the tabels. 

    Need to check the Dp to Kspipipi mode ...

    : Processing backgrounds for Single_Dp_to_Kspipipi ...
    : faked 214508 , passed 434375 , total 30765695. 

    For its charge conjugate mode:

    : faked 214791 , passed 434311 , total 30765695. 
    
    Check the output file size:

    : -rw-r--r--  1 xs32 cms 68K Jul 27 15:16 generic_Single_Dm_to_Kspipipi.txt
    : -rw-r--r--  1 xs32 cms 160 Jul 28 15:55 generic_Single_Dp_to_Kspipipi.txt

    Notice the small size. 
    
    Re-generate this mode:

    : dhad-10.1.10 yld backgrounds generic Single_Dp_to_Kspipipi 281ipbv10 ... done. 

    : dhad-10.1.10 tab backgrounds generic single 281ipbv10 ... OK.

    : dhad-10.1.10 tab backgrounds names generic Single_Dp_to_Kspipipi 281ipbv10 ...done.

    Re-name the command to specify the ddbar generic MC... 

    : dhad-10.1.10 yld backgrounds generic/ddbar single 281ipbv10 (use it later, for this time, change the txt evt and txt file only ... done. 

    : dhad-10.1.10 tab backgrounds generic/ddbar single 281ipbv10 -t 

    => [[./10.1/tab/bkg_generic_ddbar_single_281ipbv10.org][table]] ([[./10.1/tab/bkg_generic_ddbar_single_281ipbv10.info][info]])     
    
*** DONE Run bkg yields for continuum MC
    :LOGBOOK:
    CLOCK: [2010-07-28 Wed 15:26]--[2010-07-28 Wed 16:13] =>  0:47
    :END:

    : cd $dhad/10.1/dat/generic
    : mkdir -p cont/281ipbv10
    : cd cont/281ipbv10
    : ln -s $dhad/dat/generic/10.1.10/*cont*data3*.root . 

    Run for one mode:
    : dhad-10.1.10 yld backgrounds generic/cont Single_Dp_to_Kspipipi 281ipbv10 -s interact -t  OK.
    : dhad-10.1.10 yld backgrounds generic/cont Single_Dp_to_Kspipipi 281ipbv10 -t ... OK. 
    : dhad-10.1.10 yld backgrounds generic/cont Single_Dp_to_Kspipipi 281ipbv10 ... OK.

    : dhad-10.1.10 yld backgrounds generic/cont single 281ipbv10 ... done. 

*** DONE List Backgrounds for coninuum MC
    :LOGBOOK:
    CLOCK: [2010-07-29 Thu 11:16]--[2010-07-29 Thu 11:41] =>  0:25
    CLOCK: [2010-07-29 Thu 10:43]--[2010-07-29 Thu 10:55] =>  0:12
    CLOCK: [2010-07-28 Wed 15:25]--[2010-07-28 Wed 15:26] =>  0:01
    :END:

    Overview table:

   : dhad-10.1.10 tab backgrounds generic/cont single 281ipbv10 
    => [[./10.1/tab/bkg_generic_cont_single_281ipbv10.org][table]] ([[./10.1/tab/bkg_generic_cont_single_281ipbv10.info][info]])  
    
    Get all the bkg names ...
   : dhad-10.1.10 tab backgrounds names generic/cont single 281ipbv10 

    Continuum backgrounds has no name. 

    Re-create the overview table with actual numbers for cont :

    : dhad-10.1.10 tab backgrounds generic/cont single 281ipbv10 

     => [[./10.1/tab/bkg_generic_cont_single_281ipbv10.org][table]] ([[./10.1/tab/bkg_gen
eric_cont_single_281ipbv10.info][info]])

*** DONE Normalized backgrounds for generic MC including continuum
    :LOGBOOK:
    CLOCK: [2010-07-30 Fri 11:01]--[2010-07-30 Fri 12:14] =>  1:13
    CLOCK: [2010-07-30 Fri 09:47]--[2010-07-30 Fri 10:48] =>  1:01
    :END:
   : dhad-10.1.10 tab backgrounds generic single 281ipbv10 
    => [[./10.1/tab/bkg_generic_single_281ipbv10.org][table]] ([[./10.1/tab/bkg_generic_single_281ipbv10.info][info]])

*** DONE Run radret MC 
    :LOGBOOK:
    CLOCK: [2010-09-07 Tue 08:53]--[2010-09-07 Tue 09:08] =>  0:15
    CLOCK: [2010-09-06 Mon 15:32]--[2010-09-06 Mon 15:41] =>  0:09
    CLOCK: [2010-09-06 Mon 15:00]--[2010-09-06 Mon 15:26] =>  0:26
    CLOCK: [2010-09-06 Mon 13:06]--[2010-09-06 Mon 14:04] =>  0:58
    CLOCK: [2010-09-06 Mon 11:55]--[2010-09-06 Mon 11:55] =>  0:00
    CLOCK: [2010-09-06 Mon 10:25]--[2010-09-06 Mon 11:28] =>  1:03
    :END:
    
    : dhad-10.1.10 gen ntuple generic mc-radret-dskim 5xlumi 281ipb -t -d ... OK
    : dhad-10.1.10 gen ntuple generic mc-radret-dskim 5xlumi 281ipb ... 

    Found error on data36: 
    :  >> Mon Sep  6 11:28:49 2010 Run:  206382 Stop: none << 
    :  %% ERROR-JobControl.JobControl: The source '/nfs/cleo3/constants/db/Codi'
    : succeed with a 'no error' status
    : current stop: none
    :  %% ERROR-JobControl.JobControl: The source 'eventstore'
    : failed with a 'source unknown error' error
    : current stop: none
    :  %% ERROR-JobControl.JobControl: FrameDeliverer::kNextStopUnknownError

    Re-submit the data36: 
    : dhad-10.1.10 gen ntuple generic mc-radret-dskim 5xlumi data36 ...

    Still the same problem. Move on...
    : dhad-10.1.10 chk ntuple generic mc-radret-dskim 5xlumi 281ipb ... OK.

    Generate the yields:

    : cd $dhad/10.1/dat/generic
    : mkdir -p radret/281ipbv10
    : cd radret/281ipbv10
    : ln -s $dhad/dat/generic/10.1.10/*radret*data3*.root . 

    Run for one mode:
    : dhad-10.1.10 yld backgrounds generic/radret Single_Dp_to_Kspipipi 281ipbv10 -s interact -t OK.
    : dhad-10.1.10 yld backgrounds generic/radret Single_Dp_to_Kspipipi 281ipbv10 -t ... OK. 

    : dhad-10.1.10 yld backgrounds generic/radret single 281ipbv10 -t  OK.
    : dhad-10.1.10 yld backgrounds generic/radret single 281ipbv10 ... done. 

*** DONE Run tau MC
    :LOGBOOK:
    CLOCK: [2010-09-06 Mon 15:41]--[2010-09-06 Mon 15:44] =>  0:03
    CLOCK: [2010-09-06 Mon 15:26]--[2010-09-06 Mon 15:32] =>  0:06
    CLOCK: [2010-09-06 Mon 14:04]--[2010-09-06 Mon 14:06] =>  0:02
    :END:

    : dhad-10.1.10 gen ntuple generic mc-tau-dskim 5xlumi 281ipb -t -d OK. 
    : dhad-10.1.10 gen ntuple generic mc-tau-dskim 5xlumi 281ipb ... done. 
    : dhad-10.1.10 chk ntuple generic mc-tau-dskim 5xlumi 281ipb ... OK.
    
    Generate the yields:

    : cd $dhad/10.1/dat/generic
    : mkdir -p tau/281ipbv10
    : cd tau/281ipbv10
    : ln -s $dhad/dat/generic/10.1.10/*tau*data3*.root . 

    Run for one mode:
    : dhad-10.1.10 yld backgrounds generic/tau Single_Dp_to_Kspipipi 281ipbv10 -s interact -t  OK.
    : dhad-10.1.10 yld backgrounds generic/tau Single_Dp_to_Kspipipi 281ipbv10 -t ... OK. 

    : dhad-10.1.10 yld backgrounds generic/tau single 281ipbv10 -t 
    : dhad-10.1.10 yld backgrounds generic/tau single 281ipbv10 ... done. 

*** DONE Fit the generic background
    :LOGBOOK:
    CLOCK: [2010-09-10 Fri 15:01]--[2010-09-10 Fri 15:50] =>  0:49
    CLOCK: [2010-09-10 Fri 11:27]--[2010-09-10 Fri 12:15] =>  0:48
    CLOCK: [2010-09-10 Fri 09:44]--[2010-09-10 Fri 11:12] =>  1:28
    CLOCK: [2010-09-10 Fri 08:42]--[2010-09-10 Fri 09:30] =>  0:48
    CLOCK: [2010-09-09 Thu 15:54]--[2010-09-09 Thu 16:20] =>  0:26
    CLOCK: [2010-09-09 Thu 12:49]--[2010-09-09 Thu 12:56] =>  0:07
    CLOCK: [2010-09-09 Thu 11:15]--[2010-09-09 Thu 12:12] =>  0:57
    CLOCK: [2010-09-09 Thu 09:59]--[2010-09-09 Thu 10:57] =>  0:58
    CLOCK: [2010-09-08 Wed 11:05]--[2010-09-08 Wed 12:21] =>  1:16
    CLOCK: [2010-09-08 Wed 09:17]--[2010-09-08 Wed 10:17] =>  1:00
    CLOCK: [2010-09-07 Tue 14:26]--[2010-09-07 Tue 14:51] =>  0:25
    CLOCK: [2010-09-07 Tue 11:06]--[2010-09-07 Tue 11:14] =>  0:08
    CLOCK: [2010-09-07 Tue 10:06]--[2010-09-07 Tue 10:52] =>  0:46
    :END:
    
    Find the fig names in the cbx:

    "fig/generic_background_plots"

    Search in Peter's area ... 
    : cd /nfs/cor/user/ponyisi
    : find ./ -name 'generic_background_plots*' -print 
    : ./hadD/summerconf/eps/generic_background_plots_neu.eps
    : ./hadD/summerconf/eps/generic_background_p`lots_neu_chg.eps
    : ./hadD/eps/generic_background_plots.eps
    : ./hadD/eps/generic_background_plots_neu.eps
    : ./hadD/eps/generic_background_plots_neu_chg.eps
    : ./hadD/cont_check/generic_background_plots.eps
    : ./hadD/eps-old/generic_background_plots.eps

    Search the related script:
    : grep generic_background_plots *.py
    : bkggeneric-dfix.py:    c1.Print('eps/generic_background_plots.eps')
    : bkggeneric.py:    c1.Print('eps/generic_background_plots_neu.eps')
    : bkggeneric.py:    c1.Print('eps/generic_background_plots_neu_chg.eps')

    Read the script ... 

    Re-produce it:
    
    : dhad-10.1.10 fit backgrounds generic/ddbar single 281ipbv10 -s interact -t -d 

    Tried to process only one root file, it took 2600 seconds (43
    minutes)!

    Need to make it in yld job and use qsub ...

    
    Check the lines in the output files ... 

    :     xs32_lnx235% wc   /nfs/cor/user/ponyisi/hadD/text-generic/combinatoric_*  
    :     200     200    3775 /nfs/cor/user/ponyisi/hadD/text-generic/combinatoric_0.evt
    :   12185   12185  230193 /nfs/cor/user/ponyisi/hadD/text-generic/combinatoric_1.evt
    :    5667    5667  107046 /nfs/cor/user/ponyisi/hadD/text-generic/combinatoric_200.evt
    :   31805   31805  600824 /nfs/cor/user/ponyisi/hadD/text-generic/combinatoric_201.evt
    :     591     591   11173 /nfs/cor/user/ponyisi/hadD/text-generic/combinatoric_202.evt
    :       0       0       0 /nfs/cor/user/ponyisi/hadD/text-generic/combinatoric_203.evt
    :       0       0       0 /nfs/cor/user/ponyisi/hadD/text-generic/combinatoric_204.evt
    :    5682    5682  107253 /nfs/cor/user/ponyisi/hadD/text-generic/combinatoric_205.evt
    :   13064   13064  246790 /nfs/cor/user/ponyisi/hadD/text-generic/combinatoric_3.evt
    :   69194   69194 1307054 total
    : 
    : xs32_lnx235% cd /home/xs32/work/CLEO/analysis/DHad/10.1/dat/bkg/281ipbv10
    :              wc combinatoric_*                                          
    :     352     352    6648 combinatoric_0.evt
    :   22951   22951  433389 combinatoric_1.evt
    :   10790   10790  203809 combinatoric_200.evt
    :   53989   53989 1019387 combinatoric_201.evt
    :    1052    1052   19871 combinatoric_202.evt
    :       0       0       0 combinatoric_203.evt
    :       0       0       0 combinatoric_204.evt
    :   11978   11978  226167 combinatoric_205.evt
    :   22416   22416  423182 combinatoric_3.evt
    :  123528  123528 2332453 total

    More files than previous due to the larger samples. 

    Now, finish the fitting procedure ...

    : dhad-10.1.10 fit backgrounds generic/ddbar single 281ipbv10 -s interact -t -d 

    Aborted. 

    Do the fitting inside the ROOT ... canceled.

    Try my local python 2.6 ... OK.
    : setpyroot l
    
    Fix the code and PATH ... OK.

    Simplify the process ... done. 

    Batch job ... 

    : dhad-10.1.10 fit backgrounds generic/ddbar single 281ipbv10  -t -d OK.

    : dhad-10.1.10 fit backgrounds generic/ddbar single 281ipbv10 ... done. 

    Used 2.5 hours for getting the yield, but less than 5 minutes for
    fitting! Need to seperate the yld process later. 

    Store the figure and log file for discussion ... done. 

    Re-run with the additional cuts:

    :             if modes[anmode]['mcdmode'] != mcdmode:
    :                 continue

    : dhad-10.1.10 fit backgrounds generic/ddbar single 281ipbv10  -t -d OK.

    : dhad-10.1.10 fit backgrounds generic/ddbar single 281ipbv10 ... done. 

**** DONE Check the selection for DtoKpi mode
     :LOGBOOK:
     CLOCK: [2010-09-17 Fri 11:23]--[2010-09-17 Fri 11:37] =>  0:14
     CLOCK: [2010-09-17 Fri 11:04]--[2010-09-17 Fri 11:23] =>  0:19
     CLOCK: [2010-09-16 Thu 16:01]--[2010-09-16 Thu 16:29] =>  0:28
     CLOCK: [2010-09-16 Thu 13:50]--[2010-09-16 Thu 15:49] =>  1:59
     CLOCK: [2010-09-16 Thu 11:10]--[2010-09-16 Thu 12:13] =>  1:03
     CLOCK: [2010-09-16 Thu 10:08]--[2010-09-16 Thu 11:00] =>  0:52
     CLOCK: [2010-09-16 Thu 09:35]--[2010-09-16 Thu 09:49] =>  0:14
     CLOCK: [2010-09-16 Thu 09:17]--[2010-09-16 Thu 09:35] =>  0:18
     :END:
     
     Get the yield for this mode:

     : dhad-10.1.10 yld backgrounds generic/ddbar Single_D0_to_Kpi 281ipbv10 -s interact -t -d ... 
     
     Use the original evt file from the backgrounds: 
     : dhad-10.1.10 fit backgrounds generic/ddbar Single_D0_to_Kpi 281ipbv10 -s interact -t -d 

     : dhad-10.1.10 fit backgrounds generic/ddbar Single_Dp_to_Kpipi 281ipbv10 -s interact -t -d ... OK.

     Need to clean the other modes, and the test option for plot name
     ...

     Waiting for the first mode finish ... done. 

     : dhad-10.1.10 fit backgrounds generic/ddbar Single_D0_to_Kpi 281ipbv10 -s interact -t -d ... done. 

     Still has the peak. 

     Check the components of these backgrounds:

     : dhad-10.1.10 tab backgrounds names generic/ddbar Single_D0_to_Kpi 281ipbv10 -s min=20 OK.

     Continue to finish the rest of the modes and list the figures. 

**** DONE Run yld for the single modes
     :LOGBOOK:
     CLOCK: [2010-09-17 Fri 11:38]--[2010-09-17 Fri 12:31] =>  0:53
     :END:

     Concentrate the positive part:

     : dhad-10.1.10 yld backgrounds generic/ddbar single_p 281ipbv10 -s interact -t -d OK.

     : dhad-10.1.10 yld backgrounds generic/ddbar single_p 281ipbv10 ... done.

     Check the components of the backgrounds:

     : dhad-10.1.10 tab backgrounds names generic/ddbar single_p 281ipbv10 ... done.

     Make the full table:
     : dhad-10.1.10 tab backgrounds generic/ddbar single_p 281ipbv10 
     
     
**** DONE Fit the modes and list figures
     :LOGBOOK:
     CLOCK: [2010-09-21 Tue 09:29]--[2010-09-21 Tue 10:35] =>  1:06
     CLOCK: [2010-09-21 Tue 08:20]--[2010-09-21 Tue 09:17] =>  0:57
     CLOCK: [2010-09-20 Mon 11:25]--[2010-09-20 Mon 12:36] =>  1:11
     :END:

     : dhad-10.1.10 fit backgrounds generic/ddbar single_p 281ipbv10 -s interact -t -d OK.


     : dhad-10.1.10 fit backgrounds generic/ddbar Single_D0_to_Kpi 281ipbv10  OK.


     : dhad-10.1.10 fit backgrounds generic/ddbar single_p 281ipbv10 -t OK.
 
     : dhad-10.1.10 fit backgrounds generic/ddbar single_p 281ipbv10 ... done.


     : dhad-10.1.10 fig backgrounds generic/ddbar single_p 281ipbv10 done. 
     





*** DONE Fit the generic ddbar background with larger parameter
    :LOGBOOK:
    CLOCK: [2010-09-21 Tue 10:51]--[2010-09-21 Tue 11:50] =>  0:59
    CLOCK: [2010-09-20 Mon 11:22]--[2010-09-20 Mon 11:25] =>  0:03
    :END:

    Message from Peter:

    : My main suggestion was that you should increase the bounds of your
    : background and yield fit parameters when fitting the generic MC
    : background.  Right now they are set at 100k and 200, which are clearly
    : too small for some of the modes.  Also you should increase the maximum
    : on some of the plots so we can see the peak region which is covered by
    : the stat box in some cases.

    Fix one mode by one: 
 
    Create the dict for the max.

    : dhad-10.1.10 fit backgrounds generic/ddbar single_p 281ipbv10 ... done. 
   
*** DONE Get the peaking backgrounds for mode 0
    :LOGBOOK:
    CLOCK: [2010-09-20 Mon 21:31]--[2010-09-20 Mon 22:10] =>  0:39
    CLOCK: [2010-09-20 Mon 14:02]--[2010-09-20 Mon 14:43] =>  0:41
    :END:

    Cut the mBC between 1.86 and 1.86 GeV:

    : dhad-10.1.10 yld backgrounds peak generic/ddbar Single_D0_to_Kpi 281ipbv10 -s interact -t -d ... done. 

    Check the log file: 

    : more $dhad/10.1/log/yld/281ipbv10/peak_bkg_generic_ddbar_Single_D0_to_Kpi.log
    : peak 357, faked 1272 , passed 505024 , total 30765695. done in 58 minutes 29 seconds

    Compare with the orignal one:
    : more $dhad/10.1/log/yld/281ipbv10/bkg_generic_ddbar_Single_D0_to_Kpi.log
    : faked 1272 , passed 505024 , total 30765695. done in 58 minutes 23 seconds.
    
    Check the components:
    : dhad-10.1.10 tab backgrounds names peak generic/ddbar Single_D0_to_Kpi 281ipbv10 

    
*** DONE Store the \chi^2 and parameters in the fitting 
    :LOGBOOK:
    CLOCK: [2010-09-23 Thu 10:49]--[2010-09-23 Thu 10:54] =>  0:05
    CLOCK: [2010-09-23 Thu 09:09]--[2010-09-23 Thu 10:38] =>  1:29
    CLOCK: [2010-09-22 Wed 11:13]--[2010-09-22 Wed 12:10] =>  0:57
    CLOCK: [2010-09-22 Wed 09:36]--[2010-09-22 Wed 10:04] =>  0:28
    CLOCK: [2010-09-22 Wed 08:32]--[2010-09-22 Wed 09:28] =>  0:56
    :END:

    : dhad-10.1.10 fit backgrounds generic/ddbar Single_D0_to_Kpi 281ipbv10 -s interact -t  

    Refere to page: 
    http://root.cern.ch/root/html/tutorials/roofit/rf607_fitresult.C.html

    Save parameters OK.

    Save the chi^2 ... OK.

    Redo all the fittings:
    
   : dhad-10.1.10 fit backgrounds generic/ddbar single_p 281ipbv10 ... done. 

    Found KeyError: 'Single_Dp_to_Kpipipi0', fix ... OK.

    : dhad-10.1.10 fit backgrounds generic/ddbar Single_Dp_to_Kpipipi0 281ipbv10 ... OK.

    Use the \chi^2 / ndof as the value:
    
    : dhad-10.1.10 fit backgrounds generic/ddbar single_p 281ipbv10 ... done. 

    Put the parameters list on the figure page:
    : dhad-10.1.10 fig backgrounds generic/ddbar single_p 281ipbv10  OK.


*** DONE Fit the backgrounds without the gaussian
    :LOGBOOK:
    CLOCK: [2010-09-24 Fri 10:24]--[2010-09-24 Fri 10:37] =>  0:13
    CLOCK: [2010-09-24 Fri 09:47]--[2010-09-24 Fri 10:20] =>  0:33
    CLOCK: [2010-09-24 Fri 08:28]--[2010-09-24 Fri 09:31] =>  1:03
    CLOCK: [2010-09-23 Thu 14:09]--[2010-09-23 Thu 15:19] =>  1:10
    :END:

    : dhad-10.1.10 fit backgrounds generic/ddbar Single_D0_to_Kpi 281ipbv10/nogaus -s interact -t  OK.

    : dhad-10.1.10 fit backgrounds generic/ddbar single_p 281ipbv10/nogaus -t ... done. 
    : dhad-10.1.10 fig backgrounds generic/ddbar single_p 281ipbv10/nogaus ... done.

    Need to fix the fitting problem... 

    Based on this [[http://root.cern.ch/phpBB3/viewtopic.php?f=3&t=8332&start=0][discusion]]:

    : These warnings occur if your p.d.f. deforms in such a shape that the
    : likelihood that is being minimized is no longer well defined. In
    : general this happens when a) the p.d.f. is exactly zero or negative
    : for one of the data points or b) the normalization integral become ill
    : defined (e.g. when the sigma of a Gaussian goes to exactly zero). Case
    : a) is most common, especially when polynomial p.d.f.s are used, which
    : can easily deform into shapes that create regions with negative
    : values.
    : 
    : RooFit aims to recover from this during fitting by returning a 'high'
    : value of the -log(L) to MINUIT instead of the actual likelihood (which
    : cannot be calculated). This high value has the effect that MINUIT will
    : retreat from the point in the parameter phase space that caused the
    : problem. In many cases the subsequent minimization will still converge
    : correctly avoiding the forbidden region, but sometimes, when there are
    : many 'forbidden' regions MINUIT gets confused and fails to converge.
    : 
    : So these warning can be harmless, but are not necessarily so. When you
    : see them you should examine carefully if your fit converged OK.

    Re-fit by setting the yld be 0 ...

    : dhad-10.1.10 fit backgrounds generic/ddbar Single_D0_to_Kpi 281ipbv10/nogaus -s interact  OK.

    : dhad-10.1.10 fit backgrounds generic/ddbar single_p 281ipbv10/nogaus ... done. 

   
*** DONE Fit with constant width from data fitting 
    :LOGBOOK:
    CLOCK: [2010-09-24 Fri 11:27]--[2010-09-24 Fri 11:37] =>  0:10
    CLOCK: [2010-09-24 Fri 10:37]--[2010-09-24 Fri 11:14] =>  0:37
    :END:

    Get the width from the data fitting :

    : dhad-10.1.10 fit backgrounds generic/ddbar Single_D0_to_Kpi 281ipbv10/fixwidth -s interact -t OK.

 
    : dhad-10.1.10 fit backgrounds generic/ddbar single_p 281ipbv10/fixwidth ...done.

    : dhad-10.1.10 fig backgrounds generic/ddbar single_p 281ipbv10/fixwidth OK.
    
*** DONE Fit the backgrounds default with fixed width
    :LOGBOOK:
    CLOCK: [2010-09-24 Fri 11:38]--[2010-09-24 Fri 11:49] =>  0:11
    :END:

    : dhad-10.1.10 fit backgrounds generic/ddbar Single_D0_to_Kpi 281ipbv10 -s interact OK.

    : dhad-10.1.10 fit backgrounds generic/ddbar single_p 281ipbv10 ... 

*** DONE Fit with float sigma
    :LOGBOOK:
    CLOCK: [2010-09-24 Fri 14:51]--[2010-09-24 Fri 14:53] =>  0:02
    CLOCK: [2010-09-24 Fri 13:57]--[2010-09-24 Fri 14:02] =>  0:05
    :END:
    
    : dhad-10.1.10 fit backgrounds generic/ddbar Single_D0_to_Kpi 281ipbv10/floatsigma -s interact OK.

    : dhad-10.1.10 fit backgrounds generic/ddbar single_p 281ipbv10/floatsigma ... done. 
    : dhad-10.1.10 fig backgrounds generic/ddbar single_p 281ipbv10/floatsigma done. 

 

    



       

*** WAITING Fit the continuum MC
    :LOGBOOK:
    CLOCK: [2010-09-13 Mon 14:11]--[2010-09-13 Mon 15:12] =>  1:01
    CLOCK: [2010-09-13 Mon 11:07]--[2010-09-13 Mon 12:04] =>  0:57
    CLOCK: [2010-09-13 Mon 09:40]--[2010-09-13 Mon 10:45] =>  1:05
    CLOCK: [2010-09-13 Mon 08:42]--[2010-09-13 Mon 09:32] =>  0:50
    CLOCK: [2010-09-10 Fri 14:18]--[2010-09-10 Fri 15:01] =>  0:43
    CLOCK: [2010-09-07 Tue 11:14]--[2010-09-07 Tue 12:03] =>  0:49
    CLOCK: [2010-09-07 Tue 10:02]--[2010-09-07 Tue 10:06] =>  0:04
    :END:

    Search the fig names in the cbx:

    "fig/continuum_background_plots"
    
    Search in Peter's area:
    : cd /nfs/cor/user/ponyisi/hadD
    : find ./ -name 'continuum_background_plots*' -print 
    : ./summerconf/eps/continuum_background_plots.eps
    : ./eps/continuum_background_plots.eps

    Compared the plots with CBX, confirmed the 'summerconf' one is the
    same. 

    Look for the script:
    : cd summerconf
    : grep continuum_background_plots *.py
    : bkgcont.py:    c1.Print('eps/continuum_background_plots.eps')

    Work on the script:

    Make the cont yld first:

    : dhad-10.1.10 yld backgrounds generic/cont Single_Dp_to_Kspipipi 281ipbv10 -s interact -t -d 
    
    Continue this when dealing with 537 / or even 818 if necessary. 

    Move on using the straight method:

    : dhad-10.1.10 fit backgrounds generic/cont single 281ipbv10 -s interact -t -d OK.
    : dhad-10.1.10 fit backgrounds generic/cont single 281ipbv10 -t OK.

    : dhad-10.1.10 fit backgrounds generic/cont single 281ipbv10 ... done. 


    



    

* 537/pb 

  - [[./src/10.1.7/dot/p537.png][diagram - 537/pb]]

** Generate Diagonal Double Tag MC samples for 537/pb (10.1.5) [100%]
*** DONE Run CLEOG
    :LOGBOOK:
    CLOCK: [2010-03-23 Tue 09:42]--[2010-03-23 Tue 09:44] =>  0:02
    CLOCK: [2010-03-22 Mon 11:41]--[2010-03-22 Mon 11:44] =>  0:03
    CLOCK: [2010-03-22 Mon 11:37]--[2010-03-22 Mon 11:40] =>  0:03
    :END:

    Run for double diagonal ...
    
    : dhad-10.1.5 gen cleog diagdouble 537ipb --test ... OK.
    : dhad-10.1.5 gen cleog diagdouble 537ipb ... done. 
    : dhad-10.1.5 chk cleog diagdouble 537ipb ... OK.


    Run the updated dalitz for the single tag modes:
    
    : dhad-10.1.5 gen cleog Single_Dp_to_Kspipi0 537ipb --test ... OK.
    : dhad-10.1.5 gen cleog Single_Dp_to_Kspipi0 537ipb ... done. 
    : dhad-10.1.5 gen cleog Single_Dm_to_Kspipi0 537ipb ... done.

    : dhad-10.1.5 chk cleog Single_Dp_to_Kspipi0 537ipb ... OK. 
    : dhad-10.1.5 chk cleog Single_Dm_to_Kspipi0 537ipb ... OK.

*** DONE Run Pass2
    :LOGBOOK:
    CLOCK: [2010-03-23 Tue 11:59]--[2010-03-23 Tue 12:27] =>  0:28
    CLOCK: [2010-03-23 Tue 11:56]--[2010-03-23 Tue 11:58] =>  0:02
    CLOCK: [2010-03-23 Tue 09:44]--[2010-03-23 Tue 09:49] =>  0:05
    :END:
    
    Run for double diagonal ...
    
    : dhad-10.1.5 gen pass2 diagdouble 537ipb --test ... OK.
    : dhad-10.1.5 gen pass2 diagdouble 537ipb ... done. 
    : dhad-10.1.5 chk pass2 diagdouble 537ipb ... OK.

    Clean the cleog files:

    : dhad-10.1.5 cln cleog diagdouble 537ipb ... OK. 


    Run the updated dalitz for the single tag modes:
    
    : dhad-10.1.5 gen pass2 Single_Dp_to_Kspipi0 537ipb --test ... OK. 
    : dhad-10.1.5 gen pass2 Single_Dp_to_Kspipi0 537ipb ... done. 
    : dhad-10.1.5 gen pass2 Single_Dm_to_Kspipi0 537ipb ... done.

    : dhad-10.1.5 chk pass2 Single_Dp_to_Kspipi0 537ipb ... OK. 
    : dhad-10.1.5 chk pass2 Single_Dm_to_Kspipi0 537ipb ... OK.


    Clean the cleog files...

    : dhad-10.1.5 cln cleog Single_Dp_to_Kspipi0 537ipb ... OK.
    : dhad-10.1.5 cln cleog Single_Dm_to_Kspipi0 537ipb ... OK.

*** DONE Run DSkim
    :LOGBOOK:
    CLOCK: [2010-03-23 Tue 12:59]--[2010-03-23 Tue 12:59] =>  0:00
    CLOCK: [2010-03-23 Tue 12:28]--[2010-03-23 Tue 12:30] =>  0:02
    CLOCK: [2010-03-23 Tue 11:58]--[2010-03-23 Tue 11:59] =>  0:01
    :END:

    Run for double diagonal ...
    
    : dhad-10.1.5 gen dskim diagdouble 537ipb --test ... OK.
    : dhad-10.1.5 gen dskim diagdouble 537ipb ... done.
    : dhad-10.1.5 chk dskim diagdouble 537ipb ... OK.


    Run the updated dalitz for the single tag modes:

    : dhad-10.1.5 gen dskim Single_Dp_to_Kspipi0 537ipb ... done. 
    : dhad-10.1.5 gen dskim Single_Dm_to_Kspipi0 537ipb ... done. 

    : dhad-10.1.5 chk dskim Single_Dp_to_Kspipi0 537ipb ... OK.
    : dhad-10.1.5 chk dskim Single_Dm_to_Kspipi0 537ipb ... OK.

*** DONE Run DNTuple
    :LOGBOOK:
    CLOCK: [2010-03-25 Thu 09:34]--[2010-03-25 Thu 09:35] =>  0:01
    CLOCK: [2010-03-24 Wed 16:13]--[2010-03-24 Wed 16:22] =>  0:09
    CLOCK: [2010-03-24 Wed 10:07]--[2010-03-24 Wed 10:33] =>  0:26
    CLOCK: [2010-03-24 Wed 10:03]--[2010-03-24 Wed 10:05] =>  0:02
    CLOCK: [2010-03-23 Tue 12:59]--[2010-03-23 Tue 13:01] =>  0:02
    :END:

    Run for double diagonal ...
    
    : dhad-10.1.5 gen ntuple diagdouble 537ipb --test ... OK. 

    : dhad-10.1.5 gen ntuple diagdouble 537ipb ... done. 
    : dhad-10.1.5 chk ntuple diagdouble 537ipb ... OK. 
 
    Run the updated dalitz for the single tag modes:

    : dhad-10.1.5 gen ntuple Single_Dp_to_Kspipi0 537ipb ... done. 
    : dhad-10.1.5 gen ntuple Single_Dm_to_Kspipi0 537ipb ... done. 

    : dhad-10.1.5 chk ntuple Single_Dp_to_Kspipi0 537ipb ... OK.
    : dhad-10.1.5 chk ntuple Single_Dm_to_Kspipi0 537ipb ... OK.

*** DONE Run Yields
    :LOGBOOK:
    CLOCK: [2010-03-25 Thu 09:40]--[2010-03-25 Thu 09:45] =>  0:05
    CLOCK: [2010-03-24 Wed 16:42]--[2010-03-24 Wed 16:44] =>  0:02
    CLOCK: [2010-03-24 Wed 10:05]--[2010-03-24 Wed 10:07] =>  0:02
    :END:

    : cd $dhad/10.1/dat/signal
    : ln -s $dhad/dat/signal/10.1.5/dtuple_20080624_MCGEN_20071023_MCP2_A/537ipb 537ipbv5

     Run for one mode:

    : dhad-10.1.5 yld signal Double_Dp_to_KKpi__Dm_to_KKpi 537ipbv5 --set interact ... OK.
    : dhad-10.1.5 yld signal Double_Dp_to_KKpi__Dm_to_KKpi 537ipbv5 --test OK.
    : dhad-10.1.5 yld signal Double_Dp_to_KKpi__Dm_to_KKpi 537ipbv5 ... OK.

    Run for diagonal double:

    : dhad-10.1.5 yld signal diagdouble 537ipbv5 --set interact --test ... OK. 
    : dhad-10.1.5 yld signal diagdouble 537ipbv5 --test ... OK.
    : dhad-10.1.5 yld signal diagdouble 537ipbv5 ... 

    Run the Kspipi0 for single :

    : dhad-10.1.5 yld signal Single_Dp_to_Kspipi0 537ipbv5 --set interact ... OK.
    : dhad-10.1.5 yld signal Single_Dm_to_Kspipi0 537ipbv5  ... OK.

*** DONE Run Fits
    :LOGBOOK:
    CLOCK: [2010-03-26 Fri 08:37]--[2010-03-26 Fri 08:39] =>  0:02
    CLOCK: [2010-03-25 Thu 15:16]--[2010-03-25 Thu 15:26] =>  0:10
    CLOCK: [2010-03-25 Thu 09:45]--[2010-03-25 Thu 09:49] =>  0:04
    :END:
    Fit for one mode:

    : dhad-10.1.5 fit signal Double_Dp_to_KKpi__Dm_to_KKpi 537ipbv5/resolution --set interact OK. 
    : dhad-10.1.5 fit signal Double_Dp_to_Kspi__Dm_to_Kspi 537ipbv5/resolution --test ... OK.
    : dhad-10.1.5 fit signal Double_Dp_to_Kspi__Dm_to_Kspi 537ipbv5/resolution  ... OK. 

    Fit for diagonal double:

    : dhad-10.1.5 fit signal diagdouble 537ipbv5/resolution --set interact ... OK.
    : dhad-10.1.5 fit signal diagdouble 537ipbv5/resolution --test OK.
    : dhad-10.1.5 fit signal diagdouble 537ipbv5/resolution ... done. 

    Save the figures:

    : dhad-10.1.5 fig signal diagdouble 537ipbv5/resolution ... OK.

    [[./10.1/fig/signal_diagdouble_537ipbv5_resolution.org][figure]]

    Make reso paras table:

    : dhad-10.1.5 tab para momentum resolution 537ipbv5

    => [[./10.1/tab/para_momentum_resolution_537ipbv5.org][table]] ([[./10.1/tab/para_momentum_resolution_537ipbv5.info][info]]) 

** Generate Non-Diagnoal Double Tag MC samples for 573/pb (10.1.5) [100%]
*** DONE CLEOG
    :LOGBOOK:
    CLOCK: [2010-04-19 Mon 16:06]--[2010-04-19 Mon 16:07] =>  0:01
    CLOCK: [2010-04-19 Mon 15:31]--[2010-04-19 Mon 15:34] =>  0:03
    CLOCK: [2010-04-19 Mon 11:55]--[2010-04-19 Mon 11:57] =>  0:02
    :END:

    : dhad-10.1.5 gen cleog nondiagdouble 537ipb --test ... OK.
    : dhad-10.1.5 gen cleog nondiagdouble 537ipb ... done.

    : dhad-10.1.5 chk cleog nondiagdouble 537ipb ... need to fix ... OK.

    : dhad-10.1.5 gen cleog Double_Dp_to_Kspi__Dm_to_Kpipipi0 task 13 ...OK.
    : dhad-10.1.5 gen cleog Double_Dp_to_Kspipipi__Dm_to_Kpipipi0 task 19 ... OK.
    : dhad-10.1.5 gen cleog Double_Dp_to_Kspipipi__Dm_to_KKpi task 29 ...OK.

    : dhad-10.1.5 chk cleog Double_Dp_to_Kspi__Dm_to_Kpipipi0 task 13 ...OK.
    : dhad-10.1.5 chk cleog Double_Dp_to_Kspipipi__Dm_to_Kpipipi0 task 19 ... OK.
    : dhad-10.1.5 chk cleog Double_Dp_to_Kspipipi__Dm_to_KKpi task 29 ...OK.

*** DONE Pass2
    :LOGBOOK:
    CLOCK: [2010-04-20 Tue 07:28]--[2010-04-20 Tue 07:30] =>  0:02
    CLOCK: [2010-04-19 Mon 21:38]--[2010-04-19 Mon 21:41] =>  0:03
    CLOCK: [2010-04-19 Mon 16:07]--[2010-04-19 Mon 16:08] =>  0:01
    :END:

    : dhad-10.1.5 gen pass2 nondiagdouble 537ipb --test ... OK.
    : dhad-10.1.5 gen pass2 nondiagdouble 537ipb ... done. 
    : dhad-10.1.5 chk pass2 nondiagdouble 537ipb ... fixing ... 

    : dhad-10.1.5 gen pass2 Double_D0_to_Kpi__D0B_to_Kpipi0 task 12,13,15,16,17,18,19,20,21,23,24,25,26,27,28,29,30
    : dhad-10.1.5 gen pass2 Double_D0_to_Kpi__D0B_to_Kpipipi task 12,13,17,18,19,20,21,22,23,24
    : dhad-10.1.5 gen pass2 Double_D0_to_Kpipi0__D0B_to_Kpi task 11,12,13,17,18,19,21,22,23,24,25,26,27,28,29,30

    : dhad-10.1.5 chk pass2 Double_D0_to_Kpi__D0B_to_Kpipi0 
    : dhad-10.1.5 chk pass2 Double_D0_to_Kpi__D0B_to_Kpipipi 
    : dhad-10.1.5 chk pass2 Double_D0_to_Kpipi0__D0B_to_Kpi 

    Still not working. 

    Re-generate the CLEOG for these:

    : dhad-10.1.5 gen cleog Double_D0_to_Kpi__D0B_to_Kpipi0 537ipb ...
    : dhad-10.1.5 gen cleog Double_D0_to_Kpi__D0B_to_Kpipipi 537ipb ...
    : dhad-10.1.5 gen cleog Double_D0_to_Kpipi0__D0B_to_Kpi 537ipb ...


    : dhad-10.1.5 chk cleog Double_D0_to_Kpi__D0B_to_Kpipi0 537ipb ... OK.
    : dhad-10.1.5 chk cleog Double_D0_to_Kpi__D0B_to_Kpipipi 537ipb ... OK.
    : dhad-10.1.5 chk cleog Double_D0_to_Kpipi0__D0B_to_Kpi 537ipb ... OK.

    : dhad-10.1.5 gen pass2 Double_D0_to_Kpi__D0B_to_Kpipi0 537ipb ... done. 
    : dhad-10.1.5 gen pass2 Double_D0_to_Kpi__D0B_to_Kpipipi 537ipb ... done.
    : dhad-10.1.5 gen pass2 Double_D0_to_Kpipi0__D0B_to_Kpi 537ipb ... done. 

    : dhad-10.1.5 chk pass2 Double_D0_to_Kpi__D0B_to_Kpipi0 537ipb ... fix... OK.
    : dhad-10.1.5 chk pass2 Double_D0_to_Kpi__D0B_to_Kpipipi 537ipb ... OK.
    : dhad-10.1.5 chk pass2 Double_D0_to_Kpipi0__D0B_to_Kpi 537ipb ... OK.

    : dhad-10.1.5 gen pass2 Double_D0_to_Kpi__D0B_to_Kpipi0 task 23,24 ...  OK.


    Need to clean the CLEOG... OK.

    : dhad-10.1.5 cln cleog nondiagdouble 537ipb ...  720 cleaned.

*** DONE DSkim
    :LOGBOOK:
    CLOCK: [2010-04-20 Tue 09:07]--[2010-04-20 Tue 09:09] =>  0:02
    CLOCK: [2010-04-20 Tue 08:24]--[2010-04-20 Tue 08:26] =>  0:02
    :END:
      
    : dhad-10.1.5 gen dskim nondiagdouble 537ipb --test  OK.
    : dhad-10.1.5 gen dskim nondiagdouble 537ipb ... done. 

    : qmod -c 1858293
    : qmod -c 1858283

    : dhad-10.1.5 chk dskim nondiagdouble 537ipb ... OK.

*** DONE NTuple
    :LOGBOOK:
    CLOCK: [2010-04-20 Tue 09:54]--[2010-04-20 Tue 09:54] =>  0:00
    CLOCK: [2010-04-20 Tue 09:10]--[2010-04-20 Tue 09:11] =>  0:01
    :END:

    : dhad-10.1.5 gen ntuple nondiagdouble 537ipb --test ... OK.
    : dhad-10.1.5 gen ntuple nondiagdouble 537ipb ... done.
    : dhad-10.1.5 chk ntuple nondiagdouble 537ipb ... OK.
 
*** DONE Yields
    :LOGBOOK:
    CLOCK: [2010-04-20 Tue 09:55]--[2010-04-20 Tue 09:58] =>  0:03
    :END:
     Run for one mode:

    : dhad-10.1.5 yld signal Double_Dp_to_Kspipi0__Dm_to_Kspi 537ipbv5 --set interact ... OK.
     
     Run for all:

    : dhad-10.1.5 yld signal nondiagdouble 537ipbv5 --test ... OK.
    : dhad-10.1.5 yld signal nondiagdouble 537ipbv5 ... done.
     
*** DONE Fits
    :LOGBOOK:
    CLOCK: [2010-04-20 Tue 10:43]--[2010-04-20 Tue 10:47] =>  0:04
    CLOCK: [2010-04-20 Tue 10:31]--[2010-04-20 Tue 10:38] =>  0:07
    CLOCK: [2010-04-20 Tue 10:06]--[2010-04-20 Tue 10:08] =>  0:02
    :END:
    
    : dhad-10.1.5 fit signal nondiagdouble 537ipbv5 --set interact ... OK.
    : dhad-10.1.5 fit signal nondiagdouble 537ipbv5 --test OK.
    : dhad-10.1.5 fit signal nondiagdouble 537ipbv5 ... done.

    : dhad-10.1.5 fit signal diagdouble 537ipbv5 --set interact ...OK.
    : dhad-10.1.5 fit signal diagdouble 537ipbv5 --test OK.
    : dhad-10.1.5 fit signal diagdouble 537ipbv5 ... done.

    Save the figures:

    : dhad-10.1.5 fig signal double 537ipbv5 ... OK.

    [[./10.1/fig/signal_double_537ipbv5.org][figure]]
** Process 537/pb with updated momentum resolution paramters and D-Dalitz structure (10.1.5) [100%]
*** DONE Link the root files
    :LOGBOOK:
    CLOCK: [2010-03-24 Wed 16:44]--[2010-03-24 Wed 16:48] =>  0:04
    :END:
   
    : cd $dhad/dat/signal/10.1.5/dtuple_20080624_MCGEN_20071023_MCP2_A/537ipb
    : ln -s $dhad/dat/signal/10.1.2/dtuple_20080624_MCGEN_20071023_MCP2_A/Single_D* .
    
    : ln: `./Single_Dm_to_Kspipi0.root': File exists
    : ln: `./Single_Dp_to_Kspipi0.root': File exists
    
    Link the data:
    
    : cd $dhad/10.1/dat/data
    : ln -s 537ipb 537ipbv5  
    
*** DONE Run Yields
    :LOGBOOK:
    CLOCK: [2010-03-26 Fri 10:03]--[2010-03-26 Fri 10:03] =>  0:00
    CLOCK: [2010-03-26 Fri 08:58]--[2010-03-26 Fri 09:32] =>  0:34
    CLOCK: [2010-03-25 Thu 15:16]--[2010-03-25 Thu 15:16] =>  0:00
    :END:
    
    Single tags:
    : dhad-10.1.5 yld signal Single_Dp_to_Kspipipi 537ipbv5 --set interact --test ... OK.
    : dhad-10.1.5 yld data Single_Dp_to_Kspipipi 537ipbv5 --set interact --test ... OK.


    : dhad-10.1.5 yld signal single 537ipbv5 ... done.
    : dhad-10.1.5 yld data single 537ipbv5 ... done. 

*** DONE Run Fits with new paras
    :LOGBOOK:
    CLOCK: [2010-03-26 Fri 16:11]--[2010-03-26 Fri 16:18] =>  0:07
    CLOCK: [2010-03-26 Fri 10:03]--[2010-03-26 Fri 10:24] =>  0:21
    :END:
    
    Fit for one mode, use the parameters in 537ipb ...
    
    : dhad-10.1.5 fit signal Single_Dp_to_Kspipipi 537ipbv5 --set interact ... OK. 


    : dhad-10.1.5 fit signal Single_Dp_to_Kspipipi 537ipbv5 --test ... OK.
    : dhad-10.1.5 fit data Single_Dp_to_Kspipipi 537ipbv5 --set interact ... OK.

    Fit all single tags:

    : dhad-10.1.5 fit signal single 537ipbv5  --test ... OK.
    : dhad-10.1.5 fit signal single 537ipbv5 ... 

    : dhad-10.1.5 fit data single 537ipbv5  --test ... OK.
    : dhad-10.1.5 fit data single 537ipbv5  ... 

    Save figures:

    : dhad-10.1.5 fig signal single 537ipbv5 
    [[./10.1/fig/signal_single_537ipbv5.org][figure]]
    : dhad-10.1.5 fig data single 537ipbv5 

    [[./10.1/fig/data_single_537ipbv5.org][figure]]


    

** Process 537/pb double tags for Data (10.1.5) [100%]
*** DONE Run Yields
    :LOGBOOK:
    CLOCK: [2010-04-20 Tue 11:01]--[2010-04-20 Tue 11:01] =>  0:00
    CLOCK: [2010-04-20 Tue 10:13]--[2010-04-20 Tue 10:31] =>  0:18
    CLOCK: [2010-04-20 Tue 09:12]--[2010-04-20 Tue 09:20] =>  0:08
    :END:
    
    Run for one mode:

    : dhad-10.1.5 yld data Double_Dp_to_KKpi__Dm_to_KKpi 537ipbv5 --set interact --test ... OK.
    : dhad-10.1.5 yld data Double_Dp_to_KKpi__Dm_to_KKpi 537ipbv5 --test ... OK.
    : dhad-10.1.5 yld data Double_Dp_to_KKpi__Dm_to_KKpi 537ipbv5 ... OK.


    Run for all double tags:

    : dhad-10.1.5 yld data double 537ipbv5 --set interact --test ... OK.
    : dhad-10.1.5 yld data double 537ipbv5  --test ... OK.
    : dhad-10.1.5 yld data double 537ipbv5 ... done. 



*** DONE Run mBC fits
    :LOGBOOK:
    CLOCK: [2010-04-20 Tue 11:01]--[2010-04-20 Tue 11:03] =>  0:02
    CLOCK: [2010-04-20 Tue 10:08]--[2010-04-20 Tue 10:13] =>  0:05
    :END:

    Fit for one mode:
    
    : dhad-10.1.5 fit data Double_Dp_to_KKpi__Dm_to_KKpi 537ipbv5 --set interact ... OK.

    Fit for double:

    : dhad-10.1.5 fit data double 537ipbv5 --set interact OK.
    : dhad-10.1.5 fit data double 537ipbv5 --test OK.
    : dhad-10.1.5 fit data double 537ipbv5 ... 
    
    Save the figures ...
    : dhad-10.1.5 fig data double 537ipbv5 ...  OK.
    [[./10.1/fig/data_double_537ipbv5.org][figure]]
** Produce 537/pb Branching Fractions with original sys err (10.1.5) [100%]
*** DONE Fit for crossfeeds
    :LOGBOOK:
    CLOCK: [2010-04-22 Thu 10:52]--[2010-04-22 Thu 10:56] =>  0:04
    CLOCK: [2010-04-21 Wed 16:21]--[2010-04-21 Wed 16:27] =>  0:06
    CLOCK: [2010-04-21 Wed 15:10]--[2010-04-21 Wed 15:14] =>  0:04
    CLOCK: [2010-04-21 Wed 14:30]--[2010-04-21 Wed 14:34] =>  0:04
    :END:

    Test on one mode:
    
    : dhad-10.1.5 yld crossfeeds signal Single_Dp_to_Kspipipi 537ipbv5 --set interact --test ... OK.

    For single:

    : dhad-10.1.5 yld crossfeeds signal single 537ipbv5 --set interact --test OK.
    : dhad-10.1.5 yld crossfeeds signal single 537ipbv5 --test OK.
    : dhad-10.1.5 yld crossfeeds signal single 537ipbv5 ... done. 

    Fit crossfeeds diagnoal:

    : dhad-10.1.5 fit crossfeeds signal diag 537ipbv5  --set interact:mode=1:sign=-1 OK.
    : dhad-10.1.5 fit crossfeeds signal diag 537ipbv5  --test OK.
    : dhad-10.1.5 fit crossfeeds signal diag 537ipbv5 ... done. 

    Save the plots:
    : dhad-10.1.5 fig crossfeeds signal diag 537ipbv5 ... done. 
    [[./10.1/fig/crossfeeds_signal_diag_537ipbv5.org][figure]]

    Several failed modes.

    Fit crossfeeds nondiagnoal:

    : dhad-10.1.5 fit crossfeeds signal nondiag 537ipbv5  --set interact:mode=1,3 OK.
    : dhad-10.1.5 fit crossfeeds signal nondiag 537ipbv5  --test OK. 
    : dhad-10.1.5 fit crossfeeds signal nondiag 537ipbv5 ... done.  

    Save the plots:
    : dhad-10.1.5 fig crossfeeds signal nondiag 537ipbv5  

    [[./10.1/fig/crossfeeds_signal_nondiag_537ipbv5.org][figure]]

*** DONE BF fit
    :LOGBOOK:
    CLOCK: [2010-04-22 Thu 11:24]--[2010-04-22 Thu 11:37] =>  0:13
    CLOCK: [2010-04-22 Thu 11:19]--[2010-04-22 Thu 11:23] =>  0:04
    CLOCK: [2010-04-22 Thu 10:56]--[2010-04-22 Thu 11:06] =>  0:10
    :END:

    Make the yldfile: 

    : dhad-10.1.5 tab brf yields_and_efficiencies 537ipbv5 ... OK.

    Compare with the 281ipbv5 ... all different. 

    BF fit:

    : dhad-10.1.5 brf 537ipbv5 ... done. 

    Compare with PDG 2004:

    : dhad-10.1.5 tab compare data_results_pdg 537ipbv5

    => [[./10.1/tab/compare_data_results_pdg_537ipbv5.org][table]] ([[./10.1/tab/compare_data_results_pdg_537ipbv5.info][info]])

    Consistent with 2004 with smaller statistic error. 

    Compare with 281ipbv0 (PRD 2007):

    : dhad-10.1.5 tab compare brf_data_results 281ipbv0 537ipbv5

    => [[./10.1/tab/compare_brf_data_results_281ipbv0_537ipbv5.org][table]] ([[./10.1/tab/compare_brf_data_results_281ipbv0_537ipbv5.info][info]])




** BF fit with Kpi crossfeeds only and scale up bkgs (10.1.6) [100%]

*** DONE Scale up the backgrounds
    :LOGBOOK:
    CLOCK: [2010-05-03 Mon 17:04]--[2010-05-03 Mon 17:04] =>  0:00
    CLOCK: [2010-05-03 Mon 16:12]--[2010-05-03 Mon 16:22] =>  0:10
    CLOCK: [2010-05-03 Mon 15:28]--[2010-05-03 Mon 15:31] =>  0:03
    CLOCK: [2010-05-01 Sat 09:03]--[2010-05-01 Sat 09:15] =>  0:12
    CLOCK: [2010-04-30 Fri 15:33]--[2010-04-30 Fri 16:56] =>  1:23
    :END:

    Need to understand the BFFitter input ... OK.

    Copy the needed bkg files in : 10.1/dat/bkg/external

    Multiply 1.91 to absolute valutes for external_bkg_bfs ... done. 

*** DONE BF fits
    :LOGBOOK:
    CLOCK: [2010-05-03 Mon 15:31]--[2010-05-03 Mon 15:47] =>  0:16
    :END:

    : cd $dhad/10.1/dat/fit
    : ln -s 537ipbv5 537ipbv6 
    : cp $dhad/10.1/dat/brf/537ipbv5/yields_and_efficiencies $dhad/10.1/dat/brf/537ipbv6/
    
    : dhad-10.1.6 brf 537ipbv6 ... done. 

     Compare with PDG 2004:

    : dhad-10.1.6 tab compare pdg2004 537ipbv6 

     => [[./10.1/tab/compare_pdg2004_537ipbv6.org][table]] ([[./10.1/tab/compare_pdg2004_537ipbv6.info][info]])

    Compare with 281ipbv0 (PRD 2007):

    : dhad-10.1.6 tab compare brf_data_results 281ipbv0 537ipbv6 

    => [[./10.1/tab/compare_brf_data_results_281ipbv0_537ipbv6.org][table]] ([[./10.1/tab/compare_brf_data_results_281ipbv0_537ipbv6.info][info]])    


    
*** DONE Compare the data yields with 281/pb 
    :LOGBOOK:
    CLOCK: [2010-05-06 Thu 13:26]--[2010-05-06 Thu 14:36] =>  1:10
    CLOCK: [2010-05-06 Thu 11:30]--[2010-05-06 Thu 12:35] =>  1:05
    :END:

    : dhad-10.1.6 tab compare yields data single 281ipbv0 537ipbv6 --set diff=ratio:sign=0

    => [[./10.1/tab/compare_yields_data_single_281ipbv0_537ipbv6.org][table]] ([[./10.1/tab/compare_yields_data_single_281ipbv0_537ipbv6.info][info]])    


** DSkimv1 Cuts (10.1.7) [100%]
*** DONE Run Ntuple
    :LOGBOOK:
    CLOCK: [2010-05-28 Fri 09:49]--[2010-05-28 Fri 10:06] =>  0:17
    CLOCK: [2010-05-27 Thu 22:53]--[2010-05-27 Thu 23:07] =>  0:14
    CLOCK: [2010-05-27 Thu 16:57]--[2010-05-27 Thu 17:02] =>  0:05
    CLOCK: [2010-05-27 Thu 15:11]--[2010-05-27 Thu 15:16] =>  0:05
    CLOCK: [2010-05-27 Thu 14:49]--[2010-05-27 Thu 15:05] =>  0:16
    :END:
    
    - Data
      : dhad-10.1.7 gen ntuple data 537ipb --test  ... OK.
      : dhad-10.1.7 gen ntuple data 537ipb ... done. 
      : dhad-10.1.7 chk ntuple data 537ipb OK.

      Check the real ntuple in data ... found data37_1, data32_1, data44_2 exceeded.
      
      Fix the data37, data32, data44: 

      Get the last run of the two data37:

      : dhad-10.1.7 chk runs data37_dskim_evtstore.root ... 208067-209424 
      : dhad-10.1.7 chk runs data37_dskim_evtstore_1.root ...  209424-209967

      : dhad-10.1.7 chk runs data32_1_dskim_evtstore_1.root ... 202922-202923 
      : dhad-10.1.7 chk runs data44_2_dskim_evtstore_1.root ... 225693-225700
    
      Update the tcl file... OK.
     

    - Single Tag MC
      : dhad-10.1.7 gen ntuple Single_Dp_to_Kspipipi 537ipb --test OK. 
      : dhad-10.1.7 gen ntuple Single_Dp_to_Kspipipi 537ipb ... OK.

      : dhad-10.1.7 gen ntuple single 537ipb --test OK.
      : dhad-10.1.7 gen ntuple single 537ipb ... done. 
      : dhad-10.1.7 chk ntuple single 537ipb OK.   

    - Double Tag MC
      : dhad-10.1.7 gen ntuple double 537ipb --test OK.
      : dhad-10.1.7 gen ntuple double 537ipb ... done. 
      : dhad-10.1.7 chk ntuple double 537ipb OK. 

*** DONE Run Yields
    :LOGBOOK:
    CLOCK: [2010-05-28 Fri 10:19]--[2010-05-28 Fri 10:46] =>  0:27
    CLOCK: [2010-05-27 Thu 23:16]--[2010-05-27 Thu 23:17] =>  0:01
    CLOCK: [2010-05-27 Thu 23:07]--[2010-05-27 Thu 23:14] =>  0:07
    :END:

    : cd $dhad/10.1/dat/signal
    : ln -s $dhad/dat/signal/10.1.7/dtuple_20080624_MCGEN_20071023_MCP2_A/537ipb/ 537ipbv7   

    : cd $dhad/10.1/dat/data
    : mkdir 537ipbv7
    : cd 537ipbv7
    : ln -s $dhad/dat/data/10.1.7/data4* .  


    Run for one mode:

    : dhad-10.1.7 yld signal Double_Dp_to_KKpi__Dm_to_KKpi 537ipbv7 --set interact --test OK.
    : dhad-10.1.7 yld signal Double_Dp_to_KKpi__Dm_to_KKpi 537ipbv7 --test OK.

    Run for double tag MC:

    : dhad-10.1.7 yld signal double 537ipbv7 --set interact --test OK.
    : dhad-10.1.7 yld signal double 537ipbv7 --test OK.
    : dhad-10.1.7 yld signal double 537ipbv7 ... done. 

    Run for single tag MC:
    : dhad-10.1.7 yld signal single 537ipbv7 --set interact --test OK.
    : dhad-10.1.7 yld signal single 537ipbv7 --test OK.
    : dhad-10.1.7 yld signal single 537ipbv7 ... done. 

    Run double tag data:
    : dhad-10.1.7 yld data Double_Dp_to_KKpi__Dm_to_KKpi 537ipbv7 --set interact --test OK.
    : dhad-10.1.7 yld data double 537ipbv7 --test OK.
    : dhad-10.1.7 yld data double 537ipbv7 ... 

    Run single tag data:
    : dhad-10.1.7 yld data Single_Dp_to_Kspipipi 537ipbv7 --test --set interact OK.
    : dhad-10.1.7 yld data single 537ipbv7 --test OK.
    : dhad-10.1.7 yld data single 537ipbv7  ... done.
  

*** DONE Fit Paras
    :LOGBOOK:
    CLOCK: [2010-05-28 Fri 10:13]--[2010-05-28 Fri 10:18] =>  0:05
    CLOCK: [2010-05-28 Fri 10:07]--[2010-05-28 Fri 10:13] =>  0:06
    CLOCK: [2010-05-27 Thu 23:17]--[2010-05-27 Thu 23:22] =>  0:05
    :END:

    : dhad-10.1.7 fit signal Double_Dp_to_KKpi__Dm_to_KKpi 537ipbv7/resolution --set interact OK
    : dhad-10.1.7 fit signal Double_Dp_to_KKpi__Dm_to_KKpi 537ipbv7/resolution --test OK. 

    Fit for diagonal double:

    : dhad-10.1.7 fit signal diagdouble 537ipbv7/resolution --set interact OK. 
    : dhad-10.1.7 fit signal diagdouble 537ipbv7/resolution --test ... OK.
    : dhad-10.1.7 fit signal diagdouble 537ipbv7/resolution ... done. 
    : dhad-10.1.7 fig signal diagdouble 537ipbv7/resolution ... OK.
    [[./10.1/fig/signal_diagdouble_537ipbv7_resolution.org][figure]]

    Make the parameters table:

   : dhad-10.1.7 tab para momentum resolution 537ipbv7

    => [[./10.1/tab/para_momentum_resolution_537ipbv7.org][table]] ([[./10.1/tab/para_momentum_resolution_537ipbv7.info][info]]) 



*** DONE mBC fit
    :LOGBOOK:
    CLOCK: [2010-05-28 Fri 13:06]--[2010-05-28 Fri 13:09] =>  0:03
    CLOCK: [2010-05-28 Fri 11:48]--[2010-05-28 Fri 11:51] =>  0:03
    CLOCK: [2010-05-28 Fri 11:04]--[2010-05-28 Fri 11:23] =>  0:19
    :END:

    Fit single tag MC:

    : dhad-10.1.7 fit signal Single_Dp_to_Kspipipi 537ipbv7 --set interact OK.
    : dhad-10.1.7 fit signal single 537ipbv7  --test OK.
    : dhad-10.1.7 fit signal single 537ipbv7  ... done. 
    : dhad-10.1.7 fig signal single 537ipbv7  
    [[./10.1/fig/signal_single_537ipbv7.org][figure]]


    Fit single tag data: 

    : dhad-10.1.7 fit data Single_Dp_to_Kspipipi 537ipbv7 --set interact OK.  
    : dhad-10.1.7 fit data single 537ipbv7  --test OK.
    : dhad-10.1.7 fit data single 537ipbv7  ... done. 
    : dhad-10.1.7 fig data single 537ipbv7 
    [[./10.1/fig/data_single_537ipbv7.org][figure]]

    Fit double tag MC:
    : dhad-10.1.7 fit signal Double_Dp_to_KKpi__Dm_to_KKpi 537ipbv7 --set interact OK.
    : dhad-10.1.7 fit signal double 537ipbv7  --test OK.
    : dhad-10.1.7 fit signal double 537ipbv7  ... done.
    : dhad-10.1.7 fig signal double 537ipbv7 
    [[./10.1/fig/signal_double_537ipbv7.org][figure]]


    Fit double tag data:
    : dhad-10.1.7 fit data Double_Dp_to_KKpi__Dm_to_KKpi 537ipbv7 --set interact OK.
    : dhad-10.1.7 fit data double 537ipbv7  --test OK.
    : dhad-10.1.7 fit data double 537ipbv7  ... done. 
    : dhad-10.1.7 fig data double 537ipbv7 
    [[./10.1/fig/data_double_537ipbv7.org][figure]]

*** DONE Crossfeeds
    :LOGBOOK:
    CLOCK: [2010-05-28 Fri 16:02]--[2010-05-28 Fri 16:13] =>  0:11
    CLOCK: [2010-05-28 Fri 13:09]--[2010-05-28 Fri 14:36] =>  1:27
    :END:
    
    Get the yields: 
    : dhad-10.1.7 yld crossfeeds signal Single_Dp_to_Kspipipi 537ipbv7 --set interact ... done 5'31''.
    : dhad-10.1.7 yld crossfeeds signal single 537ipbv7 --set interact --test OK.
    : dhad-10.1.7 yld crossfeeds signal single 537ipbv7 --test OK.
    : dhad-10.1.7 yld crossfeeds signal single 537ipbv7  ... done. 

    Fit diagonal: 

    : dhad-10.1.7 fit crossfeeds signal diag 537ipbv7  --set interact:mode=1:sign=-1 OK. 
    : dhad-10.1.7 fit crossfeeds signal diag 537ipbv7  --test OK.
    : dhad-10.1.7 fit crossfeeds signal diag 537ipbv7  ...  done.
    : dhad-10.1.7 fig crossfeeds signal diag 537ipbv7  
    [[./10.1/fig/crossfeeds_signal_diag_537ipbv7.org][figure]]

    Fit non-diagonal: 

    : dhad-10.1.7 fit crossfeeds signal nondiag 537ipbv7  --set interact:mode=1,3 OK.
    : dhad-10.1.7 fit crossfeeds signal nondiag 537ipbv7  --test OK.
    : dhad-10.1.7 fit crossfeeds signal nondiag 537ipbv7  ... done.  
    : dhad-10.1.7 fig crossfeeds signal nondiag 537ipbv7 
    [[./10.1/fig/crossfeeds_signal_nondiag_537ipbv7.org][figure]]

    Make the yldfile: 

    : dhad-10.1.7 tab brf yields_and_efficiencies 537ipbv7 ... done. 

 
*** DONE BF fit
    :LOGBOOK:
    CLOCK: [2010-05-28 Fri 16:13]--[2010-05-28 Fri 16:34] =>  0:21
    :END:

    BF fit:
    : dhad-10.1.7 brf 537ipbv7 ... done. 
    : crossfeed is using D0_to_Kpi fakes D0B_to_Kpi:  0.000926
    : crossfeed is using D0B_to_Kpi fakes D0_to_Kpi:  0.001112
    
    Compare with 281ipbv0: 
   : dhad-10.1.7 tab compare brf_data_results 281ipbv0 537ipbv7
    => [[./10.1/tab/compare_brf_data_results_281ipbv0_537ipbv7.org][table]] ([[./10.1/tab/compare_brf_data_results_281ipbv0_537ipbv7.info][info]])   
 
    D0 -> K pi mode decreased -2.0\sigma, Dp-> Ks pi increased
    1.5\sigma.

    Compare with 281ipbv7:
    : dhad-10.1.7 tab compare brf_data_results 281ipbv7 537ipbv7
    => [[./10.1/tab/compare_brf_data_results_281ipbv7_537ipbv7.org][table]] ([[./10.1/tab/compare_brf_data_results_281ipbv7_537ipbv7.info][info]]) 
    
    D0-> K pi mode decreased -2\sigma,
    Dp-> K pi pi pi0 decreased -2.4\sigma,
    Dp-> Ks pi increased 1.0\sigma.










** Generic MC (10.1.10) [50%]
*** DONE Run NTuple
    :LOGBOOK:
    CLOCK: [2010-07-27 Tue 12:54]--[2010-07-27 Tue 13:15] =>  0:21
    CLOCK: [2010-07-15 Thu 11:00]--[2010-07-15 Thu 11:10] =>  0:10
    CLOCK: [2010-07-14 Wed 15:02]--[2010-07-14 Wed 15:22] =>  0:20
    :END:

    Data43:
    http://www.lns.cornell.edu/~dskim/private/dskim.html#mc43

    Use time stamp: 20070714 ...

    : dhad-10.1.10 gen ntuple generic mc-ddbar-dskim 20xlumi data43 -t -d OK.
    : dhad-10.1.10 gen ntuple generic mc-ddbar-dskim 20xlumi data43 ... 
    
    Found error:
    :  %% ERROR-EventStoreModuleBase.EventStoreModuleBase: No runs found in EventStore for given grade='mc-ddbar-dskim' and skim='20xlumi'

    Try 20080728 ... same error.
    
    Try to remove the 20xlumi ... OK. 
    
    Now use the 20080728. 

    Run on the rest:

    : dhad-10.1.10 gen ntuple generic mc-ddbar-dskim 20xlumi 537ipb -t -d ... done. 

    
*** STARTED Run ddbar generic background yields
    :LOGBOOK:
    CLOCK: [2010-08-02 Mon 10:02]--[2010-08-02 Mon 10:13] =>  0:11
    CLOCK: [2010-07-27 Tue 14:42]--[2010-07-27 Tue 14:42] =>  0:00
    CLOCK: [2010-07-27 Tue 14:40]--[2010-07-27 Tue 14:40] =>  0:00
    CLOCK: [2010-07-27 Tue 13:16]--[2010-07-27 Tue 13:36] =>  0:20
    :END:

    : cd $dhad/10.1/dat/generic
    : mkdir 537ipbv10
    : ln -s $dhad/dat/generic/10.1.10/*20xlumi*data4*.root .

    : dhad-10.1.10 yld backgrounds generic Single_Dp_to_Kspipipi 537ipbv10 -s interact -t ...  

    Found data43_10.root not closed. 

    Try again:

    : cd $dhad/dat/generic/10.1.10

    : dhad-10.1.10 yld backgrounds generic single 537ipbv10 -t
    : dhad-10.1.10 yld backgrounds generic single 537ipbv10 ... done. ... check...

**** DONE Check the run numbers for the root file 
     :LOGBOOK:
     CLOCK: [2010-08-02 Mon 10:13]--[2010-08-02 Mon 11:38] =>  1:25
     :END:
     Check the run numbers for the root file... need to automate ...done. 

     : dhad-10.1.10 chk runs *20xlumi_data43*.root -d 

     | Data                                          | Start Run |    End | # runs |
     |-----------------------------------------------+-----------+--------+--------|
     | generic_mc-ddbar-dskim_20xlumi_data43.root    |    220898 | 221375 |    477 |
     | generic_mc-ddbar-dskim_20xlumi_data43_1.root  |    221375 | 221638 |    263 |
     | generic_mc-ddbar-dskim_20xlumi_data43_2.root  |    221638 | 221876 |    238 |
     | generic_mc-ddbar-dskim_20xlumi_data43_3.root  |    221876 | 222041 |    165 |
     | generic_mc-ddbar-dskim_20xlumi_data43_4.root  |    222041 | 222205 |    164 |
     | generic_mc-ddbar-dskim_20xlumi_data43_5.root  |    222205 | 222360 |    155 |
     | generic_mc-ddbar-dskim_20xlumi_data43_6.root  |    222360 | 222540 |    180 |
     | generic_mc-ddbar-dskim_20xlumi_data43_7.root  |    222540 | 222715 |    175 |
     | generic_mc-ddbar-dskim_20xlumi_data43_8.root  |    222715 | 222881 |    166 |
     | generic_mc-ddbar-dskim_20xlumi_data43_9.root  |    222881 | 223070 |    189 |
     | generic_mc-ddbar-dskim_20xlumi_data43_10.root |    223070 | 223080 |     10 |
     #+TBLFM: $4=$3-$2

     Break the data43 ... or just re-run data43...

     : dhad-10.1.10 gen ntuple generic mc-ddbar-dskim 20xlumi data43 -t -d OK.
     : dhad-10.1.10 gen ntuple generic mc-ddbar-dskim 20xlumi data43 ... done. 

     But the last one is data43_9, and only 1.6G.  Check the run range:
     : dhad-10.1.10 chk runs *20xlumi_data43__9*.root  222881-223048 
     
     Lost some runs. 

     Still the same warning message:

     : Warning in <TFile::Init>: file generic_mc-ddbar-dskim_20xlumi_data43__9.root probably
     :  not closed, trying to recover 

     Check the last run number of data43 generic MC on web... 
     http://www.lepp.cornell.edu/~dskim/private/dskimMon/20060224_FULL_3/dskim_data43DDTE20lumi16hr11min51sec_Jun_9_2007/individual.html

     Need to get the max_run number from this page...

     Data44:
     
     | Data                                          | Run start | Run end | # runs |
     |-----------------------------------------------+-----------+---------+--------|
     | generic_mc-ddbar-dskim_20xlumi_data44.root    |    223279 |  223423 |    144 |
     | generic_mc-ddbar-dskim_20xlumi_data44_1.root  |    223423 |  223662 |    239 |
     | generic_mc-ddbar-dskim_20xlumi_data44_2.root  |    223662 |  223838 |    176 |
     | generic_mc-ddbar-dskim_20xlumi_data44_3.root  |    223838 |  224030 |    192 |
     | generic_mc-ddbar-dskim_20xlumi_data44_4.root  |    224030 |  224212 |    182 |
     | generic_mc-ddbar-dskim_20xlumi_data44_5.root  |    224212 |  224382 |    170 |
     | generic_mc-ddbar-dskim_20xlumi_data44_6.root  |    224382 |  224550 |    168 |
     | generic_mc-ddbar-dskim_20xlumi_data44_7.root  |    224550 |  224708 |    158 |
     | generic_mc-ddbar-dskim_20xlumi_data44_8.root  |    224708 |  224894 |    186 |
     | generic_mc-ddbar-dskim_20xlumi_data44_9.root  |    224894 |  225034 |    140 |
     | generic_mc-ddbar-dskim_20xlumi_data44_10.root |    225034 |  225184 |    150 |
     | generic_mc-ddbar-dskim_20xlumi_data44_11.root |    225184 |  225347 |    163 |
     | generic_mc-ddbar-dskim_20xlumi_data44_12.root |    225347 |  225513 |    166 |
     | generic_mc-ddbar-dskim_20xlumi_data44_13.root |    225513 |  225667 |    154 |
     | generic_mc-ddbar-dskim_20xlumi_data44_14.root |    225667 |  225809 |    142 |
     | generic_mc-ddbar-dskim_20xlumi_data44_15.root |    225809 |  225957 |    148 |
     | generic_mc-ddbar-dskim_20xlumi_data44_16.root |    225957 |  226042 |     85 |
     #+TBLFM: $4=$3-$2

     Data45: 

     | Data                                          | Run start | Run end | #runs |
     |-----------------------------------------------+-----------+---------+-------|
     | generic_mc-ddbar-dskim_20xlumi_data45.root    |    226429 |  226723 |   294 |
     | generic_mc-ddbar-dskim_20xlumi_data45_1.root  |    226723 |  226905 |   182 |
     | generic_mc-ddbar-dskim_20xlumi_data45_2.root  |    226905 |  227099 |   194 |
     | generic_mc-ddbar-dskim_20xlumi_data45_3.root  |    227099 |  227255 |   156 |
     | generic_mc-ddbar-dskim_20xlumi_data45_4.root  |    227255 |  227407 |   152 |
     | generic_mc-ddbar-dskim_20xlumi_data45_5.root  |    227407 |  227578 |   171 |
     | generic_mc-ddbar-dskim_20xlumi_data45_6.root  |    227578 |  227751 |   173 |
     | generic_mc-ddbar-dskim_20xlumi_data45_7.root  |    227751 |  227871 |   120 |
     | generic_mc-ddbar-dskim_20xlumi_data45_8.root  |    227871 |  228014 |   143 |
     | generic_mc-ddbar-dskim_20xlumi_data45_9.root  |    228014 |  228171 |   157 |
     | generic_mc-ddbar-dskim_20xlumi_data45_10.root |    228171 |  228271 |   100 |
     #+TBLFM: $4=$3-$2

     Data46:

     | Data                                          | Run start | Run end | #runs |
     |-----------------------------------------------+-----------+---------+-------|
     | generic_mc-ddbar-dskim_20xlumi_data46.root    |    228285 |  228420 |   135 |
     | generic_mc-ddbar-dskim_20xlumi_data46_1.root  |    228420 |  228553 |   133 |
     | generic_mc-ddbar-dskim_20xlumi_data46_2.root  |    228553 |  228703 |   150 |
     | generic_mc-ddbar-dskim_20xlumi_data46_3.root  |    228703 |  228830 |   127 |
     | generic_mc-ddbar-dskim_20xlumi_data46_4.root  |    228830 |  228984 |   154 |
     | generic_mc-ddbar-dskim_20xlumi_data46_5.root  |    228984 |  229132 |   148 |
     | generic_mc-ddbar-dskim_20xlumi_data46_6.root  |    229132 |  229280 |   148 |
     | generic_mc-ddbar-dskim_20xlumi_data46_7.root  |    229280 |  229409 |   129 |
     | generic_mc-ddbar-dskim_20xlumi_data46_8.root  |    229409 |  229529 |   120 |
     | generic_mc-ddbar-dskim_20xlumi_data46_9.root  |    229529 |  229685 |   156 |
     | generic_mc-ddbar-dskim_20xlumi_data46_10.root |    229685 |  229811 |   126 |
     | generic_mc-ddbar-dskim_20xlumi_data46_11.root |    229811 |  229951 |   140 |
     | generic_mc-ddbar-dskim_20xlumi_data46_12.root |    229951 |  230069 |   118 |
     | generic_mc-ddbar-dskim_20xlumi_data46_13.root |    230069 |  230130 |    61 |
     #+TBLFM: $4=$3-$2


**** DONE Re-run data43 ddbar generic MC ntuple
     :LOGBOOK:
     CLOCK: [2010-09-03 Fri 14:52]--[2010-09-03 Fri 15:14] =>  0:22
     CLOCK: [2010-09-03 Fri 10:53]--[2010-09-03 Fri 11:21] =>  0:28
     CLOCK: [2010-09-03 Fri 09:19]--[2010-09-03 Fri 10:29] =>  1:10
     CLOCK: [2010-09-02 Thu 15:15]--[2010-09-02 Thu 16:28] =>  1:13
     CLOCK: [2010-09-01 Wed 12:48]--[2010-09-01 Wed 14:34] =>  1:46
     CLOCK: [2010-09-01 Wed 11:07]--[2010-09-01 Wed 12:08] =>  1:01
     CLOCK: [2010-09-01 Wed 09:41]--[2010-09-01 Wed 10:02] =>  0:21
     CLOCK: [2010-08-31 Tue 16:07]--[2010-08-31 Tue 16:48] =>  0:41
     CLOCK: [2010-08-31 Tue 15:37]--[2010-08-31 Tue 16:03] =>  0:26
     CLOCK: [2010-08-31 Tue 09:57]--[2010-08-31 Tue 12:45] =>  2:48
     CLOCK: [2010-08-30 Mon 16:01]--[2010-08-30 Mon 16:22] =>  0:21
     CLOCK: [2010-08-30 Mon 15:20]--[2010-08-30 Mon 15:51] =>  0:31
     CLOCK: [2010-08-30 Mon 11:33]--[2010-08-30 Mon 11:56] =>  0:23
     CLOCK: [2010-08-30 Mon 10:40]--[2010-08-30 Mon 10:52] =>  0:12
     CLOCK: [2010-08-27 Fri 16:01]--[2010-08-27 Fri 16:36] =>  0:35
     CLOCK: [2010-08-27 Fri 13:35]--[2010-08-27 Fri 15:19] =>  1:44
     CLOCK: [2010-08-27 Fri 11:20]--[2010-08-27 Fri 11:44] =>  0:24
     CLOCK: [2010-08-27 Fri 09:41]--[2010-08-27 Fri 10:35] =>  0:54
     CLOCK: [2010-08-27 Fri 08:39]--[2010-08-27 Fri 09:25] =>  0:46
     CLOCK: [2010-08-26 Thu 15:31]--[2010-08-26 Thu 16:21] =>  0:50
     CLOCK: [2010-08-26 Thu 14:16]--[2010-08-26 Thu 15:17] =>  1:01
     CLOCK: [2010-08-26 Thu 11:13]--[2010-08-26 Thu 12:18] =>  1:05
     :END:
     
     Check the last run number of data43 generic MC on web... 
     http://www.lepp.cornell.edu/~dskim/private/dskimMon/20060224_FULL_3/dskim_data43DDTE20lumi16hr11min51sec_Jun_9_2007/individual.html

     Need to get the max_run number from this page... OK.

     : dhad-10.1.10 chk runs html generic_mc-ddbar-dskim_20xlumi_data43 start run: 220898, end run: 223271, #runs: 1782

     Notice the max-min = 2373 is larger than 1782, so the run numbers
     are not ll listed. 

     Generate the spliting jobs script...

     : dhad-10.1.10 gen ntuple generic mc-ddbar-dskim 20xlumi data43 -s njobs=10 -d -t 
     Suggestion from Peter:

     Look into the suez for solution:

     Read page:
     https://wiki.lepp.cornell.edu/lepp/bin/view/CLEO/Private/SW/EventStore

     :  To make it easier to run in the batch system, we have added an additional script to the BatchScripts package: eventstore_batch_process.tcl. An example of running 20 jobs over the entire processed data would be
     :  run_file $env(C3_CVSSRC)/BatchScripts/eventstore_batch_process.tcl
     :  eventstore_batch_process myjob 20090402 20
     :  <setup the rest of the job>
     :  eventstore_batch_process_go
     :  exit
     : See the header in the eventstore_batch_process.tcl for further options.

     Continue my way ... done. 

     Remove the previous ntuple ... done.

     : dhad-10.1.10 gen ntuple generic mc-ddbar-dskim 20xlumi data43 -s njobs=10 -t OK.

     : dhad-10.1.10 gen ntuple generic mc-ddbar-dskim 20xlumi data43 -s njobs=10 

     Found error:

     :  %% SYSTEM-MySQLQuerier.MySQLQuerier: Connecting to EventStore@lnx150.lns.cornell.edu
     :  %% ERROR-EventStoreModuleBase.EventStoreModuleBase: No runs found in EventStore for 
     : given grade='mc-ddbar-dskim' and skim='20xlumi'                                     
     Remove the skim for 20xlumi in the eventStore command line ... OK.
     
     Not working for the first three jobs, but the rest 7 are running. 
    
     Check the output file ... 

     Bad one:
     [[./log/2010/0903/generic_mc-ddbar-dskim_20xlumi_data43_10_1.txt][generic_mc-ddbar-dskim_20xlumi_data43_10_1.txt]]

     Good one:
     [[./log/2010/0903/generic_mc-ddbar-dskim_20xlumi_data43_10_4.txt][generic_mc-ddbar-dskim_20xlumi_data43_10_4.txt]]
     
     Re-check the datarange: 
     : dhad-10.1.10 chk runs html generic_mc-ddbar-dskim_20xlumi_data43 ... no change.
     Re-submit the first job:

     : dhad-10.1.10 gen ntuple generic mc-ddbar-dskim 20xlumi data43_10_1 ... 

     Re-submit the rest tow jobs:
     : dhad-10.1.10 gen ntuple generic mc-ddbar-dskim 20xlumi data43_10_2 ... 
     : dhad-10.1.10 gen ntuple generic mc-ddbar-dskim 20xlumi data43_10_3 ... 
     
     Jobs done.

     Check the ntuples...
     : dhad-10.1.10 chk ntuple generic mc-ddbar-dskim 20xlumi data43 ... OK.
     

**** DONE Re-run data44 ddbar generic MC 
     :LOGBOOK:
     CLOCK: [2010-09-06 Mon 09:17]--[2010-09-06 Mon 09:18] =>  0:01
     CLOCK: [2010-09-03 Fri 14:26]--[2010-09-03 Fri 14:52] =>  0:26
     :END:

     Get the max_run number: 

     : dhad-10.1.10 chk runs html generic_mc-ddbar-dskim_20xlumi_data44  

     start run: 223279, end run: 226042, #runs: 2185
   
     
     Remove the previous ntuples (17) ... done. 

     : dhad-10.1.10 gen ntuple generic mc-ddbar-dskim 20xlumi data44 -s njobs=20 -t OK.

     : dhad-10.1.10 gen ntuple generic mc-ddbar-dskim 20xlumi data44 -s njobs=20 ... done. 

     : dhad-10.1.10 chk ntuple generic mc-ddbar-dskim 20xlumi data44 OK. 


     

**** DONE Re-run data45 ddbar generic MC
     :LOGBOOK:
     CLOCK: [2010-09-06 Mon 09:18]--[2010-09-06 Mon 09:19] =>  0:01
     :END:

     Update the run range ... OK.

     Remove the previous ntuples (10)... done. 

     : dhad-10.1.10 gen ntuple generic mc-ddbar-dskim 20xlumi data45 -s njobs=10 -t OK
     : dhad-10.1.10 gen ntuple generic mc-ddbar-dskim 20xlumi data45 -s njobs=10 ... done 
     
     : dhad-10.1.10 chk ntuple generic mc-ddbar-dskim 20xlumi data45 OK.



**** DONE Re-run data46 ddbar generic MC
     :LOGBOOK:
     CLOCK: [2010-09-06 Mon 14:07]--[2010-09-06 Mon 14:08] =>  0:01
     CLOCK: [2010-09-06 Mon 09:23]--[2010-09-06 Mon 10:02] =>  0:39
     :END:

     Update the run range ... OK.

     Remove the previous ntuples (14) ... done.

     : dhad-10.1.10 gen ntuple generic mc-ddbar-dskim 20xlumi data46 -s njobs=15 -t OK.

     : dhad-10.1.10 gen ntuple generic mc-ddbar-dskim 20xlumi data46 -s njobs=15 ...done. 
     
     : dhad-10.1.10 chk ntuple generic mc-ddbar-dskim 20xlumi data46 ... found one error:

     data46_15_15 :
     : %% SYSTEM-Interpreter.TclInterpreter: Tcl_Eval error: can't read "preliminaryPass2":
     :  no such variable                                                                   
     Re-run this job:

     : dhad-10.1.10 gen ntuple generic mc-ddbar-dskim 20xlumi data46_15_15 -t 

     Still the same error. 

     Check the dataselection tcl ... no 15_15 in the last section. 

     Check the script ... OK.

     Restore the previous txt.bak ... done.

     : dhad-10.1.10 gen ntuple generic mc-ddbar-dskim 20xlumi data46_15_15 ... done. 
     : dhad-10.1.10 chk ntuple generic mc-ddbar-dskim 20xlumi data46_15_15 ... OK.

     




     




**** WAITING Run ddbar background yields
     :LOGBOOK:
     CLOCK: [2010-09-06 Mon 14:10]--[2010-09-06 Mon 14:58] =>  0:48
     :END:

     : cd $dhad/10.1/dat/generic/ddbar/537ipbv10
     : rm * 
     : ln -s $dhad/dat/generic/10.1.10/*20xlumi*data4*.root .
     : dhad-10.1.10 yld backgrounds generic/ddbar Single_Dp_to_Kspipipi 537ipbv10 -s interact -t ... OK.

     : dhad-10.1.10 yld backgrounds generic/ddbar single 537ipbv10 -t ... OK.
     : dhad-10.1.10 yld backgrounds generic/ddbar single 537ipbv10 ... 



3
* 818/pb 
  
  - [[./src/10.1.7/dot/p818.png][diagram - 818/pb]]

** Run 818/pb data with eventstore 20070822 (10.1.3) [100%]

*** DONE Setup DNtupleProc
    :LOGBOOK:
    CLOCK: [2010-01-19 Tue 12:12]--[2010-01-19 Tue 12:14] =>  0:02
    CLOCK: [2010-01-19 Tue 11:38]--[2010-01-19 Tue 11:55] =>  0:17
    :END:
    
    : cd $src
    : mkdir cleo 
    : cp -r  $dhad/src/3.0/cleo/HadronicDNtupleProc cleo/
    : cp -r  $dhad/src/3.0/cleo/CWNFramework cleo/

    Compile:

    : sl lc
    : setdhad 10.1.2
    : cd $src/cleo
    : c3make  ... OK.

    Change the [[./src/10.1.2/cleo/HadronicDNtupleProc/Test/dataselection.tcl][dataselection.tcl]]:

    : if { ( $env(INPUTDATA) == "data31_dskim_evtstore" ) } {
    : #    eventstore in 20050429 dtag all dataset data31
    :    eventstore in 20070822 dtag all dataset data31
    
    Copy the sh file:

    : cd $src/cleo
    : cp $dhad/src/3.0/cleo/local_setup . 

    Change the [[./src/10.1.2/cleo/local_setup][local_setup]] ... OK.

    : export USER_SRC=/home/xs32/work/CLEO/analysis/DHad/src/10.1.2/cleo

    Change the other timestamps in  [[./src/10.1.2/cleo/HadronicDNtupleProc/Test/dataselection.tcl][dataselection.tcl]] ... OK.

    - Setup 10.1.3 in order to update the Hadronic code
      
      : cd $dhad/src/10.1.2
      : cvs tag V10-01-02 
      : setdhad 10.1.3  

      : cd $src
      : cp -r  $dhad/src/10.1.2/cleo . 

      Check the [[./src/10.1.3/cleo/HadronicDNtupleProc/Test/dataselection.tcl][dataselection.tcl]] ... OK.

      Update the [[./src/10.1.3/cleo/local_setup][local_setup]] ... OK.

    - Update the [[./src/10.1.3/cleo/HadronicDNtupleProc/Class/HadronicDNtupleProc.cc][HadronicDNtupleProc.cc]] ... OK.

*** DONE Run the Ntuple
    :LOGBOOK:
    CLOCK: [2010-02-01 Mon 10:35]--[2010-02-01 Mon 10:36] =>  0:01
    CLOCK: [2010-02-01 Mon 09:42]--[2010-02-01 Mon 10:03] =>  0:21
    CLOCK: [2010-01-29 Fri 16:15]--[2010-01-29 Fri 17:14] =>  0:59
    CLOCK: [2010-01-27 Wed 08:50]--[2010-01-27 Wed 10:36] =>  1:46
    CLOCK: [2010-01-26 Tue 10:10]--[2010-01-26 Tue 12:03] =>  1:53
    CLOCK: [2010-01-25 Mon 08:23]--[2010-01-25 Mon 10:41] =>  2:18
    CLOCK: [2010-01-19 Tue 12:14]--[2010-01-19 Tue 12:18] =>  0:04
    CLOCK: [2010-01-19 Tue 11:55]--[2010-01-19 Tue 12:12] =>  0:17
    :END:
    
    : dhad-10.1.2 gen ntuple data 31 --test OK.

    dhad-10.1.2 gen ntuple data 31 ... [[./dat/data/10.1.2/dtuple-data31.txt][output]]. 


    : dhad-10.1.2 gen ntuple data 32 --test OK.
    
    dhad-10.1.2 gen ntuple data 32 ...  [[./dat/data/10.1.2/dtuple-data32.txt][output]]. Aborted.

    See [[./log/2010/0119/data32.txt][data32.txt]],
    
    Message from Anders: (to investigate the meaning of kill siginal)

    : kill -l
    : 24) SIGXCPU 

    dhad-10.1.2 gen ntuple data 33 ... [[./dat/data/10.1.2/dtuple-data33.txt][output]].
    
    dhad-10.1.2 gen ntuple data 35 ... [[./dat/data/10.1.2/dtuple-data35.txt][output]].
    
    dhad-10.1.2 gen ntuple data 36 ... [[./dat/data/10.1.2/dtuple-data36.txt][output]].
    
    dhad-10.1.2 gen ntuple data 37 ... [[./dat/data/10.1.2/dtuple-data37.txt][output]].

    - Check the DSkim status in the Data run ... 

      From [[./src/10.1.2/cleo/HadronicDNtupleProc/Test/dataselection.tcl][dataselection.tcl]]: 
      
      : if { ( $env(INPUTDATA) == "data31_dskim_evtstore" ) } {
      :     set skim yes
      :     set preliminaryPass2 no
      :     set millionMC no
      :     set mc no
      :     set use_setup_analysis yes
      :     module sel EventStoreModule
      :     eventstore in 20070822 dtag all dataset data31
      : }

      But settings in [[./src/10.1.2/cleo/HadronicDNtupleProc/Test/loadHadronicDNtupleProc.tcl][loadHadronicDNtupleProc.tcl]] : 

      : if { $skim == "yes" && $use_setup_analysis == "no" } {
      :     # set photon decays prod not to reconstruct new pi0's
      :     prod desel PhotonDecaysProd
      : }

      So, in Data, there is "PhotonDecaysProd". 
      
      Confirm with Peter ... sent. 

    - Compare the code when processing the new data...

      Find the "While finding D daughters: unknown daughter mode" ...

      From [[./src/10.1.2/cleo/HadronicDNtupleProc/Class/HadronicDNtupleProc.cc][HadronicDNtupleProc.cc]]:

      :  int nDau = tagDecay.numberChildren();
      :  const STL_VECTOR(dchain::ReferenceHolder<CDCandidate>) & vect = tagDecay.children();
      :  assert(nDau <= 5);
      :  for (int dau = 0; dau < nDau; dau++) {
      :     const CDCandidate& cddau = *(vect[dau]);
      :     int index = -1;
      :     if (cddau.builtFromCDKs()) {
      :        index = indexInKsBlock(cddau.navKshort());
      :        assert(index >= 0);
      :     } else if (cddau.builtFromCDPi0()) {
      :        index = indexInPi0Block(cddau.navPi0());
      :        assert(index >= 0);
      :     } else if (cddau.builtFromTrack()) {
      :        index = indexInTrackBlock(cddau.track());
      :        assert(index >= 0);
      :     } else if (cddau.builtFromCDEta()) {
      :        index = indexInEtaBlock(cddau.navEta());
      :        assert(index >= 0);
      :        report( DEBUG, kFacilityString )
      : 	  << "While finding D daughters: Eta daughters trying!"
      : 	  << endl;
      :     } else {
      :        report( NOTICE, kFacilityString )
      : 	  << "While finding D daughters: unknown daughter mode"
      : 	  << endl;
      :     }


      Comment out the missing mass calculation ... this should be done after the 281/pb problem fixed. 

    - Investigate the flags of "cddau.builtFromCDKs" etc ...
      
      Find the function builtFromCDKs in [[http://www.lepp.cornell.edu/restricted/webtools/cleo3/source/Offline/src/CleoDChain/Class/CDCandidate.cc#322][CDCandidate.cc]]:

      : 319 //------ builtFromCDKs -----
      : 320 // false is there in no CDNeutralEvidence associated with this CDCandidate
      : 321 //
      : 322 DABoolean CDCandidate::builtFromCDKs() const
      : 323 {
      : 324    return ( false ) ;
      : 325 }
      

    - Quick test run on data43 :

      dhad-10.1.2 gen ntuple data 43 ... need to change tcl.  

    - Run the new evtstore of 281/pb in the old release ... not work.

    - Need to update the Merge some changed of the DNtupleProc code. 

    - Update the code to 10.1.3

    - Check the output in the new data in 2.2 ... no "unknown daughter mode"

    - Compare the HadronicDNtuple code between 2.2 and 10.1.12... has the block of "unknown daughter mode"
      
      As question on DHad HN ... sent. 

      Answer from Lawrence:
      
      Should look into the daughter code [[http://www.lepp.cornell.edu/restricted/webtools/cleo3/source/Offline/src/CleoDChain/Class/CDKs.cc#107][CDKs.cc]]:

      : 104 //------ buildFromCDKs -----
      : 105 // return `true' as CDKs is made up from VisibleEvidence
      : 106 //
      : 107 DABoolean CDKs::builtFromCDKs() const
      : 108 {
      : 109    return true;
      : 110 }
      
      From [[http://www.lepp.cornell.edu/restricted/webtools/cleo3/source/Offline/src/CleoDChain/Class/CDPi0.cc][CDPi0.cc]]: 



**** Fix the problem of data32 and data37 
     :LOGBOOK:
     CLOCK: [2010-02-02 Tue 11:24]--[2010-02-02 Tue 11:30] =>  0:06
     CLOCK: [2010-02-02 Tue 09:05]--[2010-02-02 Tue 10:12] =>  1:07
     CLOCK: [2010-02-02 Tue 08:39]--[2010-02-02 Tue 08:53] =>  0:14
     CLOCK: [2010-02-01 Mon 13:32]--[2010-02-01 Mon 13:33] =>  0:01
     CLOCK: [2010-02-01 Mon 10:36]--[2010-02-01 Mon 11:26] =>  0:50
     :END:
     
     Comment out the missing mass calculation ... done.

     Run on the data32 ...

     : dhad-10.1.3 gen ntuple data 32 --test  ... OK.
     : dhad-10.1.3 gen ntuple data 32 ... done. 
     : dhad-10.1.3 chk ntuple data 32 ... OK. 

     Run on the data37 ...

     : dhad-10.1.3 gen ntuple data 37 --test  ... OK.
     : dhad-10.1.3 gen ntuple data 37 ... done. 
     : dhad-10.1.3 chk ntuple data 37 ... OK.
    
     Get the last run of the two data37:

     : dhad-10.1.3 chk runs data37_1_dskim_evtstore.root ... 208067-209423 
     : dhad-10.1.3 chk runs data37_1_dskim_evtstore_1.root ...  209423-209423
    
     Update the tcl file ... 

     Update the script ... OK. 

     : dhad-10.1.3 gen ntuple data 37 --test  ... OK.

     Get the last run of the two data32:

     : dhad-10.1.3 chk runs data32_dskim_evtstore.root 202126-202926 
     : dhad-10.1.3 chk runs data32_dskim_evtstore_1.root 202926-203082 

     Update the tcl file ... OK.

     Check the script ... OK.

     : dhad-10.1.3 gen ntuple data 32 --test  ... OK.
     
**** Run on the rest data31, 33, 35, 36 
     :LOGBOOK:
     CLOCK: [2010-02-02 Tue 16:12]--[2010-02-02 Tue 16:14] =>  0:02
     CLOCK: [2010-02-02 Tue 08:53]--[2010-02-02 Tue 08:55] =>  0:02
     :END:

     : dhad-10.1.3 gen ntuple data 31 --test  ... OK.
     : dhad-10.1.3 gen ntuple data 31 ... done.
     : dhad-10.1.3 gen ntuple data 33 ... done.
     : dhad-10.1.3 gen ntuple data 35 ... done.
     : dhad-10.1.3 gen ntuple data 36 ... done.


     : dhad-10.1.3 chk ntuple data 31 ... OK.
     : dhad-10.1.3 chk ntuple data 33 ... OK.
     : dhad-10.1.3 chk ntuple data 35 ... OK.
     : dhad-10.1.3 chk ntuple data 36 ... OK.

**** Run on 537/pb data 
     :LOGBOOK:
     CLOCK: [2010-02-02 Tue 10:12]--[2010-02-02 Tue 10:43] =>  0:31
     CLOCK: [2010-02-02 Tue 08:55]--[2010-02-02 Tue 09:05] =>  0:10
     :END:

     Update the tcl file ... OK.

     Update script ... OK.

     Update the EventToSkip ... OK. 

     : dhad-10.1.3 gen ntuple data 43 --test  ... OK.
     : dhad-10.1.3 gen ntuple data 43 ... done.
     : dhad-10.1.3 gen ntuple data 44 ... done.
     : dhad-10.1.3 gen ntuple data 45 ... done.
     : dhad-10.1.3 gen ntuple data 46 ... done.

     Update the new jobs:

     : dhad-10.1.3 chk runs data43_1_dskim_evtstore.root ... 220898-222622
     : dhad-10.1.3 chk runs data43_1_dskim_evtstore_1.root ... 222622-222626

     : dhad-10.1.3 chk runs data44_1_dskim_evtstore_1.root ... 224551-224553 
     : dhad-10.1.3 chk runs data44_2_dskim_evtstore_1.root ... 225757-225759 
     
     : dhad-10.1.3 chk runs data45_1_dskim_evtstore_1.root ... 227838-227840 
     : dhad-10.1.3 chk runs data46_1_dskim_evtstore_1.root ... 229382-229384 

     Update the tcl ... OK.

*** DONE Extract yields
    :LOGBOOK:
    CLOCK: [2010-02-03 Wed 15:26]--[2010-02-03 Wed 16:09] =>  0:43
    CLOCK: [2010-02-03 Wed 09:30]--[2010-02-03 Wed 10:09] =>  0:39
    CLOCK: [2010-02-03 Wed 08:41]--[2010-02-03 Wed 09:00] =>  0:19
    CLOCK: [2010-02-02 Tue 16:14]--[2010-02-02 Tue 17:56] =>  1:42
    :END:

    : dhad-10.1.2 yld signal single 537ipbv2 ... done.
    
    Run for one mode:

    : cd $dhad/10.1/dat
    : mkdir -p data/281ipb
    : cd data/281ipb
    : ln -s $dhad/dat/data/10.1.3/data3* . 

    : dhad-10.1.3 yld data Single_Dp_to_Kspipipi 281ipb --test  OK.
    : dhad-10.1.3 yld data Single_Dp_to_Kspipipi 281ipb ... OK. 

    Run for 281ipb:

    : dhad-10.1.3 yld data single 281ipb --test OK.
    : dhad-10.1.3 yld data single 281ipb ... done. 
    
    Run for 537ipb:
    
    : cd $dhad/10.1/dat/data
    : mkdir 537ipb
    : cd 537ipb
    : ln -s $dhad/dat/data/10.1.3/data4* . 

    : dhad-10.1.3 yld data Single_Dp_to_Kspipipi 537ipb --test  ... OK.
    : dhad-10.1.3 yld data Single_Dp_to_Kspipipi 537ipb ... OK.

    : dhad-10.1.3 yld data single 537ipb --test ... OK.
    : dhad-10.1.3 yld data single 537ipb ... done. 

    


*** DONE Do the fits
    :LOGBOOK:
    CLOCK: [2010-03-03 Wed 11:18]--[2010-03-03 Wed 12:08] =>  0:50
    CLOCK: [2010-03-03 Wed 11:09]--[2010-03-03 Wed 11:12] =>  0:03
    CLOCK: [2010-03-03 Wed 10:16]--[2010-03-03 Wed 10:37] =>  0:21
    CLOCK: [2010-02-05 Fri 14:10]--[2010-02-05 Fri 14:20] =>  0:10
    CLOCK: [2010-02-04 Thu 09:41]--[2010-02-04 Thu 09:56] =>  0:15
    CLOCK: [2010-02-03 Wed 16:11]--[2010-02-03 Wed 16:56] =>  0:45
    CLOCK: [2010-02-03 Wed 14:44]--[2010-02-03 Wed 15:26] =>  0:42
    CLOCK: [2010-02-03 Wed 13:18]--[2010-02-03 Wed 14:37] =>  1:19
    CLOCK: [2010-02-03 Wed 12:02]--[2010-02-03 Wed 12:09] =>  0:07
    CLOCK: [2010-02-03 Wed 10:09]--[2010-02-03 Wed 12:02] =>  1:53
    :END:

    Fit for one mode:

    : dhad-10.1.3 fit data Single_Dp_to_Kspipipi 281ipb --set interact ... OK.
    : dhad-10.1.3 fit data Single_Dp_to_Kspipipi 281ipb --test ... OK.
    : dhad-10.1.3 fit data Single_Dp_to_Kspipipi 281ipb ... done.

    Fit for all modes: 
    : dhad-10.1.3 fit data single 281ipb --test ... OK.
    : dhad-10.1.3 fit data single 281ipb ... done. 

    : dhad-10.1.3 fit data single 537ipb ... done. 

    Save the figures:

    : dhad-10.1.3 fig data single 281ipb 

    [[./10.1/fig/data_single_281ipb.org][figure]]

    : dhad-10.1.3 fig data single 537ipb 
    
    [[./10.1/fig/data_single_537ipb.org][figure]]

*** DONE Compare the yields for data 281ipb Dskimv2 with v1

    : dhad-10.1.3 tab compare yields data single 7.06/281ipb 281ipb --set label=DSkimv1,DSkimv2
    
    => [[./10.1/tab/compare_yields_data_single_7.06_281ipb_281ipb.org][table]]
    [[./10.1/tab/compare_yields_data_single_7.06_281ipb_281ipb.info][info]] 

*** DONE Compare the yields for data 537ipb between original and new 
    :LOGBOOK:
    CLOCK: [2010-03-05 Fri 09:46]--[2010-03-05 Fri 10:04] =>  0:18
    CLOCK: [2010-03-05 Fri 09:16]--[2010-03-05 Fri 09:46] =>  0:30
    CLOCK: [2010-03-03 Wed 12:08]--[2010-03-03 Wed 12:15] =>  0:07
    CLOCK: [2010-03-03 Wed 11:12]--[2010-03-03 Wed 11:18] =>  0:06
    CLOCK: [2010-03-03 Wed 10:37]--[2010-03-03 Wed 11:09] =>  0:32
    CLOCK: [2010-02-05 Fri 13:35]--[2010-02-05 Fri 14:10] =>  0:35
    CLOCK: [2010-02-05 Fri 09:35]--[2010-02-05 Fri 12:00] =>  2:25
    CLOCK: [2010-02-04 Thu 15:53]--[2010-02-04 Thu 17:35] =>  1:42
    CLOCK: [2010-02-04 Thu 11:11]--[2010-02-04 Thu 12:02] =>  0:51
    CLOCK: [2010-02-04 Thu 09:56]--[2010-02-04 Thu 10:12] =>  0:16
    :END:

    : dhad-10.1.3 tab compare yields data single 7.06/537ipb 537ipb --set label=original,new
    
    => [[./10.1/tab/compare_yields_data_single_7.06_537ipb_537ipb.org][table]]
    [[./10.1/tab/compare_yields_data_single_7.06_537ipb_537ipb.info][info]] 

    Message from Anders:
    
    : I see that there is a change in the D yields. I wanted to confirm
    : that there is also a change in the overall number of entries in
    : the plot you are fitting. (I would guess that this is the case as
    : very clean modes like Kpi seems to be almost as strongly affected
    : more 'dirty modes.)
    : 
    : If it is the case that you clearly have less entries in the histogram
    : I wonder if you have added code to protect against large events etc
    : and you are now throwing away some number of events.
    
*** DONE Compare the input evtfile for mBC fit for data 537ipb between two releases 

    : dhad-10.1.3 tab compare evtfile data single 7.06/537ipb 537ipb 

    | Mode | New Events |
    |------+------------|
    |    0 |          0 |
    |    1 |        444 |
    |    3 |        591 |
    |  200 |         37 |
    |  201 |        836 |
    |  202 |         18 |
    |  203 |       2743 |
    |  204 |       6493 |
    |  205 |         19 | 

    The new events indicates that the =HadronicDNtupleProc= code do have difference between two releases. 

*** DONE Compare the HadronicDNtupleProc code in different releases for data 537ipb

    To confirm it, use the current fitting code to fit the 7.06 537ipb
    data. The difference reflects the compilation of the
    =HadronicDNtupleProc= code in =20080228_FULL= and =20050417_FULL=.

    : cd $dhad/10.1/dat/evt
    : ln -s $dhad/7.06/dat/evt/537ipb/ 537ipbv1
    : dhad-10.1.3 fit data Single_Dp_to_Kspipipi 537ipbv1 --set interact ... OK.
    : dhad-10.1.3 fit data Single_Dp_to_Kspipipi 537ipbv1 --test ... OK.
    : dhad-10.1.3 fit data single 537ipbv1  ... done. 
    
    Save the figure: 
    : dhad-10.1.3 fig data single 537ipbv1
    => [[./10.1/fig/data_single_537ipbv1.org][figure]]

    Make table:
    : dhad-10.1.3 tab compare yields data single 537ipbv1 537ipb --set label=original,new
    => [[./10.1/tab/compare_yields_data_single_537ipbv1_537ipb.org][table]]
    [[./10.1/tab/compare_yields_data_single_537ipbv1_537ipb.info][info]]

*** DONE Check the mBC fitting procedure
    :LOGBOOK:
    CLOCK: [2010-03-08 Mon 15:08]--[2010-03-09 Tue 10:37] => 19:29
    CLOCK: [2010-03-08 Mon 11:14]--[2010-03-08 Mon 11:34] =>  0:20
    CLOCK: [2010-03-08 Mon 10:45]--[2010-03-08 Mon 10:46] =>  0:01
    CLOCK: [2010-03-08 Mon 09:10]--[2010-03-08 Mon 10:03] =>  0:53
    CLOCK: [2010-03-05 Fri 15:13]--[2010-03-05 Fri 15:56] =>  0:43
    CLOCK: [2010-03-05 Fri 10:18]--[2010-03-05 Fri 11:00] =>  0:42
    :END:

    Check the 7.06 mode 1 [[http://www.lepp.cornell.edu/~xs32/private/DHad/7.06/log/qsub/2009-11-23/dhad-2.2_fit_537ipb_-t_d_-m_1.log.o1610364][log file]]:
    : RooDataSet::dataset: "/home/xs32/work/CLEO/analysis/DHad/7.06/dat/evt/537ipb/data_Single_D0_to_Kpipi0__D0B_to_Kpipi0.evt"
    : Contains 386026 entries

    Looked up wrong log files! See [[http://www.lepp.cornell.edu/~xs32/private/DHad/rel-7.06#sec-4.9.20][page]]. Should use [[http://www.lepp.cornell.edu/~xs32/private/DHad/7.06/log/qsub/2009-12-10/dhad-2.2_fit_537ipb_-t_d_-m_1.log.o1632328][log file]]. 
    : RooDataSet::dataset: "/home/xs32/work/CLEO/analysis/DHad/7.06/dat/evt/537ipb/data_Single_D0_to_Kpipi0__D0B_to_Kpipi0.evt"
    : Contains 322930 entries

    Now, it has the same as the evtfile!


    Check the 10.1 mode 1 [[http://www.lepp.cornell.edu/~xs32/private/DHad/10.1/log/537ipb/data_Single_D0_to_Kpipi0__D0B_to_Kpipi0.txt][log file]]:
    : RooDataSet::dataset: "/home/xs32/work/CLEO/analysis/DHad/10.1/dat/evt/537ipb/data_Single_D0_to_Kpipi0__D0B_to_Kpipi0.evt"
    : Contains 322954 entries

    Check the 10.1 mode 1 537ipbv1 [[http://www.lepp.cornell.edu/~xs32/private/DHad/10.1/log/537ipbv1/data_Single_D0_to_Kpipi0__D0B_to_Kpipi0.txt][log file]]:
    : RooDataSet::dataset: "/home/xs32/work/CLEO/analysis/DHad/10.1/dat/evt/537ipbv1/data_Single_D0_to_Kpipi0__D0B_to_Kpipi0.evt"
    : Contains 322930 entries

    Make table to check the combination of the evtfiles:

    : dhad-10.1.3 tab entries evt data single 7.06/537ipb ...
    => [[./10.1/tab/entries_evt_data_single_7.06_537ipb.org][table]]
    [[./10.1/tab/entries_evt_data_single_7.06_537ipb.info][info]]

    : dhad-10.1.3 tab entries evt data single 537ipb ...
     => [[./10.1/tab/entries_evt_data_single_537ipb.org][table]]
     [[./10.1/tab/entries_evt_data_single_537ipb.info][info]]

    : dhad-10.1.3 tab entries evt data single 537ipbv1 ...
     => [[./10.1/tab/entries_evt_data_single_537ipbv1.org][table]]
     [[./10.1/tab/entries_evt_data_single_537ipbv1.info][info]]

     - Compare the mBC fitting procedure
       : dhad-10.1.3 tab compare yields data single 7.06/537ipb 537ipbv1 --set label=original,new

       => [[./10.1/tab/compare_yields_data_single_7.06_537ipb_537ipbv1.org][table]]
       [[./10.1/tab/compare_yields_data_single_7.06_537ipb_537ipbv1.info][info]]

       Used different fitting parameters for the mass and width:
       
       |        | 7.06/537ipb | 537ipb     |
       |--------+-------------+------------|
       | Mass   | 3.7718 GeV  | 3.7724 GeV |
       | Width  | 0.0286 GeV  | 0.0252 GeV |
       | R      | 12.3        | 12.7       |
       | Migrad | Converged   | Failed!    |
     
*** DONE Fit the original evtfiles with the original parameters
    :LOGBOOK:
    CLOCK: [2010-03-10 Wed 16:36]--[2010-03-10 Wed 16:52] =>  0:16
    CLOCK: [2010-03-09 Tue 12:08]--[2010-03-09 Tue 12:17] =>  0:09
    CLOCK: [2010-03-09 Tue 10:37]--[2010-03-09 Tue 10:53] =>  0:16
    :END:
    
    Check the mc=3 case in the fitting code... RooFitModels/RooDEnergyImp.cc... OK.
    
    : cd $dhad/10.1/dat/evt
    : ln -s $dhad/7.06/dat/evt/537ipb/ 537ipbv0
    : dhad-10.1.3 fit data Single_D0_to_Kpi 537ipbv0 --set interact ... OK.
    : dhad-10.1.3 fit data Single_D0_to_Kpi 537ipbv0 --test  ... OK. 
    : dhad-10.1.3 fit data single 537ipbv0 ... OK.

    Save the figure: 
    : dhad-10.1.3 fig data single 537ipbv0
    =>  [[./10.1/fig/data_single_537ipbv0.org][figure]]

    Make table:
    : dhad-10.1.3 tab compare yields data single 7.06/537ipb 537ipbv0 --set label=original,new_env 
    => [[./10.1/tab/compare_yields_data_single_7.06_537ipb_537ipbv0.org][table]]
    [[./10.1/tab/compare_yields_data_single_7.06_537ipb_537ipbv0.info][info]]

    Fit the old with new parameters ... done. 
    
    Fix the dir problem (dhad/src/d-single-m200-281...):
    : cd $dhad/10.1/dat/evt
    : ln -s $dhad/7.06/dat/evt/537ipb/ test
    : dhad-10.1.3 fit data Single_D0_to_Kpi test --set interact ... OK.
    : dhad-10.1.3 fit data Single_D0_to_Kpi test --test ... OK.
    : dhad-10.1.3 fit data Single_D0_to_Kpi test ... problem happend! 
    
    Fixed. 

    Compare the yields :
    : dhad-10.1.3 tab compare yields data single 7.06/537ipb 7.06/537ipbv5 --set label=original,new_para
    => [[./10.1/tab/compare_yields_data_single_7.06_537ipb_7.06_537ipbv5.org][table]]
    [[./10.1/tab/compare_yields_data_single_7.06_537ipb_7.06_537ipbv5.info][info]]
    
*** DONE Use the current fitting code to fit the 281/pb data with Dskim version 1

      : cd $dhad/10.1/dat/evt
      : ln -s $dhad/7.06/dat/evt/regular3 281ipbv1
      : dhad-10.1.3 fit data Single_Dp_to_Kspipipi 281ipbv1 --set interact ... OK.
      : dhad-10.1.3 fit data Single_Dp_to_Kspipipi 281ipbv1 --test ... OK.
      : dhad-10.1.3 fit data single 281ipbv1 ... done. 

      Save the figure:
      : dhad-10.1.3 fig data single 281ipbv1
      => [[./10.1/fig/data_single_281ipbv1.org][figure]]
 
      Make table:
      : dhad-10.1.3 tab compare yields data single 281ipbv1 281ipb --set label=original,new
      => [[./10.1/tab/compare_yields_data_single_281ipbv1_281ipb.org][table]]
      [[./10.1/tab/compare_yields_data_single_281ipbv1_281ipb.info][info]]
       
      
*** DONE Compare the yields between 537/pb data and 281/pb data

    : dhad-10.1.3 tab divide yields data single 537ipb 281ipb 
    => [[./10.1/tab/divide_yields_data_single_537ipb_281ipb.org][table]]
    [[./10.1/tab/divide_yields_data_single_537ipb_281ipb.info][info]]

** Process 818/pb mBC fit (10.1.5) [100%]
*** DONE Diag double tag fit paras
    :LOGBOOK:
    CLOCK: [2010-04-23 Fri 11:48]--[2010-04-23 Fri 11:56] =>  0:08
    CLOCK: [2010-04-22 Thu 14:20]--[2010-04-22 Thu 14:22] =>  0:02
    CLOCK: [2010-04-22 Thu 11:46]--[2010-04-22 Thu 12:19] =>  0:33
    :END:

    Fit for one mode:

    : dhad-10.1.5 fit signal Double_Dp_to_KKpi__Dm_to_KKpi 818ipbv5/resolution --set interact OK.

    Fit for diagonal double:

    : dhad-10.1.5 fit signal diagdouble 818ipbv5/resolution --set interact OK. 
    : dhad-10.1.5 fit signal diagdouble 818ipbv5/resolution --test OK. 
    : dhad-10.1.5 fit signal diagdouble 818ipbv5/resolution ... done.

    Save the figures:

    : dhad-10.1.5 fig signal diagdouble 818ipbv5/resolution 
    [[./10.1/fig/signal_diagdouble_818ipbv5_resolution.org][figure]]


    Make reso paras table:

    : dhad-10.1.5 tab para momentum resolution 818ipbv5

    => [[./10.1/tab/para_momentum_resolution_818ipbv5.org][table]] ([[./10.1/tab/para_momentum_resolution_818ipbv5.info][info]])

    Quick comparison with the 281ipb, most of them has smaller error. 

    
*** DONE mBC fit double tag
    :LOGBOOK:
    CLOCK: [2010-04-23 Fri 14:14]--[2010-04-23 Fri 14:16] =>  0:02
    CLOCK: [2010-04-23 Fri 11:56]--[2010-04-23 Fri 12:00] =>  0:04
    :END:

    Fit for one mode, check the resolution paramters ... OK.
    
    : dhad-10.1.5 fit signal Double_Dp_to_KKpi__Dm_to_KKpi 818ipbv5 --set interact OK. 
    : dhad-10.1.5 fit data Double_Dp_to_KKpi__Dm_to_KKpi 818ipbv5 --set interact OK.

    Fit for double:

    : dhad-10.1.5 fit signal double 818ipbv5 --set interact OK.
    : dhad-10.1.5 fit data double 818ipbv5 --set interact OK.

    : dhad-10.1.5 fit signal double 818ipbv5 --test OK.
    : dhad-10.1.5 fit data double 818ipbv5 --test OK.

    : dhad-10.1.5 fit signal double 818ipbv5 ... done
    : dhad-10.1.5 fit data double 818ipbv5 ...  done.
 
    Save the figures:

    : dhad-10.1.5 fig signal double 818ipbv5 
    [[./10.1/fig/signal_double_818ipbv5.org][figure]]

    : dhad-10.1.5 fig data double 818ipbv5 
    [[./10.1/fig/data_double_818ipbv5.org][figure]]

    
 


*** DONE mBC fit single tag 
    :LOGBOOK:
    CLOCK: [2010-04-23 Fri 18:48]--[2010-04-23 Fri 18:50] =>  0:02
    CLOCK: [2010-04-23 Fri 14:17]--[2010-04-23 Fri 14:40] =>  0:23
    :END:
    
    Fit for one mode ... (upadte the fitting script for 818ipb) ... OK.

    : dhad-10.1.5 fit signal Single_Dp_to_Kspipipi 818ipbv5 --set interact OK.

    : dhad-10.1.5 fit signal Single_Dp_to_Kspipipi 818ipbv5 --test OK.
    : dhad-10.1.5 fit data Single_Dp_to_Kspipipi 818ipbv5 --set interact OK.

    Fit all single tags:

    : dhad-10.1.5 fit signal single 818ipbv5  --test OK.
    : dhad-10.1.5 fit signal single 818ipbv5 ... done.

    : dhad-10.1.5 fit data single 818ipbv5  --test ... OK.
    : dhad-10.1.5 fit data single 818ipbv5 ... done.

    Save figures:

    : dhad-10.1.5 fig signal single 818ipbv5 
    [[./10.1/fig/signal_single_818ipbv5.org][figure]]

    : dhad-10.1.5 fig data single 818ipbv5 
    [[./10.1/fig/data_single_818ipbv5.org][figure]]

*** DONE fit for crossfeed
    :LOGBOOK:
    CLOCK: [2010-04-24 Sat 08:24]--[2010-04-24 Sat 08:27] =>  0:03
    CLOCK: [2010-04-23 Fri 21:12]--[2010-04-23 Fri 21:15] =>  0:03
    CLOCK: [2010-04-23 Fri 20:39]--[2010-04-23 Fri 20:40] =>  0:01
    CLOCK: [2010-04-23 Fri 18:52]--[2010-04-23 Fri 19:07] =>  0:15
    :END:

    Test on one mode:

    : dhad-10.1.5 yld crossfeeds signal Single_Dp_to_Kspipipi 818ipbv5 --set interact --test OK.

    For single:

    : dhad-10.1.5 yld crossfeeds signal single 818ipbv5 --set interact --test OK.
    : dhad-10.1.5 yld crossfeeds signal single 818ipbv5 --test OK.
    : dhad-10.1.5 yld crossfeeds signal single 818ipbv5 ... done. 

    Fit crossfeeds diagnoal:

    : dhad-10.1.5 fit crossfeeds signal diag 818ipbv5  --set interact:mode=1:sign=1 OK.
    : dhad-10.1.5 fit crossfeeds signal diag 818ipbv5  --test OK.
    : dhad-10.1.5 fit crossfeeds signal diag 818ipbv5 ... done. 

    Save the plots:
    : dhad-10.1.5 fig crossfeeds signal diag 818ipbv5 

    [[./10.1/fig/crossfeeds_signal_diag_818ipbv5.org][figure]]

    Fit crossfeeds nondiagnoal:

    : dhad-10.1.5 fit crossfeeds signal nondiag 818ipbv5  --set interact:mode=1,3 OK.
    : dhad-10.1.5 fit crossfeeds signal nondiag 818ipbv5  --test OK.
    : dhad-10.1.5 fit crossfeeds signal nondiag 818ipbv5 ... done. 

    Save the plots:
    : dhad-10.1.5 fig crossfeeds signal nondiag 818ipbv5
    [[./10.1/fig/crossfeeds_signal_nondiag_818ipbv5.org][figure]]

*** DONE BF fit
    :LOGBOOK:
    CLOCK: [2010-04-24 Sat 08:27]--[2010-04-24 Sat 08:37] =>  0:10
    :END:

    Make the yldfile:

    : dhad-10.1.5 tab brf yields_and_efficiencies 818ipbv5 ... OK.

    Compare with the 281ipbv5 ... all different.

    BF fit:

    : dhad-10.1.5 brf 818ipbv5 ... done. 

    Compare with PDG 2004:

    : dhad-10.1.5 tab compare data_results_pdg 818ipbv5
    => [[./10.1/tab/compare_data_results_pdg_818ipbv5.org][table]] ([[./10.1/tab/compare_data_results_pdg_818ipbv5.info][info]])

    Compare with 281ipbv0 (PRD 2007):

    : dhad-10.1.5 tab compare brf_data_results 281ipbv0 818ipbv5

    => [[./10.1/tab/compare_brf_data_results_281ipbv0_818ipbv5.org][table]] ([[./10.1/tab/compare_brf_data_results_281ipbv0_818ipbv5.info][info]])



** BF fit with Kpi crossfeeds only and scale up bkgs (10.1.6) [100%]
*** DONE Scale up the backgrounds
    :LOGBOOK:
    CLOCK: [2010-05-03 Mon 15:59]--[2010-05-03 Mon 16:12] =>  0:13
    :END:

    Multiply 2.91 to absolute valutes for external_bkg_bfs ... using scripts.

    
*** DONE BF fits
    :LOGBOOK:
    CLOCK: [2010-05-03 Mon 23:08]--[2010-05-03 Mon 23:18] =>  0:10
    :END:

    : cd $dhad/10.1/dat/fit
    : ln -s 818ipbv5 818ipbv6
    : mkdir $dhad/10.1/dat/brf/818ipbv6/
    : cp $dhad/10.1/dat/brf/818ipbv5/yields_and_efficiencies $dhad/10.1/dat/brf/818ipbv6/

    : dhad-10.1.6 brf 818ipbv6 ... done. 

    : crossfeed is using D0_to_Kpi fakes D0B_to_Kpi:  0.000917
    : crossfeed is using D0B_to_Kpi fakes D0_to_Kpi:  0.00107
    
    Compare with 281ipbv0 (PRD 2007):

    : dhad-10.1.6 tab compare brf_data_results 281ipbv0 818ipbv6
    => [[./10.1/tab/compare_brf_data_results_281ipbv0_818ipbv6.org][table]] ([[./10.1/tab/compare_brf_data_results_281ipbv0_818ipbv6.info][info]])


** DSkimv1 Cuts (10.1.7) [100%]
*** DONE Fit Paras
    :LOGBOOK:
    CLOCK: [2010-05-28 Fri 16:58]--[2010-05-28 Fri 17:09] =>  0:11
    :END:

    : dhad-10.1.7 fit signal Double_Dp_to_KKpi__Dm_to_KKpi 818ipbv7/resolution --set interact OK.

    Fit for diagonal double:

    : dhad-10.1.7 fit signal diagdouble 818ipbv7/resolution --set interact OK.
    : dhad-10.1.7 fit signal diagdouble 818ipbv7/resolution --test OK.
    : dhad-10.1.7 fit signal diagdouble 818ipbv7/resolution ... done.
    : dhad-10.1.7 fig signal diagdouble 818ipbv7/resolution 

    [[./10.1/fig/signal_diagdouble_818ipbv7_resolution.org][figure]]

    Make the parameters table:

    : dhad-10.1.7 tab para momentum resolution 818ipbv7
    => [[./10.1/tab/para_momentum_resolution_818ipbv7.org][table]] ([[./10.1/tab/para_momentum_resolution_818ipbv7.info][info]]) 


*** DONE mBC fit
    :LOGBOOK:
    CLOCK: [2010-05-29 Sat 14:21]--[2010-05-29 Sat 14:24] =>  0:03
    CLOCK: [2010-05-29 Sat 13:16]--[2010-05-29 Sat 13:24] =>  0:08
    CLOCK: [2010-05-29 Sat 10:47]--[2010-05-29 Sat 10:53] =>  0:06
    :END:

    Fit single tag MC:

    : dhad-10.1.7 fit signal Single_Dp_to_Kspipipi 818ipbv7 --set interact OK.
    : dhad-10.1.7 fit signal single 818ipbv7  --test OK.
    : dhad-10.1.7 fit signal single 818ipbv7  ...  done. 
    : dhad-10.1.7 fig signal single 818ipbv7  
    [[./10.1/fig/signal_single_818ipbv7.org][figure]]

    Fit single tag data: 

    : dhad-10.1.7 fit data Single_Dp_to_Kspipipi 818ipbv7 --set interact 
    : dhad-10.1.7 fit data single 818ipbv7  --test OK.
    : dhad-10.1.7 fit data single 818ipbv7  ... done. 
    : dhad-10.1.7 fig data single 818ipbv7  
    [[./10.1/fig/data_single_818ipbv7.org][figure]]

    Fit double tag MC:
    : dhad-10.1.7 fit signal Double_Dp_to_KKpi__Dm_to_KKpi 818ipbv7 --set interact OK.
    : dhad-10.1.7 fit signal double 818ipbv7  --test OK. 
    : dhad-10.1.7 fit signal double 818ipbv7 ... done. 
    : dhad-10.1.7 fig signal double 818ipbv7 
    [[./10.1/fig/signal_double_818ipbv7.org][figure]]



    Fit double tag data:
    : dhad-10.1.7 fit data Double_Dp_to_KKpi__Dm_to_KKpi 818ipbv7 --set interact OK.
    : dhad-10.1.7 fit data double 818ipbv7  --test OK.
    : dhad-10.1.7 fit data double 818ipbv7  ... done. 
    : dhad-10.1.7 fig data double 818ipbv7 
    [[./10.1/fig/data_double_818ipbv7.org][figure]]



*** DONE Crossfeeds
    :LOGBOOK:
    CLOCK: [2010-05-29 Sat 22:18]--[2010-05-29 Sat 22:21] =>  0:03
    CLOCK: [2010-05-29 Sat 18:04]--[2010-05-29 Sat 18:08] =>  0:04
    CLOCK: [2010-05-29 Sat 17:22]--[2010-05-29 Sat 17:24] =>  0:02
    CLOCK: [2010-05-29 Sat 14:24]--[2010-05-29 Sat 14:44] =>  0:20
    :END:

    Get the yields: 
    : dhad-10.1.7 yld crossfeeds signal single 818ipbv7 --set interact --test OK.
    : dhad-10.1.7 yld crossfeeds signal single 818ipbv7 --test OK.
    : dhad-10.1.7 yld crossfeeds signal single 818ipbv7  ...  done.

    Fit diagonal: 

    : dhad-10.1.7 fit crossfeeds signal diag 818ipbv7  --set interact:mode=1:sign=-1 OK.
    : dhad-10.1.7 fit crossfeeds signal diag 818ipbv7  --test OK.
    : dhad-10.1.7 fit crossfeeds signal diag 818ipbv7  ... done.
    : dhad-10.1.7 fig crossfeeds signal diag 818ipbv7  
    [[./10.1/fig/crossfeeds_signal_diag_818ipbv7.org][figure]]


    Fit non-diagonal: 

    : dhad-10.1.7 fit crossfeeds signal nondiag 818ipbv7  --set interact:mode=1,3 OK.
    : dhad-10.1.7 fit crossfeeds signal nondiag 818ipbv7  --test OK.
    : dhad-10.1.7 fit crossfeeds signal nondiag 818ipbv7 ... done.
    : dhad-10.1.7 fig crossfeeds signal nondiag 818ipbv7 
    [[./10.1/fig/crossfeeds_signal_nondiag_818ipbv7.org][figure]]

    Make the yldfile: 
    : dhad-10.1.7 tab brf yields_and_efficiencies 818ipbv7 ... OK.

*** DONE BF fit
    :LOGBOOK:
    CLOCK: [2010-05-29 Sat 22:21]--[2010-05-29 Sat 22:40] =>  0:19
    :END:

    BF fit:
    : dhad-10.1.7 brf 818ipbv7 ... done. 
    : crossfeed is using D0_to_Kpi fakes D0B_to_Kpi:  0.000917
    : crossfeed is using D0B_to_Kpi fakes D0_to_Kpi:  0.001068

    Compare with 281ipbv0: 
   : dhad-10.1.7 tab compare brf_data_results 281ipbv0 818ipbv7

    => [[./10.1/tab/compare_brf_data_results_281ipbv0_818ipbv7.org][table]] ([[./10.1/tab/compare_brf_data_results_281ipbv0_818ipbv7.info][info]])   

    Agrees very well with the 281/pb result! 

    Compare with 281ipbv7:
   : dhad-10.1.7 tab compare brf_data_results 281ipbv7 818ipbv7
    => [[./10.1/tab/compare_brf_data_results_281ipbv7_818ipbv7.org][table]] ([[./10.1/tab/compare_brf_data_results_281ipbv7_818ipbv7.info][info]])              


** Trace the low BFs for the neutral Ds [100%]
*** DONE Solved by restoring to the DSkimv1 cuts.


* Misc
** Response to Chul Su's question on mBC shift in MC or data (10.1.5) [100%]
*** DONE The initial question
    :LOGBOOK:
    CLOCK: [2010-03-25 Thu 11:14]--[2010-03-25 Thu 11:36] =>  0:22
    :END:
    
    Chul Su's [[https://hypernews.lepp.cornell.edu/HyperNews/get/Prelimbugs/96.html][posting]] : 

    : I just have noticed that there is noticeable shift
    : (or difference) in Mbc variable in MC, while I look at
    : D+ --> K- pi+ pi+ with official generic MC for 3770 energy
    : in eventstore.  I have attached a PS plot of Mbc in MC and
    : data (hmm, why HyperNews does not allow PDF file as an attachment?)
    : 
    : Anyone see something like this shift? Or I may be doing something
    : wrong? Peak in MC looks shifted higher than that in MC (to me).
    : Xin reported something on beam energy before, may be it's related?
    : I now remember that some other students also saw this before...
    : At some point we raised mass of D+ in MC to match current PDG,
    : I cannot remember how big and when, ~0.3MeV? after official MC was
    : generated?
    : 
    : Anyway, if anyone saw this and have explanations please let me know.
    : 
    : Regards,
    : Chul Su
    : 
    : Some explanations on the plot:
    :  o MC is sum of all generic DDbar MC at 3770 data in official event
    :    store.
    :  o Data is sum of all 3770 data sets in event store.
    :  o It is not from D-skim, but I reconstructed D+ --> K+ X+ X-
    :    myself.  Where, X+- represent good track w/o PID.
    :  o dMbc is a plain [E_beam^2 - p^2_D]^(1/2) - M_D+(PDG, 1869.62GeV),
    :    w/o crossing angle consideration.
    :  o MC is normalized by integrated luminosity and cross sections of
    :    ddbar(3.66 nb), continuum (13.92 nb), tau-pair (3 nb), and
    :    radiative return (3.2 nb).
    :  o step in data inside dMbc +-5MeV is due to the fact that I blinded
    :    delta E and Mbc signal region (box +-20MeV and +-5MeV) in real data
    :    for my own analysis.
    : 
    :   Attachment:
    :   https://hypernews.lepp.cornell.edu:443/HyperNews/get/AUX/2010/03/22/15.49-10481-dmbc_Kee.ps

    Then [[https://hypernews.lepp.cornell.edu:443/HyperNews/get/DHadGroup/242.html][posting]] on DHad HN:

    : Hi Xin and related people in D-hadronic group,
    : 
    : Sorry for cross posting, but I expected some answers
    : from you guys on this issue
    :  https://hypernews.lepp.cornell.edu/HyperNews/get/Prelimbugs/96.html
    : as you are (still) actively working on this subject
    : and D+ --> K- pi+pi+ is one of major mode, so I think
    : you should have some explanation on this?
    : If the beam energy is not the cause of this, then
    : D+ mass in PDG is really maybe off?    

    
*** DONE Make the tables and respond
    :LOGBOOK:
    CLOCK: [2010-03-25 Thu 14:37]--[2010-03-25 Thu 15:09] =>  0:32
    CLOCK: [2010-03-25 Thu 14:33]--[2010-03-25 Thu 14:37] =>  0:04
    CLOCK: [2010-03-25 Thu 11:37]--[2010-03-25 Thu 12:40] =>  1:03
    :END:

    Make the comparison table of the D-mass between signal MC and data:

    : dhad-10.1.5 tab compare para md 7.06/regular3/d 7.06/regular/s --set label=Data[GeV],MC[GeV]

    => [[./10.1/tab/compare_para_md_7.06_regular3_d_7.06_regular_s.org][table]] ([[./10.1/tab/compare_para_md_7.06_regular3_d_7.06_regular_s.info][info]])
    
    Make the table for new env ... => [[./10.1/tab/compare_para_md_10.1_281ipbv5_d_10.1_281ipbv5_s.org][table]] ([[./10.1/tab/compare_para_md_10.1_281ipbv5_d
    _10.1_281ipbv5_s.info][info]]) 

    : dhad-10.1.5 tab compare para md 10.1/281ipbv5/d 10.1/281ipbv5/s --set label=Data[GeV],MC[GeV]

    Now we do see the 0.3 MeV change. 

    Check the particle defination in the MC generation ... [[http://www.lepp.cornell.edu/~xs32/private/DHad/9.03/tab/diff_pdl_2005_2008_common.html][table]] ... increased 0.3MeV. 

    Respond to Chul Su and DHad HN ... [[https://hypernews.lepp.cornell.edu/HyperNews/get/DHadGroup/242/2.html][post]] sent. 

** Square root scale plot (10.1.2) [50%]
*** DONE First Test
    :LOGBOOK:
    CLOCK: [2010-02-01 Mon 11:26]--[2010-02-01 Mon 12:04] =>  0:38
    CLOCK: [2010-01-11 Mon 17:04]--[2010-01-11 Mon 17:29] =>  0:25
    CLOCK: [2010-01-11 Mon 16:29]--[2010-01-11 Mon 16:35] =>  0:06
    :END:
    
    Message from Peter:

    : You need to use the ROOT installed in /nfs/cor/user/ponyisi/root5/ -
    : running ". ~ponyisi/bin/root5switch" will fix your environment to use
    : this ROOT.  YOu can then select sqrt scale by using SetLogy(2) or
    : SetLogx(2).    

    Try:

    : ~ponyisi/bin/root5switch
    : echo $ROOTSYS ... not work.

    Again:
    : . ~ponyisi/bin/root5switch
    : echo $ROOTSYS ... OK.

    Test a plot:

    [[./10.1/fig/testrootscale.C][testrootscale.C]]

    Noticed the change. 

*** STARTED Own env
    :LOGBOOK:
    CLOCK: [2010-02-01 Mon 13:33]--[2010-02-01 Mon 15:52] =>  2:19
    :END:

    Now works on one file [[./src/10.1.2/fit/linear.C][linear.C]]. 

    Need to make it work using root square scale ... 

    Fit for one mode:

    : dhad-10.1.2 fig signal Single_Dp_to_Kspipipi 537ipbv2 --set sqarerootscale



** WAITING Test the SL5 (10.1.12)
   :LOGBOOK:
   CLOCK: [2010-09-21 Tue 15:57]--[2010-09-21 Tue 16:23] =>  0:26
   CLOCK: [2010-09-21 Tue 13:00]--[2010-09-21 Tue 13:53] =>  0:53
   :END:
*** DONE Code Valid test
    Run a signal MC:
    : ssh xs32@lnx6212
    : setdhad 10.1.12 
    : cp -r $dhad/src/10.1.1/gen $dhad/src/10.1.12
    
    CLEOG:
    
    : dhad-10.1.12 gen cleog Single_Dp_to_Kspipipi task 1 -t 

    Edit the sh to make it interactive ... OK. Good for 10 CLEOG jobs. 

    NTuple:

    : dhad-10.1.12 gen ntuple Single_Dp_to_Kspipipi 281ipb -t 

    Edit the sh file ... running OK.

    Extract yield: 

    : cd $dhad/10.1/dat/signal
    : ln -s 281ipbv5 281ipbv12 
    : dhad-10.1.12 yld signal Single_Dp_to_Kspipipi 281ipbv12 -s interact -t OK.

    Fit mBC:

    : cd $dhad/10.1/dat/evt
    : ln -s 281ipbv10 281ipbv12
    : cd $dhad/10.1/tab/
    : ln -s para_momentum_resolution_281ipbv10.txt para_momentum_resolution_281ipbv12.txt
    : dhad-10.1.12 fit signal Single_Dp_to_Kspipipi 281ipbv12 --set interact -t 

    Need to debug ... done. 

    Waiting for the job to finish ... done. 
*** WAITING Test one Single Tag mode
    :LOGBOOK:
    CLOCK: [2010-09-28 Tue 11:10]--[2010-09-28 Tue 12:34] =>  1:24
    CLOCK: [2010-09-28 Tue 10:02]--[2010-09-28 Tue 10:55] =>  0:53
    CLOCK: [2010-09-28 Tue 08:38]--[2010-09-28 Tue 09:44] =>  1:06
    CLOCK: [2010-09-27 Mon 14:26]--[2010-09-27 Mon 16:58] =>  2:32
    CLOCK: [2010-09-27 Mon 09:19]--[2010-09-27 Mon 10:51] =>  1:32
    CLOCK: [2010-09-24 Fri 15:07]--[2010-09-24 Fri 17:51] =>  2:44
    CLOCK: [2010-09-23 Thu 09:01]--[2010-09-23 Thu 09:09] =>  0:08
    :END:

    All of the CLEOG files have been removed before. Must start from
    scratch. 

    Start from the CLEOG:

    : sl l5
    : setdhad 10.1.12 
    : dhad-10.1.12 gen cleog Single_Dp_to_Kspipipi task 1 -s interact -t  OK.

    Need the logfile name ... done. 

    : dhad-10.1.12 gen cleog Single_Dp_to_Kspipipi task 1 -s bg -t  OK.
    : dhad-10.1.12 gen cleog Single_Dp_to_Kspipipi task 1 -s bg  OK.

    : dhad-10.1.12 gen cleog Single_Dp_to_Kspipipi task 1 -s bg  & ... done. 
    : dhad-10.1.12 gen cleog Single_Dp_to_Kspipipi task 2 -s bg  & ... done. 
    : dhad-10.1.12 gen cleog Single_Dp_to_Kspipipi task 3 -s bg  & ... done.

    : dhad-10.1.12 chk cleog Single_Dp_to_Kspipipi task 1-3 ... OK.

    : dhad-10.1.12 gen cleog Single_Dp_to_Kspipipi task 4 -s bg  & ... done.  
    : dhad-10.1.12 gen cleog Single_Dp_to_Kspipipi task 5 -s bg  & ... done.
    : dhad-10.1.12 gen cleog Single_Dp_to_Kspipipi task 6 -s bg  & ... done.


    : dhad-10.1.12 chk cleog Single_Dp_to_Kspipipi task 4-6 ... OK.

    
    : dhad-10.1.12 gen cleog Single_Dp_to_Kspipipi task 7 -s bg  & ... done.
    : dhad-10.1.12 gen cleog Single_Dp_to_Kspipipi task 8 -s bg  & ... done. 
    : dhad-10.1.12 gen cleog Single_Dp_to_Kspipipi task 9 -s bg  & ... done. 
    : dhad-10.1.12 gen cleog Single_Dp_to_Kspipipi task 10 -s bg  & ... done. 

    : dhad-10.1.12 chk cleog Single_Dp_to_Kspipipi task 7-10 ... OK.

    For the Dm mode: 

    : dhad-10.1.12 gen cleog Single_Dm_to_Kspipipi task 1 -s interact -t OK.

    : dhad-10.1.12 gen cleog Single_Dm_to_Kspipipi task 1 -s bg & ...
    ....
    :  dhad-10.1.12 gen cleog Single_Dm_to_Kspipipi task 10 -s bg & ...

    :  dhad-10.1.12 chk cleog Single_Dm_to_Kspipipi 281ipb OK.



    Pass2:

    : dhad-10.1.12 gen pass2 Single_Dp_to_Kspipipi task 1 -s interact -t OK.
    : dhad-10.1.12 gen pass2 Single_Dp_to_Kspipipi task 1 -s bg -t OK.
    
    : dhad-10.1.12 gen pass2 Single_Dp_to_Kspipipi task 1 -s bg & ... 
    : dhad-10.1.12 gen pass2 Single_Dp_to_Kspipipi task 2 -s bg & ... 
    : dhad-10.1.12 gen pass2 Single_Dp_to_Kspipipi task 3 -s bg & ... 
    : dhad-10.1.12 gen pass2 Single_Dp_to_Kspipipi task 4 -s bg & ... 
    : dhad-10.1.12 gen pass2 Single_Dp_to_Kspipipi task 5 -s bg & ... 
    : dhad-10.1.12 gen pass2 Single_Dp_to_Kspipipi task 6 -s bg & ... 
    : dhad-10.1.12 gen pass2 Single_Dp_to_Kspipipi task 7 -s bg & ... 
    : dhad-10.1.12 gen pass2 Single_Dp_to_Kspipipi task 8 -s bg & ... 
    : dhad-10.1.12 gen pass2 Single_Dp_to_Kspipipi task 9 -s bg & ... 
    : dhad-10.1.12 gen pass2 Single_Dp_to_Kspipipi task 10 -s bg & ... 

    : dhad-10.1.12 chk pass2 Single_Dp_to_Kspipipi 281ipb ... OK.
    
    For Dm: 
    : dhad-10.1.12 gen pass2 Single_Dm_to_Kspipipi task 1 -s interact -t 

    : dhad-10.1.12 gen pass2 Single_Dm_to_Kspipipi task 1 -s bg & to 10 ... 

    : dhad-10.1.12 chk pass2 Single_Dm_to_Kspipipi 281ipb ... 

    
    DSkim:

    : dhad-10.1.12 gen dskim Single_Dp_to_Kspipipi task 1 -s interact -t OK.
    
    : dhad-10.1.12 gen dskim Single_Dp_to_Kspipipi task 1 -s bg & ... to 10 ... done.

    : dhad-10.1.12 chk dskim Single_Dp_to_Kspipipi 281ipb OK.
      
    

    NTuple:

    : dhad-10.1.12 gen ntuple Single_Dp_to_Kspipipi 281ipb -s interact -t OK.
    : dhad-10.1.12 gen ntuple Single_Dp_to_Kspipipi 281ipb -s bg & ...

    

    
    
